{
  "tableName": "messages",
  "columns": [
    {
      "column_name": "id",
      "data_type": "uuid",
      "is_nullable": "NO",
      "column_default": "gen_random_uuid()",
      "character_maximum_length": null,
      "numeric_precision": null,
      "numeric_scale": null
    },
    {
      "column_name": "client_id",
      "data_type": "uuid",
      "is_nullable": "YES",
      "column_default": null,
      "character_maximum_length": null,
      "numeric_precision": null,
      "numeric_scale": null
    },
    {
      "column_name": "sender",
      "data_type": "text",
      "is_nullable": "NO",
      "column_default": null,
      "character_maximum_length": null,
      "numeric_precision": null,
      "numeric_scale": null
    },
    {
      "column_name": "message",
      "data_type": "text",
      "is_nullable": "NO",
      "column_default": null,
      "character_maximum_length": null,
      "numeric_precision": null,
      "numeric_scale": null
    },
    {
      "column_name": "channel",
      "data_type": "text",
      "is_nullable": "NO",
      "column_default": "'chat'::text",
      "character_maximum_length": null,
      "numeric_precision": null,
      "numeric_scale": null
    },
    {
      "column_name": "attachment_url",
      "data_type": "text",
      "is_nullable": "YES",
      "column_default": null,
      "character_maximum_length": null,
      "numeric_precision": null,
      "numeric_scale": null
    },
    {
      "column_name": "created_at",
      "data_type": "timestamp with time zone",
      "is_nullable": "YES",
      "column_default": "now()",
      "character_maximum_length": null,
      "numeric_precision": null,
      "numeric_scale": null
    },
    {
      "column_name": "status",
      "data_type": "text",
      "is_nullable": "YES",
      "column_default": "'new'::text",
      "character_maximum_length": null,
      "numeric_precision": null,
      "numeric_scale": null
    },
    {
      "column_name": "assigned_to",
      "data_type": "uuid",
      "is_nullable": "YES",
      "column_default": null,
      "character_maximum_length": null,
      "numeric_precision": null,
      "numeric_scale": null
    },
    {
      "column_name": "tag",
      "data_type": "text",
      "is_nullable": "YES",
      "column_default": null,
      "character_maximum_length": null,
      "numeric_precision": null,
      "numeric_scale": null
    },
    {
      "column_name": "updated_at",
      "data_type": "timestamp with time zone",
      "is_nullable": "YES",
      "column_default": "now()",
      "character_maximum_length": null,
      "numeric_precision": null,
      "numeric_scale": null
    },
    {
      "column_name": "attachment",
      "data_type": "bytea",
      "is_nullable": "YES",
      "column_default": null,
      "character_maximum_length": null,
      "numeric_precision": null,
      "numeric_scale": null
    },
    {
      "column_name": "attachment_mime",
      "data_type": "text",
      "is_nullable": "YES",
      "column_default": null,
      "character_maximum_length": null,
      "numeric_precision": null,
      "numeric_scale": null
    },
    {
      "column_name": "attachment_name",
      "data_type": "text",
      "is_nullable": "YES",
      "column_default": null,
      "character_maximum_length": null,
      "numeric_precision": null,
      "numeric_scale": null
    },
    {
      "column_name": "attachment_size",
      "data_type": "integer",
      "is_nullable": "YES",
      "column_default": null,
      "character_maximum_length": null,
      "numeric_precision": 32,
      "numeric_scale": 0
    }
  ],
  "constraints": [
    {
      "constraint_type": "CHECK",
      "column_name": null,
      "foreign_table": null,
      "foreign_column": null
    },
    {
      "constraint_type": "CHECK",
      "column_name": null,
      "foreign_table": null,
      "foreign_column": null
    },
    {
      "constraint_type": "CHECK",
      "column_name": null,
      "foreign_table": null,
      "foreign_column": null
    },
    {
      "constraint_type": "CHECK",
      "column_name": null,
      "foreign_table": null,
      "foreign_column": null
    },
    {
      "constraint_type": "FOREIGN KEY",
      "column_name": "client_id",
      "foreign_table": "clients",
      "foreign_column": "id"
    },
    {
      "constraint_type": "FOREIGN KEY",
      "column_name": "assigned_to",
      "foreign_table": "support_users",
      "foreign_column": "id"
    },
    {
      "constraint_type": "PRIMARY KEY",
      "column_name": "id",
      "foreign_table": "messages",
      "foreign_column": "id"
    }
  ],
  "indexes": [
    {
      "indexname": "messages_pkey",
      "indexdef": "CREATE UNIQUE INDEX messages_pkey ON public.messages USING btree (id)"
    },
    {
      "indexname": "idx_messages_client_id",
      "indexdef": "CREATE INDEX idx_messages_client_id ON public.messages USING btree (client_id)"
    },
    {
      "indexname": "idx_messages_channel",
      "indexdef": "CREATE INDEX idx_messages_channel ON public.messages USING btree (channel)"
    },
    {
      "indexname": "idx_messages_status",
      "indexdef": "CREATE INDEX idx_messages_status ON public.messages USING btree (status)"
    },
    {
      "indexname": "idx_messages_created_at",
      "indexdef": "CREATE INDEX idx_messages_created_at ON public.messages USING btree (created_at)"
    }
  ]
}