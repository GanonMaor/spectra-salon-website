var Eo=Object.defineProperty;var Io=(r,e,t)=>e in r?Eo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var z=(r,e,t)=>(Io(r,typeof e!="symbol"?e+"":e,t),t);import{j as a,a as u,F as Oe,A as Oo,u as zo}from"./maps-83a5aac1.js";import{a as Fo,r as y,u as kt,L as Z,R as K,b as Ro,d as Hn,N as Bo,e as mi,B as jo,f as Wo,h as pe}from"./vendor-ed221528.js";import{R as en,B as $n,C as tn,X as rn,Y as nn,T as sn,a as Vn,L as ra,b as na,c as Ho}from"./charts-e1f6428d.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var ia,fi=Fo;{var gi=fi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;ia=function(r,e){gi.usingClientEntryPoint=!0;try{return fi.createRoot(r,e)}finally{gi.usingClientEntryPoint=!1}}}const $o="/.netlify/functions";class Vo{constructor(){this.token=null,this.token=localStorage.getItem("token")}async request(e,t={}){const n=`${$o}${e}`,i={"Content-Type":"application/json",...this.token&&{Authorization:`Bearer ${this.token}`},...t.headers};try{const s=await fetch(n,{...t,headers:i});if(!s.ok){const o=await s.json().catch(()=>({}));throw new Error(o.error||`HTTP ${s.status}`)}return s.json()}catch(s){throw e==="/me"?new Error("No authenticated user (preview mode)"):(console.warn(`API call failed (preview mode): ${e}`,s),s)}}async signup(e){const t=await this.request("/signup",{method:"POST",body:JSON.stringify(e)});return t.token?(this.token=t.token,localStorage.setItem("token",t.token)):this.token=localStorage.getItem("token"),t}async login(e,t){const n=await this.request("/login",{method:"POST",body:JSON.stringify({email:e,password:t})});return n.token?(this.token=n.token,localStorage.setItem("token",n.token)):this.token=localStorage.getItem("token"),n}async logout(){console.log("🔍 Starting logout - Environment:",{hostname:window.location.hostname,protocol:window.location.protocol,isProd:!window.location.hostname.includes("localhost")});try{const e=await this.request("/auth/logout",{method:"POST"});console.log("✅ Server logout successful:",e)}catch(e){console.warn("❌ Server logout failed, continuing with local logout:",e)}finally{this.token=null,localStorage.removeItem("token"),sessionStorage.removeItem("token"),["token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",`token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; domain=${window.location.hostname};`,`token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; domain=.${window.location.hostname};`].forEach(t=>{document.cookie=t}),console.log("🚪 Logout cleanup completed - all tokens cleared")}}async getCurrentUser(){return this.request("/me")}isAuthenticated(){return!!this.token}getToken(){return this.token}async forgotPassword(e){return this.request("/forgot-password",{method:"POST",body:JSON.stringify({email:e})})}async resetPassword(e,t){return this.request("/reset-password",{method:"POST",body:JSON.stringify({token:e,password:t})})}async sendEmail(e){return this.request("/send-email",{method:"POST",body:JSON.stringify(e)})}async createLead(e){return this.request("/leads",{method:"POST",body:JSON.stringify(e)})}async getLeads(e={}){const t=new URLSearchParams(e).toString();return this.request(`/leads?${t}`)}async trackCTA(e){return this.request("/cta-tracking",{method:"POST",body:JSON.stringify(e)})}async updateProfile(e){return this.request("/update-profile",{method:"PUT",body:JSON.stringify(e)})}async getUsers(){return this.request("/get-users")}async checkDatabaseHealth(){return this.request("/db-check")}}const Ie=new Vo;function Un(){try{const r=localStorage.getItem("token")||localStorage.getItem("authToken");return r?{Authorization:`Bearer ${r}`}:{}}catch{return{}}}const sa=y.createContext(void 0);function Uo({children:r}){const[e,t]=y.useState(null),[n,i]=y.useState(!0),s=async()=>{try{i(!0);const d=await Ie.getCurrentUser();t(d.user)}catch(d){console.log("No authenticated user:",d),t(null)}finally{i(!1)}},o=async()=>{try{i(!0),await Ie.logout(),t(null),localStorage.removeItem("token"),window.location.hostname.includes("localhost")||setTimeout(()=>{window.location.reload()},100)}catch(d){console.error("Logout error:",d),t(null)}finally{i(!1)}},l=async(d,h)=>{try{i(!0),console.log("🔑 Attempting login for:",d);const{token:m,user:f}=await Ie.login(d,h);console.log("✅ Login API response:",{token:m,user:f}),localStorage.setItem("token",m),Ie.token=m,await s();const g=await Ie.getCurrentUser();return t(g),console.log("👤 User loaded:",g),{token:m,user:f}}catch(m){throw console.error("❌ Login error:",m),t(null),m}finally{i(!1)}};y.useEffect(()=>{s();const d=h=>{h.key==="token"&&(Ie.token=h.newValue,h.newValue?s():t(null))};return window.addEventListener("storage",d),()=>{window.removeEventListener("storage",d)}},[]);const c={user:e,loading:n,isAuthenticated:!!e,isAdmin:(e==null?void 0:e.role)==="admin",hasRole:d=>(e==null?void 0:e.role)===d,refreshUser:s,logout:o,login:l};return a(sa.Provider,{value:c,children:r})}function fr(){const r=y.useContext(sa);if(r===void 0)throw new Error("useUserContext must be used within a UserProvider");return r}function aa(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r))for(e=0;e<r.length;e++)r[e]&&(t=aa(r[e]))&&(n&&(n+=" "),n+=t);else for(e in r)r[e]&&(n&&(n+=" "),n+=e);return n}function qt(){for(var r,e,t=0,n="";t<arguments.length;)(r=arguments[t++])&&(e=aa(r))&&(n&&(n+=" "),n+=e);return n}function Yo(){for(var r=0,e,t,n="";r<arguments.length;)(e=arguments[r++])&&(t=oa(e))&&(n&&(n+=" "),n+=t);return n}function oa(r){if(typeof r=="string")return r;for(var e,t="",n=0;n<r.length;n++)r[n]&&(e=oa(r[n]))&&(t&&(t+=" "),t+=e);return t}var Yn="-";function qo(r){var e=Xo(r),t=r.conflictingClassGroups,n=r.conflictingClassGroupModifiers,i=n===void 0?{}:n;function s(l){var c=l.split(Yn);return c[0]===""&&c.length!==1&&c.shift(),la(c,e)||Go(l)}function o(l,c){var d=t[l]||[];return c&&i[l]?[].concat(d,i[l]):d}return{getClassGroupId:s,getConflictingClassGroupIds:o}}function la(r,e){var o;if(r.length===0)return e.classGroupId;var t=r[0],n=e.nextPart.get(t),i=n?la(r.slice(1),n):void 0;if(i)return i;if(e.validators.length!==0){var s=r.join(Yn);return(o=e.validators.find(function(l){var c=l.validator;return c(s)}))==null?void 0:o.classGroupId}}var pi=/^\[(.+)\]$/;function Go(r){if(pi.test(r)){var e=pi.exec(r)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}}function Xo(r){var e=r.theme,t=r.prefix,n={nextPart:new Map,validators:[]},i=Zo(Object.entries(r.classGroups),t);return i.forEach(function(s){var o=s[0],l=s[1];Cn(l,n,o,e)}),n}function Cn(r,e,t,n){r.forEach(function(i){if(typeof i=="string"){var s=i===""?e:bi(e,i);s.classGroupId=t;return}if(typeof i=="function"){if(Ko(i)){Cn(i(n),e,t,n);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(function(o){var l=o[0],c=o[1];Cn(c,bi(e,l),t,n)})})}function bi(r,e){var t=r;return e.split(Yn).forEach(function(n){t.nextPart.has(n)||t.nextPart.set(n,{nextPart:new Map,validators:[]}),t=t.nextPart.get(n)}),t}function Ko(r){return r.isThemeGetter}function Zo(r,e){return e?r.map(function(t){var n=t[0],i=t[1],s=i.map(function(o){return typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(l){var c=l[0],d=l[1];return[e+c,d]})):o});return[n,s]}):r}function Jo(r){if(r<1)return{get:function(){},set:function(){}};var e=0,t=new Map,n=new Map;function i(s,o){t.set(s,o),e++,e>r&&(e=0,n=t,t=new Map)}return{get:function(o){var l=t.get(o);if(l!==void 0)return l;if((l=n.get(o))!==void 0)return i(o,l),l},set:function(o,l){t.has(o)?t.set(o,l):i(o,l)}}}var ca="!";function Qo(r){var e=r.separator||":",t=e.length===1,n=e[0],i=e.length;return function(o){for(var l=[],c=0,d=0,h,m=0;m<o.length;m++){var f=o[m];if(c===0){if(f===n&&(t||o.slice(m,m+i)===e)){l.push(o.slice(d,m)),d=m+i;continue}if(f==="/"){h=m;continue}}f==="["?c++:f==="]"&&c--}var g=l.length===0?o:o.substring(d),b=g.startsWith(ca),p=b?g.substring(1):g,x=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:b,baseClassName:p,maybePostfixModifierPosition:x}}}function el(r){if(r.length<=1)return r;var e=[],t=[];return r.forEach(function(n){var i=n[0]==="[";i?(e.push.apply(e,t.sort().concat([n])),t=[]):t.push(n)}),e.push.apply(e,t.sort()),e}function tl(r){return{cache:Jo(r.cacheSize),splitModifiers:Qo(r),...qo(r)}}var rl=/\s+/;function nl(r,e){var t=e.splitModifiers,n=e.getClassGroupId,i=e.getConflictingClassGroupIds,s=new Set;return r.trim().split(rl).map(function(o){var l=t(o),c=l.modifiers,d=l.hasImportantModifier,h=l.baseClassName,m=l.maybePostfixModifierPosition,f=n(m?h.substring(0,m):h),g=!!m;if(!f){if(!m)return{isTailwindClass:!1,originalClassName:o};if(f=n(h),!f)return{isTailwindClass:!1,originalClassName:o};g=!1}var b=el(c).join(":"),p=d?b+ca:b;return{isTailwindClass:!0,modifierId:p,classGroupId:f,originalClassName:o,hasPostfixModifier:g}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var l=o.modifierId,c=o.classGroupId,d=o.hasPostfixModifier,h=l+c;return s.has(h)?!1:(s.add(h),i(c,d).forEach(function(m){return s.add(l+m)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function il(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];var n,i,s,o=l;function l(d){var h=e[0],m=e.slice(1),f=m.reduce(function(g,b){return b(g)},h());return n=tl(f),i=n.cache.get,s=n.cache.set,o=c,c(d)}function c(d){var h=i(d);if(h)return h;var m=nl(d,n);return s(d,m),m}return function(){return o(Yo.apply(null,arguments))}}function te(r){var e=function(n){return n[r]||[]};return e.isThemeGetter=!0,e}var da=/^\[(?:([a-z-]+):)?(.+)\]$/i,sl=/^\d+\/\d+$/,al=new Set(["px","full","screen"]),ol=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ll=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,cl=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Me(r){return bt(r)||al.has(r)||sl.test(r)||Mn(r)}function Mn(r){return _t(r,"length",gl)}function dl(r){return _t(r,"size",ha)}function hl(r){return _t(r,"position",ha)}function ul(r){return _t(r,"url",pl)}function yr(r){return _t(r,"number",bt)}function bt(r){return!Number.isNaN(Number(r))}function ml(r){return r.endsWith("%")&&bt(r.slice(0,-1))}function Rt(r){return xi(r)||_t(r,"number",xi)}function H(r){return da.test(r)}function Bt(){return!0}function Ke(r){return ol.test(r)}function fl(r){return _t(r,"",bl)}function _t(r,e,t){var n=da.exec(r);return n?n[1]?n[1]===e:t(n[2]):!1}function gl(r){return ll.test(r)}function ha(){return!1}function pl(r){return r.startsWith("url(")}function xi(r){return Number.isInteger(Number(r))}function bl(r){return cl.test(r)}function xl(){var r=te("colors"),e=te("spacing"),t=te("blur"),n=te("brightness"),i=te("borderColor"),s=te("borderRadius"),o=te("borderSpacing"),l=te("borderWidth"),c=te("contrast"),d=te("grayscale"),h=te("hueRotate"),m=te("invert"),f=te("gap"),g=te("gradientColorStops"),b=te("gradientColorStopPositions"),p=te("inset"),x=te("margin"),v=te("opacity"),w=te("padding"),N=te("saturate"),k=te("scale"),S=te("sepia"),A=te("skew"),E=te("space"),L=te("translate"),P=function(){return["auto","contain","none"]},M=function(){return["auto","hidden","clip","visible","scroll"]},I=function(){return["auto",H,e]},D=function(){return[H,e]},V=function(){return["",Me]},j=function(){return["auto",bt,H]},_=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},R=function(){return["solid","dashed","dotted","double","none"]},Y=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},de=function(){return["start","end","center","between","around","evenly","stretch"]},F=function(){return["","0",H]},ye=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},ve=function(){return[bt,yr]},ge=function(){return[bt,H]};return{cacheSize:500,theme:{colors:[Bt],spacing:[Me],blur:["none","",Ke,H],brightness:ve(),borderColor:[r],borderRadius:["none","","full",Ke,H],borderSpacing:D(),borderWidth:V(),contrast:ve(),grayscale:F(),hueRotate:ge(),invert:F(),gap:D(),gradientColorStops:[r],gradientColorStopPositions:[ml,Mn],inset:I(),margin:I(),opacity:ve(),padding:D(),saturate:ve(),scale:ve(),sepia:F(),skew:ge(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",H]}],container:["container"],columns:[{columns:[Ke]}],"break-after":[{"break-after":ye()}],"break-before":[{"break-before":ye()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(_(),[H])}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Rt]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",H]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Rt]}],"grid-cols":[{"grid-cols":[Bt]}],"col-start-end":[{col:["auto",{span:["full",Rt]},H]}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":[Bt]}],"row-start-end":[{row:["auto",{span:[Rt]},H]}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",H]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",H]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal"].concat(de())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(de(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(de(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",H,e]}],"min-w":[{"min-w":["min","max","fit",H,Me]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Ke]},Ke,H]}],h:[{h:[H,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",H,Me]}],"max-h":[{"max-h":[H,e,"min","max","fit"]}],"font-size":[{text:["base",Ke,Mn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",yr]}],"font-family":[{font:[Bt]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",H]}],"line-clamp":[{"line-clamp":["none",bt,yr]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",H,Me]}],"list-image":[{"list-image":["none",H]}],"list-style-type":[{list:["none","disc","decimal",H]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[r]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[r]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(R(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Me]}],"underline-offset":[{"underline-offset":["auto",H,Me]}],"text-decoration-color":[{decoration:[r]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",H]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",H]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(_(),[hl])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",dl]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ul]}],"bg-color":[{bg:[r]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[].concat(R(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:R()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(R())}],"outline-offset":[{"outline-offset":[H,Me]}],"outline-w":[{outline:[Me]}],"outline-color":[{outline:[r]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[r]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Me]}],"ring-offset-color":[{"ring-offset":[r]}],shadow:[{shadow:["","inner","none",Ke,fl]}],"shadow-color":[{shadow:[Bt]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":Y()}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ke,H]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[m]}],saturate:[{saturate:[N]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",H]}],duration:[{duration:ge()}],ease:[{ease:["linear","in","out","in-out",H]}],delay:[{delay:ge()}],animate:[{animate:["none","spin","ping","pulse","bounce",H]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Rt,H]}],"translate-x":[{"translate-x":[L]}],"translate-y":[{"translate-y":[L]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",H]}],accent:[{accent:["auto",r]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",H]}],"caret-color":[{caret:[r]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",H]}],fill:[{fill:[r,"none"]}],"stroke-w":[{stroke:[Me,yr]}],stroke:[{stroke:[r,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var yl=il(xl);function J(...r){return yl(qt(r))}const Pn=({isOpen:r,onClose:e,title:t,children:n,size:i="md",showCloseButton:s=!0})=>(y.useEffect(()=>{const l=c=>{c.key==="Escape"&&e()};return r&&(document.addEventListener("keydown",l),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",l),document.body.style.overflow="unset"}},[r,e]),r?u("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:e}),u("div",{className:J("relative w-full mx-4 bg-white rounded-xl shadow-2xl border border-gray-100",{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl"}[i]),onClick:l=>l.stopPropagation(),children:[(t||s)&&u("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[t&&a("h2",{className:"text-xl font-semibold text-gray-900",children:t}),s&&a("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Close modal",children:a("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a("div",{className:"p-6",children:n})]})]}):null),oe=y.forwardRef(({className:r,variant:e="default",size:t="default",asChild:n=!1,...i},s)=>{const o="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50",l={default:"bg-blue-600 text-white hover:bg-blue-700",destructive:"bg-red-600 text-white hover:bg-red-700",outline:"border border-gray-300 bg-white hover:bg-gray-50",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200",ghost:"hover:bg-gray-100",link:"text-blue-600 underline hover:no-underline"},c={default:"h-10 px-4 py-2",sm:"h-9 px-3",lg:"h-11 px-6",icon:"h-10 w-10"};return n?y.cloneElement(y.Children.only(i.children),{className:J(o,l[e],c[t],r),ref:s,...i}):a("button",{className:J(o,l[e],c[t],r),ref:s,...i})});oe.displayName="Button";const ua=({isOpen:r,onClose:e,onConfirm:t,title:n,message:i,confirmText:s="Confirm",cancelText:o="Cancel",variant:l="default",loading:c=!1})=>a(Pn,{isOpen:r,onClose:e,title:n,size:"sm",children:u("div",{className:"space-y-6",children:[a("p",{className:"text-gray-600 leading-relaxed",children:i}),u("div",{className:"flex gap-3 justify-end",children:[a(oe,{variant:"outline",onClick:e,disabled:c,children:o}),a(oe,{variant:l,onClick:t,disabled:c,children:c?u("div",{className:"flex items-center gap-2",children:[a("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Loading..."]}):s})]})]})}),ma=y.createContext(void 0),vl=({children:r})=>{const[e,t]=y.useState([]),n=y.useCallback(s=>{const o=Math.random().toString(36).substring(7),l={...s,id:o};t(c=>[...c,l]),setTimeout(()=>{t(c=>c.filter(d=>d.id!==o))},s.duration||5e3)},[]),i=y.useCallback(s=>{t(o=>o.filter(l=>l.id!==s))},[]);return u(ma.Provider,{value:{addToast:n,removeToast:i},children:[r,a(wl,{toasts:e,removeToast:i})]})},wl=({toasts:r,removeToast:e})=>r.length===0?null:a("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:r.map(t=>a(Nl,{toast:t,onRemove:()=>e(t.id)},t.id))}),Nl=({toast:r,onRemove:e})=>{const t={success:"bg-green-50 border-green-200 text-green-800",error:"bg-red-50 border-red-200 text-red-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800",info:"bg-blue-50 border-blue-200 text-blue-800"},n={success:"✅",error:"❌",warning:"⚠️",info:"ℹ️"};return u("div",{className:J("flex items-center gap-3 p-4 rounded-lg border shadow-lg min-w-80 animate-in slide-in-from-right",t[r.type]),children:[a("span",{className:"text-lg",children:n[r.type]}),a("span",{className:"flex-1 font-medium",children:r.message}),a("button",{onClick:e,className:"text-current opacity-70 hover:opacity-100 transition-opacity",children:"×"})]})},fa=()=>{const r=y.useContext(ma);if(!r)throw new Error("useToast must be used within ToastProvider");return r},qn=()=>{var f;const{user:r,isAuthenticated:e,isAdmin:t,logout:n}=fr();kt();const[i,s]=y.useState(!1),[o,l]=y.useState(!1),[c,d]=y.useState(!1),{addToast:h}=fa(),m=async()=>{l(!0);try{await n(),h({type:"success",message:"Successfully logged out",duration:3e3})}catch(g){console.error("Sign out error:",g),h({type:"error",message:"Error during logout. Please try again.",duration:5e3}),localStorage.removeItem("auth_token"),sessionStorage.removeItem("auth_token"),window.location.href="/"}finally{l(!1),s(!1)}};return u("nav",{className:"bg-white/95 backdrop-blur-md shadow-lg border-b border-gray-100/50 sticky top-0 z-50",children:[a("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u("div",{className:"flex items-center justify-between h-16 sm:h-18 lg:h-20",children:[a("div",{className:"flex items-center",children:a(Z,{to:"/",className:"flex-shrink-0 group",children:u("div",{className:"relative flex items-center justify-center",children:[a("div",{className:"absolute inset-0 bg-gradient-to-r from-[#EAB776]/20 via-[#B18059]/20 to-[#EAB776]/20 rounded-xl blur-lg group-hover:blur-xl transition-all duration-300 opacity-0 group-hover:opacity-100"}),a("img",{className:"relative h-6 w-auto sm:h-7 lg:h-8 transition-all duration-300 group-hover:scale-105",src:"/spectra-logo-new.png",alt:"Spectra - AI-Powered Color Intelligence",onError:g=>{console.log("New logo failed to load, using fallback"),g.currentTarget.src="/spectra_logo.png"}})]})})}),a("div",{className:"hidden md:block",children:u("div",{className:"ml-10 flex items-baseline space-x-4",children:[a(Z,{to:"/",className:"text-gray-600 hover:text-[#B18059] px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 hover:bg-[#EAB776]/10",children:"Home"}),a(Z,{to:"/about",className:"text-gray-600 hover:text-[#B18059] px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 hover:bg-[#EAB776]/10",children:"About"}),a(Z,{to:"/ugc-offer",className:"text-gray-600 hover:text-[#B18059] px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 hover:bg-[#EAB776]/10",children:"Special Offer"})]})}),a("div",{className:"md:hidden",children:a("button",{type:"button","aria-label":"Toggle menu","aria-expanded":c,onClick:()=>d(g=>!g),className:"inline-flex items-center justify-center rounded-md p-2 text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-300",children:c?a("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}):a("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})})}),a("div",{className:"hidden md:flex items-center gap-3",children:e?u("div",{className:"flex items-center gap-3",children:[u(Z,{to:"/profile",className:"flex items-center gap-2 text-gray-700 hover:text-[#B18059] px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 hover:bg-[#EAB776]/10",children:[a("span",{children:"👤"}),a("span",{className:"hidden sm:inline",children:(r==null?void 0:r.full_name)||((f=r==null?void 0:r.email)==null?void 0:f.split("@")[0])})]}),t&&u(Z,{to:"/admin",className:"flex items-center gap-2 text-purple-600 hover:text-purple-700 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 hover:bg-purple-50",children:[a("span",{children:"👑"}),a("span",{className:"hidden sm:inline",children:"Dashboard"})]}),u("button",{onClick:()=>s(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 hover:bg-red-50",children:[a("span",{children:"🚪"}),a("span",{className:"hidden sm:inline",children:"Sign Out"})]})]}):u(Oe,{children:[a(Z,{to:"/login",className:"text-gray-600 hover:text-[#B18059] px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 hover:bg-[#EAB776]/10",children:"Sign In"}),a(Z,{to:"/signup?trial=true",className:"bg-gradient-to-r from-[#EAB776] to-[#B18059] text-white px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 hover:from-[#B18059] hover:to-[#8B5D44] shadow-md hover:shadow-lg",children:"Sign Up"})]})})]})}),a("div",{className:`md:hidden ${c?"block":"hidden"}`,children:a("div",{className:"px-4 pb-4 border-t border-gray-100 bg-white/95 backdrop-blur-md shadow",children:u("div",{className:"flex flex-col gap-2 py-3",children:[a(Z,{to:"/",onClick:()=>d(!1),className:"px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-100",children:"Home"}),a(Z,{to:"/about",onClick:()=>d(!1),className:"px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-100",children:"About"}),a(Z,{to:"/ugc-offer",onClick:()=>d(!1),className:"px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-100",children:"Special Offer"}),a("div",{className:"border-t border-gray-100 my-2"}),e?u(Oe,{children:[a(Z,{to:"/profile",onClick:()=>d(!1),className:"px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-100",children:"Profile"}),t&&a(Z,{to:"/admin",onClick:()=>d(!1),className:"px-3 py-2 rounded-lg text-purple-700 hover:bg-purple-50",children:"Dashboard"}),a("button",{onClick:()=>{s(!0),d(!1)},className:"text-left px-3 py-2 rounded-lg text-red-600 hover:bg-red-50",children:"Sign Out"})]}):u(Oe,{children:[a(Z,{to:"/login",onClick:()=>d(!1),className:"px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-100",children:"Sign In"}),a(Z,{to:"/signup?trial=true",onClick:()=>d(!1),className:"px-3 py-2 rounded-md text-white bg-gradient-to-r from-[#EAB776] to-[#B18059]",children:"Sign Up"})]})]})})}),a(ua,{isOpen:i,onClose:()=>s(!1),onConfirm:m,title:"Confirm Logout",message:"Are you sure you want to log out?",confirmText:"Yes, Log Out",cancelText:"Cancel",variant:"destructive",loading:o})]})};class et{constructor(){this.metrics=new Map,this.callbacks=[]}static getInstance(){return et.instance||(et.instance=new et),et.instance}onUpdate(e){this.callbacks.push(e)}notify(e,t,n){this.callbacks.forEach(i=>i(e,t,n))}startTiming(e){this.metrics.set(e,performance.now()),this.notify("performance",`⏱️ Started timing: ${e}`)}endTiming(e){const t=this.metrics.get(e);if(!t){const s=`No start time found for: ${e}`;return console.warn(s),this.notify("warning",`⚠️ ${s}`),0}const n=performance.now()-t,i=`⚡ ${e}: ${n.toFixed(2)}ms`;return console.log(i),this.notify("performance",i,{label:e,duration:n}),this.metrics.delete(e),n}measureChunkLoading(){const e=new PerformanceObserver(t=>{for(const n of t.getEntries())if(n.name.includes("chunk")||n.name.includes(".js")||n.name.includes(".css")){const i=`📦 Resource loaded: ${n.name.split("/").pop()} (${n.duration.toFixed(2)}ms)`;console.log(i),this.notify("performance",i,n)}});typeof window<"u"&&"PerformanceObserver"in window&&e.observe({entryTypes:["navigation","resource"]})}logBundleSize(){if("navigator"in window&&"connection"in navigator){const e=navigator.connection,t=`🌐 Network: ${e.effectiveType}, Downlink: ${e.downlink}Mbps`;console.log(t),this.notify("info",t,e)}}logComponentRender(e,t){const n=t?`🔄 ${e} rendered in ${t.toFixed(2)}ms`:`🔄 ${e} rendered`;console.log(n),this.notify("info",n,{componentName:e,renderTime:t})}logError(e,t){const n=`❌ Error${t?` in ${t}`:""}: ${e}`;console.error(n),this.notify("error",n,{error:e,context:t})}logApiCall(e,t,n,i){const s=n?`🌐 API ${t} ${e} - ${i} (${n.toFixed(2)}ms)`:`🌐 API ${t} ${e} started`;console.log(s),this.notify("info",s,{url:e,method:t,duration:n,status:i})}}if(typeof window<"u"){const r=et.getInstance();r.measureChunkLoading(),r.logBundleSize(),window.addEventListener("error",e=>{r.logError(e.error||e.message,"Global Error Handler")}),window.addEventListener("unhandledrejection",e=>{r.logError(e.reason,"Unhandled Promise Rejection")})}const kl=()=>{const[r,e]=y.useState(!1),[t,n]=y.useState([]),[i,s]=y.useState("all"),o=y.useRef(null);et.getInstance(),y.useEffect(()=>{o.current&&(o.current.scrollTop=o.current.scrollHeight)},[t]),y.useEffect(()=>{},[]),y.useEffect(()=>{const f=console.log,g=console.error,b=console.warn;return console.log=(...p)=>{var x,v,w;((x=p[0])!=null&&x.includes("⚡")||(v=p[0])!=null&&v.includes("📦")||(w=p[0])!=null&&w.includes("🌐"))&&l("performance",p.join(" ")),f.apply(console,p)},console.error=(...p)=>{l("error",p.join(" "),p),g.apply(console,p)},console.warn=(...p)=>{l("warning",p.join(" "),p),b.apply(console,p)},()=>{console.log=f,console.error=g,console.warn=b}},[]);const l=(f,g,b)=>{const p={id:Date.now().toString(),timestamp:new Date,type:f,message:g,details:b};n(x=>[...x.slice(-99),p])},c=()=>n([]),d=t.filter(f=>i==="all"||f.type===i),h=f=>{switch(f){case"error":return"text-red-400";case"warning":return"text-yellow-400";case"success":return"text-green-400";case"performance":return"text-blue-400";default:return"text-gray-300"}},m=f=>{switch(f){case"error":return"❌";case"warning":return"⚠️";case"success":return"✅";case"performance":return"⚡";default:return"ℹ️"}};return u(Oe,{children:[a("button",{onClick:()=>e(!r),className:"fixed bottom-4 right-4 z-50 bg-gray-900 text-white p-3 rounded-full shadow-lg hover:bg-gray-800 transition-colors",title:"Open/Close Dev Terminal",children:r?"📟":"🔧"}),r&&u("div",{className:"fixed bottom-16 right-4 z-40 w-96 h-96 bg-gray-900 border border-gray-700 rounded-lg shadow-2xl flex flex-col",children:[a("div",{className:"bg-gray-800 p-3 rounded-t-lg border-b border-gray-700",children:u("div",{className:"flex items-center justify-between",children:[a("h3",{className:"text-white font-mono text-sm",children:"🔧 Dev Terminal"}),u("div",{className:"flex gap-2",children:[u("select",{value:i,onChange:f=>s(f.target.value),className:"bg-gray-700 text-white text-xs px-2 py-1 rounded",children:[a("option",{value:"all",children:"All"}),a("option",{value:"info",children:"Info"}),a("option",{value:"performance",children:"Performance"}),a("option",{value:"warning",children:"Warnings"}),a("option",{value:"error",children:"Errors"}),a("option",{value:"success",children:"Success"})]}),a("button",{onClick:c,className:"bg-red-600 hover:bg-red-700 text-white text-xs px-2 py-1 rounded",children:"Clear"})]})]})}),a("div",{ref:o,className:"flex-1 overflow-y-auto p-2 bg-gray-900 font-mono text-xs",children:d.length===0?a("div",{className:"text-gray-500 text-center mt-8",children:"No logs to display..."}):d.map(f=>u("div",{className:"mb-2 leading-tight",children:[u("div",{className:"flex items-start gap-2",children:[a("span",{className:"text-gray-500 shrink-0",children:f.timestamp.toLocaleTimeString("he-IL")}),a("span",{className:"shrink-0",children:m(f.type)}),a("span",{className:`flex-1 ${h(f.type)}`,children:f.message})]}),f.details&&a("div",{className:"text-gray-400 text-xs mt-1 mr-16 bg-gray-800 p-1 rounded",children:JSON.stringify(f.details,null,2)})]},f.id))}),a("div",{className:"bg-gray-800 p-2 rounded-b-lg border-t border-gray-700 text-xs text-gray-400",children:u("div",{className:"flex justify-between",children:[u("span",{children:["Logs: ",d.length]}),u("span",{children:["HMR: ","🔴"]}),a("span",{children:"Mode: Dev"})]})})]})]})},_l="modulepreload",Sl=function(r,e){return new URL(r,e).href},yi={},Cl=function(e,t,n){if(!t||t.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(t.map(s=>{if(s=Sl(s,n),s in yi)return;yi[s]=!0;const o=s.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!n)for(let h=i.length-1;h>=0;h--){const m=i[h];if(m.href===s&&(!o||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const d=document.createElement("link");if(d.rel=o?"stylesheet":_l,o||(d.as="script",d.crossOrigin=""),d.href=s,document.head.appendChild(d),o)return new Promise((h,m)=>{d.addEventListener("load",h),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},gr=({className:r=""})=>a("div",{className:`animate-spin rounded-full h-6 w-6 border-b-2 border-white ${r}`}),ga=()=>{const r=g=>{try{typeof window<"u"&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push(g),console.log("📊 GTM Event pushed:",g))}catch(b){console.warn("Failed to push GTM event:",b)}};return{pushEvent:r,trackLeadSubmission:g=>{r({event:"lead_submission",event_category:"Lead Generation",event_action:"Form Submit",event_label:g.source_page,lead_source:g.utm_source||"direct",lead_page:g.source_page,user_email:g.email,utm_source:g.utm_source,utm_medium:g.utm_medium,utm_campaign:g.utm_campaign,company_name:g.company_name,full_name:g.full_name})},trackPageView:(g,b)=>{r({event:"page_view",page_path:g,page_title:b||document.title})},trackCTAClick:(g,b,p)=>{r({event:"cta_click",event_category:"CTA",event_action:"Click",event_label:g,cta_location:b,cta_path:p});try{const x={full_name:"CTA Click",email:"cta@spectra.local",phone:void 0,company_name:void 0,message:`cta=${g}; location=${b}; path=${p||""}`,source_page:typeof window<"u"?window.location.pathname:"unknown",utm_source:typeof window<"u"&&new URLSearchParams(window.location.search).get("utm_source")||void 0,utm_medium:typeof window<"u"&&new URLSearchParams(window.location.search).get("utm_medium")||void 0,utm_campaign:typeof window<"u"&&new URLSearchParams(window.location.search).get("utm_campaign")||void 0};fetch("/.netlify/functions/leads",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x),keepalive:!0}).catch(()=>{})}catch{}},trackVideoPlay:(g,b)=>{r({event:"video_play",event_category:"Video",event_action:"Play",event_label:g,video_location:b})},trackVideoPause:(g,b)=>{r({event:"video_pause",event_category:"Video",event_action:"Pause",event_label:g,video_current_time:b})},trackDemoBooking:g=>{r({event:"demo_booking",event_category:"Conversion",event_action:"Demo Book",event_label:g,value:1})},trackTrialSignup:g=>{r({event:"trial_signup",event_category:"Conversion",event_action:"Trial Start",event_label:g,value:1})},trackFeatureView:g=>{r({event:"feature_view",event_category:"Feature",event_action:"View",event_label:g})},trackSocialClick:(g,b)=>{r({event:"social_click",event_category:"Social",event_action:b,event_label:g})},trackScrollDepth:(g,b)=>{r({event:"scroll_depth",event_category:"Engagement",event_action:"Scroll",event_label:`${g}%`,page_path:b,scroll_depth:g})},trackDownload:(g,b)=>{r({event:"file_download",event_category:"Download",event_action:b,event_label:g})},trackError:(g,b,p)=>{r({event:"error",event_category:"Error",event_action:g,event_label:b,page_path:p})}}},Ml=y.lazy(()=>Cl(()=>Promise.resolve().then(()=>Fl),void 0,import.meta.url).then(r=>({default:r.ClientCarousel}))),Pl=()=>{const[r,e]=y.useState(!1),t=kt(),{trackCTAClick:n,trackPageView:i}=ga();y.useEffect(()=>{const o="ugc_popup_shown",l="ugc_popup_closed_at",c="ugc_current_page",d="ugc_left_home_page",h=localStorage.getItem(o),m=localStorage.getItem(l),f=localStorage.getItem(d);localStorage.setItem(c,"home");let g=2e4,b=!0;if(h&&m&&(f?(g=4e4,localStorage.removeItem(d)):b=!1),!b)return;const p=setTimeout(()=>{e(!0),localStorage.setItem(o,"true")},g);return()=>clearTimeout(p)},[]),y.useEffect(()=>{const o=()=>{localStorage.getItem("ugc_current_page")==="home"&&localStorage.setItem("ugc_left_home_page","true")},l=()=>{document.hidden&&localStorage.getItem("ugc_current_page")==="home"&&localStorage.setItem("ugc_left_home_page","true")};return window.addEventListener("beforeunload",o),document.addEventListener("visibilitychange",l),()=>{window.removeEventListener("beforeunload",o),document.removeEventListener("visibilitychange",l)}},[]);const s=()=>{e(!1),localStorage.setItem("ugc_popup_closed_at",Date.now().toString())};return u(Oe,{children:[u("section",{className:"relative pt-20 pb-8 sm:pt-24 sm:pb-12 lg:pt-32 lg:pb-16 overflow-hidden min-h-[90vh] sm:min-h-screen",children:[a("div",{className:"absolute inset-0 gradient-bg-hero"}),a("div",{className:"absolute inset-0 opacity-[0.015]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='80' height='80' viewBox='0 0 80 80' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23c79c6d' fill-opacity='1'%3E%3Ccircle cx='40' cy='40' r='0.8'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),a("div",{className:"relative max-w-6xl mx-auto px-4 sm:px-8 lg:px-16",children:u("div",{className:"text-center",children:[u("div",{className:"flex items-center justify-center gap-2 sm:gap-3 mb-8 sm:mb-12",children:[a("div",{className:"w-1 h-1 sm:w-1.5 sm:h-1.5 bg-gradient-to-r from-spectra-gold-light to-spectra-gold rounded-full shadow-sm"}),a("span",{className:"text-spectra-gold-dark text-[10px] sm:text-xs font-semibold uppercase tracking-[0.2em] sm:tracking-[0.25em] opacity-90 px-2 text-center",children:"Trusted by 1,500+ Hair Professionals"}),a("div",{className:"w-1 h-1 sm:w-1.5 sm:h-1.5 bg-gradient-to-r from-spectra-gold to-spectra-gold-dark rounded-full shadow-sm"})]}),u("div",{className:"mb-10 sm:mb-14 lg:mb-20 transform scale-[0.9]",children:[a("h1",{className:"text-5xl sm:text-6xl md:text-7xl lg:text-8xl xl:text-9xl font-extralight text-spectra-charcoal mb-4 sm:mb-5 lg:mb-7 leading-[0.9] tracking-[-0.02em]",children:"Stop Losing"}),a("h1",{className:"text-5xl sm:text-6xl md:text-7xl lg:text-8xl xl:text-9xl font-extralight text-spectra-charcoal mb-4 sm:mb-5 lg:mb-7 leading-[0.9] tracking-[-0.02em]",children:"Money on"}),a("h1",{className:"text-5xl sm:text-6xl md:text-7xl lg:text-8xl xl:text-9xl font-light text-transparent bg-clip-text bg-gradient-to-r from-spectra-gold-light via-spectra-gold to-spectra-gold-dark leading-[0.9] tracking-[-0.02em]",children:"Wasted Hair Color"})]}),u("p",{className:"transform scale-[0.9] text-lg sm:text-xl md:text-2xl lg:text-3xl xl:text-4xl text-spectra-charcoal-light mb-12 sm:mb-16 lg:mb-20 leading-[1.3] sm:leading-[1.2] font-light max-w-xs sm:max-w-2xl lg:max-w-5xl mx-auto tracking-[-0.01em] px-2 sm:px-0",children:["Spectra's"," ",a("span",{className:"font-semibold text-gradient-spectra",children:"AI-powered platform"})," ","cuts color waste by ",a("span",{className:"font-semibold text-gradient-spectra",children:"85%"})," ","and saves salons",u("span",{className:"font-semibold text-gradient-spectra",children:[" ","up to $10,000+ a year"]}),". Get set up in"," ",a("span",{className:"font-semibold text-gradient-spectra",children:"5 minutes"}),"."]}),u("div",{className:"transform scale-[0.85] flex flex-col sm:flex-row gap-4 sm:gap-6 justify-center items-center mb-16 sm:mb-20 lg:mb-24 px-4 sm:px-0",children:[a(Z,{to:"/signup?trial=true",className:"inline-block px-8 py-4 bg-blue-500 hover:bg-blue-600 text-white font-semibold text-lg rounded-full transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02] text-center min-w-fit",onClick:()=>n("Start Free Trial","Hero Section"),children:"Start Free Trial"}),u("button",{className:"group flex items-center gap-3 sm:gap-4 text-spectra-charcoal-light hover:text-spectra-gold font-medium text-base sm:text-lg transition-all duration-300 px-4 sm:px-8 py-3 sm:py-4 justify-center min-w-fit",onClick:()=>n("Watch Demo","Hero Section"),children:[a("div",{className:"w-12 h-12 sm:w-14 sm:h-14 bg-gradient-to-br from-spectra-cream-dark to-spectra-cream group-hover:from-spectra-gold/10 group-hover:to-spectra-gold-light/10 rounded-full flex items-center justify-center transition-all duration-300 shadow-sm hover:shadow-md border border-spectra-gold/10 group-hover:border-spectra-gold/20 flex-shrink-0",children:a("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 ml-0.5 sm:ml-1",fill:"currentColor",viewBox:"0 0 20 20",children:a("path",{d:"M8 5v10l8-5-8-5z"})})}),u("div",{className:"text-left",children:[a("div",{className:"font-semibold",children:"Watch Demo"}),a("div",{className:"text-sm text-spectra-gold-dark",children:"2 minutes"})]})]})]}),a("div",{className:"mb-6 sm:mb-8",children:a("p",{className:"text-base sm:text-lg text-spectra-charcoal-light font-light px-4 sm:px-0",children:"Don't just take our word for it..."})}),a("div",{className:"mb-8 sm:mb-12 -mx-4 sm:mx-0",children:a(y.Suspense,{fallback:a(gr,{}),children:a(Ml,{})})}),u("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-2 sm:gap-4 mb-6 sm:mb-8 px-4 sm:px-0",children:[a("div",{className:"flex gap-1",children:[...Array(5)].map((o,l)=>a("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-spectra-gold drop-shadow-sm",fill:"currentColor",viewBox:"0 0 20 20",children:a("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},l))}),a("span",{className:"text-spectra-charcoal-light text-sm sm:text-base font-medium text-center",children:"4.9 from 650+ reviews"})]}),u("div",{className:"text-center px-4 sm:px-0",children:[a("p",{className:"text-base sm:text-lg text-spectra-charcoal-light font-light mb-4 sm:mb-6",children:"Ready to see it in action?"}),a("div",{className:"w-px h-6 sm:h-8 bg-gradient-to-b from-spectra-gold/50 to-transparent mx-auto"})]})]})})]}),r&&a("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/60 px-2 py-4",children:u("div",{className:"relative w-full max-w-sm bg-white rounded-2xl shadow-2xl p-4 flex flex-col",children:[a("button",{onClick:s,className:"absolute top-3 right-3 w-8 h-8 flex items-center justify-center text-gray-500 hover:text-black","aria-label":"Close",children:a("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),u("div",{className:"mb-4 text-center",children:[a("span",{className:"inline-block bg-pink-100 text-pink-600 text-xs font-bold rounded-full px-3 py-1 mb-2",children:"AMAZING OPPORTUNITY"}),a("h2",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Join Our Content"}),a("h3",{className:"text-lg font-semibold text-pink-500 mb-2",children:"Creators Plan"}),a("p",{className:"text-gray-600 text-sm mb-2",children:"An incredible opportunity to join our content creators program with tons of amazing gifts!"})]}),u("div",{className:"space-y-4 mb-6",children:[u("div",{className:"flex flex-col items-center",children:[a("div",{className:"w-8 h-8 bg-pink-100 rounded-full flex items-center justify-center mb-1",children:a("svg",{className:"w-4 h-4 text-pink-500",fill:"currentColor",viewBox:"0 0 20 20",children:a("circle",{cx:"10",cy:"10",r:"10"})})}),a("span",{className:"text-gray-700 text-sm text-center",children:"Free professional equipment worth $2,000+"})]}),u("div",{className:"flex flex-col items-center",children:[a("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center mb-1",children:a("svg",{className:"w-4 h-4 text-purple-500",fill:"currentColor",viewBox:"0 0 20 20",children:a("circle",{cx:"10",cy:"10",r:"10"})})}),a("span",{className:"text-gray-700 text-sm text-center",children:"Exclusive brand partnerships & collaborations"})]}),u("div",{className:"flex flex-col items-center",children:[a("div",{className:"w-8 h-8 bg-amber-100 rounded-full flex items-center justify-center mb-1",children:a("svg",{className:"w-4 h-4 text-amber-500",fill:"currentColor",viewBox:"0 0 20 20",children:a("circle",{cx:"10",cy:"10",r:"10"})})}),a("span",{className:"text-gray-700 text-sm text-center",children:"Monthly surprise gift packages"})]}),u("div",{className:"flex flex-col items-center",children:[a("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mb-1",children:a("svg",{className:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:a("circle",{cx:"10",cy:"10",r:"10"})})}),a("span",{className:"text-gray-700 text-sm text-center",children:"VIP access to new products & features"})]})]}),u("div",{className:"mt-auto space-y-3",children:[a("button",{className:"w-full bg-gradient-to-r from-pink-500 to-purple-500 text-white font-bold py-3 rounded-xl shadow-lg text-base",onClick:()=>{t("/ugc-offer"),s()},children:"🚀 I Want to Join & Get Gifts!"}),a("button",{className:"w-full border border-gray-300 text-gray-700 font-medium py-3 rounded-xl bg-white",children:"Tell Me More"})]})]})})]})},pa=()=>a("section",{className:"pt-16 pb-24 bg-gradient-to-b from-transparent via-spectra-cream/5 to-white",children:u("div",{className:"max-w-6xl mx-auto px-8 sm:px-12 lg:px-16",children:[u("div",{className:"text-center mb-16",children:[u("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-light text-spectra-charcoal mb-4",children:["See Spectra In"," ",a("span",{className:"text-gradient-spectra font-semibold",children:"Action"})]}),a("p",{className:"text-lg text-spectra-charcoal-light max-w-2xl mx-auto",children:"Watch a complete walkthrough of how Spectra transforms your daily workflow"})]}),a("div",{className:"flex justify-center mb-16",children:a("div",{className:"relative max-w-5xl w-full",children:u("div",{className:"relative group gpu",children:[a("div",{className:"absolute -inset-12 bg-gradient-to-br from-spectra-gold/15 via-spectra-gold-light/8 to-transparent rounded-[4rem] blur-2xl group-hover:blur-3xl transition-all duration-700 will-change-transform"}),u("div",{className:"relative",children:[u("div",{className:"bg-gradient-to-b from-gray-800 via-gray-900 to-gray-800 rounded-t-3xl p-3 shadow-2xl",children:[a("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 w-6 h-6 opacity-30",children:a("div",{className:"w-full h-full bg-gradient-to-br from-gray-300 to-gray-500 rounded-lg"})}),u("div",{className:"bg-black rounded-2xl overflow-hidden relative shadow-inner",children:[a("div",{className:"aspect-video relative z-20",children:a("iframe",{className:"w-full h-full rounded-2xl relative z-30",src:"https://www.youtube.com/embed/VA6F3PjUEX8?autoplay=0&mute=0&controls=1&modestbranding=1&rel=0&showinfo=0",title:"Spectra Hair Salon Demo",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0,loading:"eager"})}),a("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 via-transparent to-transparent z-10 rounded-2xl pointer-events-none"})]})]}),u("div",{className:"bg-gradient-to-b from-gray-200 to-gray-300 rounded-b-3xl h-12 shadow-xl relative",children:[a("div",{className:"absolute top-3 left-1/2 transform -translate-x-1/2 w-40 h-6 bg-gradient-to-b from-gray-100 to-gray-200 rounded-xl shadow-inner border border-gray-200"}),a("div",{className:"absolute top-2 left-12 right-12 h-2 bg-gradient-to-r from-transparent via-gray-300/30 to-transparent rounded-full"})]})]}),a("div",{className:"absolute -bottom-8 left-1/2 transform -translate-x-1/2 w-4/5 h-8 bg-gradient-to-b from-black/10 to-transparent rounded-full blur-xl"}),a("div",{className:"absolute top-1/4 -left-6 w-3 h-1/2 bg-gradient-to-r from-spectra-gold/15 to-transparent blur-lg"}),a("div",{className:"absolute top-1/4 -right-6 w-3 h-1/2 bg-gradient-to-l from-spectra-gold-light/15 to-transparent blur-lg"})]})})}),a("div",{className:"text-center mb-12",children:a("p",{className:"text-lg text-spectra-charcoal-light font-light",children:"Here's what you can expect:"})}),a("div",{className:"flex justify-center mb-16",children:a("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-8 max-w-4xl",children:[{value:"85%",label:"Less Waste",color:"from-green-500 to-green-400",accent:"border-green-500/20",desc:"Reduce color waste dramatically"},{value:"40%",label:"More Profit",color:"from-blue-500 to-blue-400",accent:"border-blue-500/20",desc:"Increase your bottom line"},{value:"5min",label:"Setup",color:"from-orange-500 to-yellow-400",accent:"border-orange-500/20",desc:"Quick and easy installation"}].map((r,e)=>a("div",{className:"group relative",children:u("div",{className:`card-glass p-8 border ${r.accent} hover:scale-105 text-center`,children:[a("div",{className:`text-4xl lg:text-5xl font-light bg-gradient-to-r ${r.color} bg-clip-text text-transparent mb-3 drop-shadow-sm`,children:r.value}),a("div",{className:"text-sm text-spectra-gold-dark font-semibold uppercase tracking-wider mb-2",children:r.label}),a("div",{className:"text-xs text-spectra-charcoal-light",children:r.desc})]})},e))})}),u("div",{className:"text-center",children:[a("p",{className:"text-spectra-charcoal-light font-light text-lg mb-8",children:"Experience the technology behind the magic"}),a("div",{className:"w-px h-12 bg-gradient-to-b from-spectra-gold/50 to-transparent mx-auto"})]})]})}),hn=[{title:"Check In",description:"Client arrives and checks in using our simple interface",image:"/stap 1 chack in.jpeg",alt:"Client checking in at salon reception"},{title:"Select Service",description:"Choose the hair service and color treatment needed",image:"/stepn 2 select service.jpeg",alt:"Selecting hair service on tablet"},{title:"Scan Tube",description:"Scan the hair color tube to track usage automatically",image:"/step 3 scan tube.jpeg",alt:"Scanning hair color tube with barcode scanner"},{title:"Squeeze Color",description:"Dispense the exact amount needed - no waste, perfect results",image:"/step 4 squiz the color.jpeg",alt:"Dispensing hair color from tube"},{title:"Track & Save",description:"System automatically tracks usage and calculates savings",image:"/step_5.jpg",alt:"Final step showing tracking and savings dashboard"}],vi=[{id:"inventory-tracking",title:"Real-Time Inventory",description:"Track every tube in real-time. Know exactly what you have and when to reorder.",image:"/inventory.png",position:"top-left"},{id:"color-matching",title:"Smart Color Matching",description:"AI-powered color analysis for perfect matches every time.",image:"/assets/Smart Color Tracking.png",position:"top-right"},{id:"trend-analytics",title:"Trend Analytics",description:"Stay ahead with real-time trend analysis and predictions.",image:"/assets/ai-featuer.png",position:"bottom-left"},{id:"client-history",title:"Client History",description:"Complete client profiles with color history and preferences.",image:"/profile-kendall.jpg",position:"bottom-right"}],Tl=()=>{const[r,e]=y.useState(null);return a("section",{className:"py-16 bg-gradient-to-br from-gray-50 to-white overflow-hidden",children:u("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u("div",{className:"text-center mb-16",children:[a("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Smart Color Intelligence"}),a("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Revolutionary AI-powered system that transforms how salons manage colors, track inventory, and delight clients."})]}),a("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-16",children:vi.map(t=>u("div",{className:`bg-white rounded-xl shadow-sm border border-gray-100 p-6 cursor-pointer transition-all duration-300 hover:shadow-lg hover:scale-105 ${r===t.id?"ring-2 ring-blue-500 shadow-lg scale-105":""}`,onClick:()=>e(r===t.id?null:t.id),children:[a("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center mb-4",children:a("span",{className:"text-2xl",children:"🎨"})}),a("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t.title}),a("p",{className:"text-gray-600 text-sm",children:t.description})]},t.id))}),r&&a("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-8 transition-all duration-500",children:vi.filter(t=>t.id===r).map(t=>u("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[u("div",{children:[a("h3",{className:"text-3xl font-bold text-gray-900 mb-4",children:t.title}),a("p",{className:"text-lg text-gray-600 mb-6",children:t.description}),u("div",{className:"space-y-4",children:[u("div",{className:"flex items-center space-x-3",children:[a("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a("span",{className:"text-gray-700",children:"Real-time updates"})]}),u("div",{className:"flex items-center space-x-3",children:[a("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a("span",{className:"text-gray-700",children:"AI-powered insights"})]}),u("div",{className:"flex items-center space-x-3",children:[a("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a("span",{className:"text-gray-700",children:"Mobile-friendly interface"})]})]})]}),a("div",{className:"relative",children:a("img",{src:t.image,alt:t.title,className:"w-full h-64 object-cover rounded-xl shadow-lg"})})]},t.id))})]})})},ba=({backgroundImage:r="https://images.unsplash.com/photo-1521590832167-7bcbfaa6381f?q=80&w=2940&auto=format&fit=crop",title:e="Ready to",subtitle:t="Connect?",description:n="Let's transform your salon together. We're here to help you succeed."})=>{const{trackSocialClick:i,trackDemoBooking:s}=ga();return u("section",{className:"relative py-20 lg:py-32 overflow-hidden max-w-full",children:[a("div",{className:"absolute inset-0 z-0",style:{backgroundImage:`
            linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.8)),
            url('${r}')
          `,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed"}}),u("div",{className:"absolute inset-0 overflow-hidden",children:[a("div",{className:"absolute top-20 left-20 w-96 h-96 bg-gradient-to-br from-white/5 to-transparent rounded-full blur-3xl animate-pulse"}),a("div",{className:"absolute bottom-32 right-16 w-80 h-80 bg-gradient-to-br from-blue-400/10 to-purple-500/10 rounded-full blur-3xl animate-pulse delay-1000"}),a("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-72 h-72 bg-gradient-to-br from-amber-400/8 to-orange-500/8 rounded-full blur-3xl animate-pulse delay-500"}),a("div",{className:"absolute top-10 right-32 w-64 h-64 bg-gradient-to-br from-pink-400/5 to-purple-400/5 rounded-full blur-2xl animate-pulse delay-2000"}),a("div",{className:"absolute bottom-10 left-32 w-48 h-48 bg-gradient-to-br from-cyan-400/8 to-blue-400/8 rounded-full blur-2xl animate-pulse delay-3000"})]}),u("div",{className:"relative z-10 max-w-7xl mx-auto px-8 sm:px-12 lg:px-16",children:[u("div",{className:"text-center mb-16",children:[u("div",{className:"inline-flex items-center gap-4 bg-white/10 backdrop-blur-3xl rounded-full px-8 py-4 mb-8 border border-white/20 shadow-2xl",children:[a("div",{className:"w-2 h-2 bg-gradient-to-r from-white to-gray-300 rounded-full animate-pulse"}),a("span",{className:"text-white/90 text-sm font-semibold uppercase tracking-[0.3em]",children:"Get In Touch"}),a("div",{className:"w-2 h-2 bg-gradient-to-r from-blue-400 to-cyan-300 rounded-full animate-pulse"})]}),a("h2",{className:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-extralight text-white mb-6 leading-[0.9] tracking-[-0.02em]",children:e}),a("h2",{className:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-light text-transparent bg-clip-text bg-gradient-to-r from-blue-300 via-purple-300 to-pink-300 leading-[0.9] tracking-[-0.02em] drop-shadow-2xl mb-8",children:t}),a("p",{className:"text-xl lg:text-2xl text-white/80 max-w-4xl mx-auto leading-relaxed font-light",children:n})]}),a("div",{className:"mb-16 px-4",children:a("div",{className:"relative max-w-4xl mx-auto",children:u("div",{className:"relative p-4 sm:p-8 lg:p-12 bg-white/15 backdrop-blur-3xl rounded-[2rem] sm:rounded-[3rem] border border-white/25 shadow-2xl overflow-hidden",children:[a("div",{className:"absolute top-6 right-8 w-16 h-16 bg-gradient-to-br from-orange-400/20 to-red-500/20 rounded-full blur-xl animate-pulse"}),a("div",{className:"absolute bottom-6 left-8 w-12 h-12 bg-gradient-to-br from-purple-400/20 to-pink-300/20 rounded-full blur-xl animate-pulse delay-1000"}),a("div",{className:"absolute top-1/2 left-1/4 w-8 h-8 bg-gradient-to-br from-amber-400/20 to-orange-500/20 rounded-full blur-lg animate-pulse delay-500"}),u("div",{className:"relative z-10 text-center",children:[a("div",{className:"w-20 h-20 bg-gradient-to-br from-orange-400 to-red-500 rounded-3xl flex items-center justify-center shadow-2xl backdrop-blur-xl border border-white/30 mx-auto mb-6 group-hover:scale-110 transition-transform duration-500",children:a("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),a("h3",{className:"text-3xl lg:text-4xl font-light text-white mb-4 leading-tight tracking-[-0.02em]",children:"Book Your Demo"}),a("p",{className:"text-lg text-white/80 mb-8 leading-relaxed font-light max-w-2xl mx-auto",children:"See Spectra in action with a personalized walkthrough"}),u("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl p-6 mb-8 border border-white/20",children:[a("h4",{className:"text-white font-semibold mb-4",children:"Available This Week:"}),u("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[u("div",{className:"bg-white/15 backdrop-blur-xl rounded-xl p-3 border border-white/20 hover:bg-white/20 transition-all duration-300 cursor-pointer group",children:[a("div",{className:"text-white/90 text-sm font-medium",children:"Today"}),a("div",{className:"text-white/70 text-xs",children:"2:00 PM"}),a("div",{className:"w-2 h-2 bg-green-400 rounded-full mt-2 group-hover:scale-125 transition-transform"})]}),u("div",{className:"bg-white/15 backdrop-blur-xl rounded-xl p-3 border border-white/20 hover:bg-white/20 transition-all duration-300 cursor-pointer group",children:[a("div",{className:"text-white/90 text-sm font-medium",children:"Tomorrow"}),a("div",{className:"text-white/70 text-xs",children:"10:00 AM"}),a("div",{className:"w-2 h-2 bg-green-400 rounded-full mt-2 group-hover:scale-125 transition-transform"})]}),u("div",{className:"bg-white/15 backdrop-blur-xl rounded-xl p-3 border border-white/20 hover:bg-white/20 transition-all duration-300 cursor-pointer group",children:[a("div",{className:"text-white/90 text-sm font-medium",children:"Wed"}),a("div",{className:"text-white/70 text-xs",children:"3:30 PM"}),a("div",{className:"w-2 h-2 bg-green-400 rounded-full mt-2 group-hover:scale-125 transition-transform"})]}),u("div",{className:"bg-white/15 backdrop-blur-xl rounded-xl p-3 border border-white/20 hover:bg-white/20 transition-all duration-300 cursor-pointer group",children:[a("div",{className:"text-white/90 text-sm font-medium",children:"Thu"}),a("div",{className:"text-white/70 text-xs",children:"1:00 PM"}),a("div",{className:"w-2 h-2 bg-green-400 rounded-full mt-2 group-hover:scale-125 transition-transform"})]})]})]}),u("a",{href:"/signup?trial=true",className:"group relative inline-flex items-center gap-3 px-10 py-5 bg-gradient-to-r from-[#FF9500] to-[#E6850E] hover:from-[#E6850E] hover:to-[#CC7A0D] text-white font-semibold text-lg rounded-full transition-all duration-300 shadow-2xl hover:shadow-3xl transform hover:scale-[1.02] border border-[#FF9500]/20",onClick:()=>s("trial-cta"),children:[a("span",{className:"relative z-10",children:"Start Free Trial"}),a("svg",{className:"w-5 h-5 relative z-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})}),a("div",{className:"absolute inset-0 bg-gradient-to-r from-[#E6850E] to-[#CC7A0D] rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]})]})})}),u("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6 mb-16 max-w-4xl mx-auto px-4",children:[u("div",{className:"group relative",children:[a("div",{className:"absolute -inset-4 rounded-[2.5rem] blur-xl opacity-0 group-hover:opacity-50 transition-all duration-700 ease-out pointer-events-none bg-gradient-to-r from-green-400/40 to-green-500/40"}),u("a",{href:"https://wa.me/972504322680?text=Hi! I'm interested in learning more about Spectra",target:"_blank",rel:"noopener noreferrer",className:"relative bg-white/15 backdrop-blur-3xl rounded-[2rem] border border-white/25 shadow-2xl hover:shadow-3xl transition-all duration-500 p-8 block group-hover:scale-[1.02] group-hover:border-white/40 h-full",onClick:()=>i("WhatsApp","whatsapp"),children:[a("div",{className:"absolute inset-1 rounded-[1.8rem] bg-gradient-to-br from-white/10 to-transparent pointer-events-none"}),u("div",{className:"relative flex flex-col items-center text-center h-full justify-center",children:[a("div",{className:"w-16 h-16 bg-gradient-to-br from-green-400 to-green-500 rounded-2xl flex items-center justify-center shadow-2xl backdrop-blur-xl border border-white/30 group-hover:scale-110 transition-transform duration-500 mb-4",children:a("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:a("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})})}),a("h3",{className:"text-xl font-bold text-white mb-2 tracking-tight",children:"WhatsApp"}),a("p",{className:"text-white/70 text-sm",children:"Instant support"})]})]})]}),u("div",{className:"group relative",children:[a("div",{className:"absolute -inset-4 rounded-[2.5rem] blur-xl opacity-0 group-hover:opacity-50 transition-all duration-700 ease-out pointer-events-none bg-gradient-to-r from-pink-400/40 to-purple-500/40"}),u("button",{className:"relative bg-white/15 backdrop-blur-3xl rounded-[2rem] border border-white/25 shadow-2xl hover:shadow-3xl transition-all duration-500 p-8 w-full group-hover:scale-[1.02] group-hover:border-white/40 h-full",onClick:()=>{const o="Hi! I'm interested in learning more about Spectra. Can you help me get started?";navigator.clipboard.writeText(o),window.open("https://www.instagram.com/spectra.ci/","_blank");const l=document.createElement("div");l.innerHTML=`
                  <div class="flex items-center gap-2">
                    <svg class="w-5 h-5 text-green-400" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    <span>Message copied! Paste it in Instagram DM</span>
                  </div>
                `,l.className="fixed top-4 right-4 bg-gray-900 text-white px-4 py-3 rounded-lg shadow-xl z-50 border border-gray-700",document.body.appendChild(l),setTimeout(()=>l.remove(),4e3)},children:[a("div",{className:"absolute inset-1 rounded-[1.8rem] bg-gradient-to-br from-white/10 to-transparent pointer-events-none"}),u("div",{className:"relative flex flex-col items-center text-center h-full justify-center",children:[a("div",{className:"w-16 h-16 bg-gradient-to-br from-pink-400 via-purple-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-2xl backdrop-blur-xl border border-white/30 group-hover:scale-110 transition-transform duration-500 mb-4",children:a("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 48 48",children:a("path",{d:"M24.0001 0.0955811C10.5343 0.0955811 0.0957031 9.95949 0.0957031 23.2828C0.0957031 30.2524 2.9518 36.2734 7.60264 40.4337C7.99371 40.7827 8.22893 41.2733 8.24519 41.7963L8.37522 46.0494C8.41634 47.4052 9.81809 48.2878 11.0583 47.7399L15.8028 45.6449C16.2053 45.468 16.6557 45.4345 17.0793 45.5522C19.2603 46.1517 21.58 46.471 23.9991 46.471C37.4649 46.471 47.9035 36.6071 47.9035 23.2838C47.9035 9.96044 37.4659 0.0955811 24.0001 0.0955811ZM38.8132 17.0954L30.4906 29.9579C30.068 30.611 29.1969 30.7974 28.5438 30.3748L20.8342 25.3864C20.5359 25.1933 20.1496 25.199 19.857 25.4008L11.1673 31.3941C9.89937 32.268 8.34941 30.7639 9.18606 29.4712L17.5096 16.6087C17.9322 15.9557 18.8033 15.7692 19.4554 16.1918L27.1669 21.1812C27.4653 21.3743 27.8516 21.3686 28.1441 21.1668L36.832 15.1745C38.0998 14.2996 39.6498 15.8046 38.8132 17.0973V17.0954Z"})})}),a("h3",{className:"text-xl font-bold text-white mb-2 tracking-tight",children:"Instagram DM"}),a("p",{className:"text-white/70 text-sm",children:"Direct message"})]})]})]}),u("div",{className:"group relative",children:[a("div",{className:"absolute -inset-4 rounded-[2.5rem] blur-xl opacity-0 group-hover:opacity-40 transition-all duration-700 ease-out pointer-events-none bg-gradient-to-r from-purple-400/30 to-pink-300/30"}),u("a",{href:"mailto:office@spectra-ci.com",className:"relative bg-white/15 backdrop-blur-3xl rounded-[2rem] border border-white/25 shadow-2xl hover:shadow-3xl transition-all duration-500 p-8 block group-hover:scale-[1.02] group-hover:border-white/40 h-full",children:[a("div",{className:"absolute inset-1 rounded-[1.8rem] bg-gradient-to-br from-white/10 to-transparent pointer-events-none"}),u("div",{className:"relative flex flex-col items-center text-center h-full justify-center",children:[a("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-400 to-pink-300 rounded-2xl flex items-center justify-center shadow-2xl backdrop-blur-xl border border-white/30 group-hover:scale-110 transition-transform duration-500 mb-4",children:a("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),a("h3",{className:"text-xl font-semibold text-white mb-2 tracking-tight",children:"Email Us"}),a("p",{className:"text-white/70 text-sm",children:"office@spectra-ci.com"})]})]})]}),u("div",{className:"group relative",children:[a("div",{className:"absolute -inset-4 rounded-[2.5rem] blur-xl opacity-0 group-hover:opacity-40 transition-all duration-700 ease-out pointer-events-none bg-gradient-to-r from-green-400/30 to-emerald-300/30"}),u("a",{href:"tel:+972504322680",className:"relative bg-white/15 backdrop-blur-3xl rounded-[2rem] border border-white/25 shadow-2xl hover:shadow-3xl transition-all duration-500 p-8 block group-hover:scale-[1.02] group-hover:border-white/40 h-full",children:[a("div",{className:"absolute inset-1 rounded-[1.8rem] bg-gradient-to-br from-white/10 to-transparent pointer-events-none"}),u("div",{className:"relative flex flex-col items-center text-center h-full justify-center",children:[a("div",{className:"w-16 h-16 bg-gradient-to-br from-green-400 to-emerald-300 rounded-2xl flex items-center justify-center shadow-2xl backdrop-blur-xl border border-white/30 group-hover:scale-110 transition-transform duration-500 mb-4",children:a("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),a("h3",{className:"text-xl font-semibold text-white mb-2 tracking-tight",children:"Call Us"}),a("p",{className:"text-white/70 text-sm",children:"+972-50-432-2680"})]})]})]})]}),u("div",{className:"flex justify-center items-center gap-6 mb-16",children:[a("a",{href:"https://www.youtube.com/@spectracolorintelligence",target:"_blank",rel:"noopener noreferrer",className:"group relative w-14 h-14 bg-red-500/20 backdrop-blur-xl rounded-2xl border border-white/20 shadow-xl hover:shadow-2xl transition-all duration-300 flex items-center justify-center hover:scale-110",children:a("svg",{className:"w-7 h-7 text-red-400",fill:"currentColor",viewBox:"0 0 24 24",children:a("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})}),a("a",{href:"https://www.linkedin.com/company/spectra-ci",target:"_blank",rel:"noopener noreferrer",className:"group relative w-14 h-14 bg-blue-500/20 backdrop-blur-xl rounded-2xl border border-white/20 shadow-xl hover:shadow-2xl transition-all duration-300 flex items-center justify-center hover:scale-110",children:a("svg",{className:"w-7 h-7 text-blue-400",fill:"currentColor",viewBox:"0 0 24 24",children:a("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})}),a("a",{href:"https://www.facebook.com/share/1CFHR3osmZ/?mibextid=wwXIfr",target:"_blank",rel:"noopener noreferrer",className:"group relative w-14 h-14 bg-blue-600/20 backdrop-blur-xl rounded-2xl border border-white/20 shadow-xl hover:shadow-2xl transition-all duration-300 flex items-center justify-center hover:scale-110",children:a("svg",{className:"w-7 h-7 text-blue-500",fill:"currentColor",viewBox:"0 0 24 24",children:a("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.367-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),a("a",{href:"https://www.instagram.com/spectra.ci/",target:"_blank",rel:"noopener noreferrer",className:"group relative w-14 h-14 bg-pink-500/20 backdrop-blur-xl rounded-2xl border border-white/20 shadow-xl hover:shadow-2xl transition-all duration-300 flex items-center justify-center hover:scale-110",children:a("svg",{className:"w-7 h-7 text-pink-400",fill:"currentColor",viewBox:"0 0 24 24",children:a("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})})]}),a("div",{className:"text-center",children:a("div",{className:"relative max-w-2xl mx-auto",children:a("div",{className:"relative p-8 bg-white/10 backdrop-blur-3xl rounded-[2rem] border border-white/20 shadow-2xl overflow-hidden",children:u("div",{className:"relative z-10",children:[a("h3",{className:"text-2xl lg:text-3xl font-light text-white mb-4 leading-tight tracking-[-0.02em]",children:"Ready to Start Your Revolution?"}),a("p",{className:"text-lg text-white/80 mb-8 leading-relaxed font-light",children:"Join thousands of salon professionals transforming their business"}),u("a",{href:"https://app.spectra-ci.com/signup?trial=true",target:"_blank",rel:"noopener noreferrer",className:"group relative inline-flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-[#FF9500] to-[#E6850E] hover:from-[#E6850E] hover:to-[#CC7A0D] text-white font-semibold text-base rounded-full transition-all duration-300 shadow-2xl hover:shadow-3xl transform hover:scale-[1.02] border border-[#FF9500]/20",children:[a("span",{className:"relative z-10",children:"Start Free Trial"}),a("div",{className:"absolute inset-0 bg-gradient-to-r from-[#E6850E] to-[#CC7A0D] rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]})})})})]})]})},xa={yourCustomSalon:"https://static.showit.co/800/urJrB1F2QqWXp97Gk9z2WA/75110/bm_12.jpg",modernSalon:"https://images.unsplash.com/photo-1521590832167-7bcbfaa6381f?q=80&w=2940&auto=format&fit=crop",luxurySalon:"https://images.unsplash.com/photo-1560066984-138dadb4c035?q=80&w=2940&auto=format&fit=crop",elegantSalon:"https://images.unsplash.com/photo-1522337360788-8b13dee7a37e?q=80&w=2940&auto=format&fit=crop",professionalSalon:"https://images.unsplash.com/photo-1633681926022-84c23e8cb2d6?q=80&w=2940&auto=format&fit=crop",colorStation:"https://images.unsplash.com/photo-1562322140-8baeececf3df?q=80&w=2940&auto=format&fit=crop",hairColorPalette:"https://images.unsplash.com/photo-1552693673-1bf958298935?q=80&w=2940&auto=format&fit=crop",colorTubes:"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?q=80&w=2940&auto=format&fit=crop",boutiqueSalon:"https://images.unsplash.com/photo-1559599101-f09722fb4948?q=80&w=2940&auto=format&fit=crop",minimalistSalon:"https://images.unsplash.com/photo-1580618672591-eb180b1a973f?q=80&w=2940&auto=format&fit=crop"},Ll=()=>u(Oe,{children:[u("section",{className:"py-16 lg:py-24 bg-gradient-to-br from-slate-50 to-white relative overflow-hidden",children:[u("div",{className:"absolute inset-0 opacity-40",children:[a("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-blue-100 rounded-full blur-3xl"}),a("div",{className:"absolute bottom-1/4 right-1/4 w-48 h-48 bg-purple-100 rounded-full blur-2xl"})]}),u("div",{className:"relative max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[u("div",{className:"text-center mb-12",children:[u("div",{className:"inline-flex items-center gap-2 bg-white/80 rounded-full px-4 py-2 mb-6 border border-gray-200",children:[a("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),a("span",{className:"text-gray-700 text-sm font-medium uppercase tracking-wider",children:"The Journey"})]}),a("h2",{className:"text-4xl lg:text-6xl font-light text-gray-900 mb-4",children:"Five Revolutionary"}),a("h2",{className:"text-4xl lg:text-6xl font-light bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-6",children:"Steps"}),a("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"From chaos to perfection. Experience the future of salon management."})]}),u("div",{className:"mb-16",children:[a("div",{className:"overflow-x-auto pb-4",children:a("div",{className:"flex gap-6 lg:gap-8 w-max",children:hn.map((r,e)=>{const n=[{bg:"bg-white",accent:"bg-gradient-to-r from-cyan-500 to-blue-500",text:"text-cyan-600"},{bg:"bg-white",accent:"bg-gradient-to-r from-orange-500 to-pink-500",text:"text-orange-600"},{bg:"bg-white",accent:"bg-gradient-to-r from-rose-500 to-purple-500",text:"text-rose-600"},{bg:"bg-white",accent:"bg-gradient-to-r from-teal-500 to-emerald-500",text:"text-teal-600"},{bg:"bg-white",accent:"bg-gradient-to-r from-violet-500 to-purple-500",text:"text-violet-600"}][e];return a("div",{className:"group flex-shrink-0 w-80 lg:w-96",children:u("div",{className:`relative ${n.bg} rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-200 transform hover:-translate-y-2 h-full`,children:[a("div",{className:"relative h-64 lg:h-80 overflow-hidden bg-gray-100",children:a("img",{src:e===4?"/step_5.jpg":r.image,alt:r.alt,loading:e<2?"eager":"lazy",className:"w-full h-full object-cover transition-transform duration-200 group-hover:scale-105",onError:i=>{const s=i.target;e===4?s.src="https://images.unsplash.com/photo-1562322140-8baeececf3df?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80":s.src=`https://images.unsplash.com/photo-158${8e6+e}?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80`}})}),u("div",{className:"p-4 lg:p-6",children:[a("h3",{className:`text-lg lg:text-xl font-bold ${n.text} mb-2 lg:mb-3 tracking-tight`,children:r.title}),a("p",{className:"text-gray-700 text-sm leading-relaxed mb-3 lg:mb-4 font-medium",children:r.description}),u("div",{className:"flex items-center gap-3",children:[a("div",{className:"flex-1 h-2 bg-gray-100 rounded-full overflow-hidden shadow-inner",children:a("div",{className:`h-full ${n.accent} rounded-full transition-all duration-500 shadow-sm`,style:{width:`${(e+1)/hn.length*100}%`}})}),u("span",{className:`text-xs ${n.text} font-bold px-2 py-1 bg-white/80 rounded-full shadow-sm`,children:[e+1,"/",hn.length]})]})]})]})},e)})})}),a("div",{className:"text-center mt-4",children:u("p",{className:"text-gray-500 text-sm flex items-center justify-center gap-2",children:[a("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16l-4-4m0 0l4-4m-4 4h18"})}),"Scroll horizontally to see all steps",a("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})]}),u("div",{className:"text-center",children:[a("p",{className:"text-lg text-gray-600 mb-8 max-w-xl mx-auto",children:"Experience all five revolutionary steps and transform your salon today"}),u("a",{href:"/signup?trial=true",className:"inline-flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold rounded-full transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",children:["Start Free Trial",a("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})]})]}),a(pa,{}),a(Tl,{}),a(ba,{backgroundImage:xa.yourCustomSalon,title:"Ready to",subtitle:"Transform?",description:"Join thousands of salon professionals who've revolutionized their business with Spectra."})]}),Dl=()=>u("div",{className:"bg-white w-full min-h-screen font-sans antialiased overflow-x-hidden",children:[a(qn,{}),a(Pl,{}),a(pa,{}),a(Ll,{}),a(kl,{})]}),Al=[{name:"Maor Ganon",age:37,title:"Co-founder & CEO",description:"Professional hair colorist with 20+ years of experience. Founded Spectra to revolutionize salon operations through AI-powered intelligence.",image:"/team/maor-ganon.jpg",fallback:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=400&q=80"},{name:"Danny Michaeli",age:37,title:"Co-founder & CTO",description:"Technology expert with extensive experience in global development teams. Architect of the Spectra platform and AI systems.",image:"/team/danny-michaeli.jpg",fallback:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=400&q=80"},{name:"Elad Gotlib",age:47,title:"Co-founder & COO",description:"Business operations specialist focused on scaling technology solutions. Drives strategic growth and operational excellence.",image:"/team/elad-gotlib.jpg",fallback:"https://images.unsplash.com/photo-1560250097-0b93528c311a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=400&q=80"},{name:"Mika Bachur",age:42,title:"VP of Operations & Strategic Partnerships",description:"Leads operational excellence and strategic business development. Ensures seamless platform scaling for our growing artist community.",image:"/team/mika-bachur.jpg",fallback:"https://images.unsplash.com/photo-1494790108755-2616b612b97c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=400&q=80"},{name:"Yaar Ben-Jay",age:23,title:"Head of Customer Success & Data Intelligence",description:"Drives customer satisfaction through data insights and user experience optimization. Ensures maximum platform value for every artist.",image:"/team/yaar-ben-jay.jpg",fallback:"https://images.unsplash.com/photo-1519345182560-3f2917c472ef?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=400&q=80"}],El=[{name:"Roy Gefen",title:"Marketing Director",description:"Former CMO at accessiBe with over a decade of experience in marketing and brand leadership for global technology companies.",image:"/team/roy-gefen.jpg",fallback:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=400&q=80"},{name:"Nava Ravid",title:"Strategic Director",description:"Former CEO of L'Oréal Israel with 24 years in beauty industry leadership. Expert in market growth and strategic business development.",image:"/team/nava-ravid.jpg",fallback:"https://images.unsplash.com/photo-1580489944761-15a19d654956?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=400&q=80"},{name:"Brian Cooper",title:"Technology Director",description:"Founder of Retailx with proven expertise in scaling retail technology solutions. Acquired by NCR for $650M, bringing deep industry insights.",image:"/team/brian-cooper.jpg",fallback:"https://images.unsplash.com/photo-1556157382-97eda2d62296?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=400&q=80"}],Il=()=>(y.useState(!1),K.useEffect(()=>{localStorage.setItem("ugc_current_page","about"),localStorage.setItem("ugc_left_home_page","true")},[]),u("div",{className:"bg-white w-full min-h-screen font-sans antialiased",children:[a(qn,{}),u("section",{className:"relative pt-24 pb-20 lg:pt-32 lg:pb-28 overflow-hidden",children:[u("div",{className:"absolute inset-0",children:[a("div",{className:"absolute inset-0 bg-gradient-to-br from-white/95 via-spectra-cream/30 to-spectra-gold/20 z-10"}),a("div",{className:"w-full h-full opacity-10",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23d4c4a8' fill-opacity='0.3'%3E%3Cpath d='M50 15c19.33 0 35 15.67 35 35 0 19.33-15.67 35-35 35-19.33 0-35-15.67-35-35 0-19.33 15.67-35 35-35zm0 5c-16.569 0-30 13.431-30 30s13.431 30 30 30 30-13.431 30-30-13.431-30-30-30z'/%3E%3Ccircle cx='50' cy='25' r='2'/%3E%3Ccircle cx='25' cy='50' r='2'/%3E%3Ccircle cx='75' cy='50' r='2'/%3E%3Ccircle cx='50' cy='75' r='2'/%3E%3C/g%3E%3C/svg%3E")`,backgroundSize:"150px 150px",backgroundPosition:"0 0, 75px 75px"}})]}),u("div",{className:"relative max-w-5xl mx-auto px-6 sm:px-8 lg:px-12 text-center z-20",children:[u("div",{className:"inline-flex items-center gap-2 bg-white/60 backdrop-blur-md rounded-full px-6 py-3 mb-10 border border-spectra-gold/30 shadow-sm",children:[a("div",{className:"w-1.5 h-1.5 bg-spectra-gold rounded-full animate-pulse"}),a("span",{className:"text-spectra-gold-dark text-sm font-medium uppercase tracking-wider",children:"Our Story"})]}),a("h1",{className:"text-5xl sm:text-6xl lg:text-7xl font-extralight text-spectra-charcoal mb-8 leading-[0.85] tracking-tight",children:"For Every Artist"}),a("h1",{className:"text-5xl sm:text-6xl lg:text-7xl font-light text-transparent bg-clip-text bg-gradient-to-r from-spectra-gold-light via-spectra-gold to-spectra-gold-dark leading-[0.85] tracking-tight mb-12",children:"Who Dreams in Color"}),a("p",{className:"text-2xl lg:text-3xl text-spectra-charcoal-light max-w-4xl mx-auto leading-relaxed font-light mb-8",children:"You pour your heart into every shade, every formula, every client's transformation."}),a("p",{className:"text-xl text-spectra-charcoal/70 max-w-3xl mx-auto leading-relaxed",children:"We're here to honor that artistry with tools that understand your craft as deeply as you do."})]})]}),u("section",{className:"py-32 lg:py-40 bg-gradient-to-br from-slate-50 to-white relative overflow-hidden",children:[u("div",{className:"absolute inset-0",children:[a("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-gradient-to-br from-spectra-gold/5 to-rose-100/10 rounded-full blur-3xl animate-pulse",style:{animationDuration:"6s"}}),a("div",{className:"absolute bottom-1/4 right-1/4 w-80 h-80 bg-gradient-to-br from-blue-100/10 to-spectra-cream/15 rounded-full blur-3xl animate-pulse",style:{animationDuration:"8s",animationDelay:"2s"}})]}),u("div",{className:"relative max-w-7xl mx-auto px-6 sm:px-8 lg:px-12",children:[u("div",{className:"text-center mb-20",children:[u("h2",{className:"text-5xl lg:text-7xl font-extralight text-slate-800 mb-6 tracking-[-0.02em]",children:["We See"," ",a("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-spectra-gold via-rose-400 to-blue-400 font-light",children:"You"})]}),a("div",{className:"w-24 h-0.5 bg-gradient-to-r from-transparent via-slate-300 to-transparent mx-auto"})]}),a("div",{className:"relative h-96 lg:h-[500px]",children:a("div",{className:"absolute inset-0 flex items-center justify-center",children:u("div",{className:"relative w-full max-w-6xl h-full",style:{perspective:"1200px",transformStyle:"preserve-3d"},children:[a("div",{className:"absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 z-30",style:{transform:"translate(-50%, -50%) translateZ(50px)",animation:"float 6s ease-in-out infinite"},children:u("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl p-8 lg:p-12 shadow-[0_25px_80px_rgba(0,0,0,0.1)] border border-white/40 max-w-lg text-center",children:[a("div",{className:"text-3xl mb-6",children:"✨"}),u("h3",{className:"text-2xl lg:text-3xl font-light text-slate-800 mb-6 leading-tight",children:["The Artist Behind ",a("br",{}),a("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-spectra-gold to-rose-400",children:"Every Formula"})]}),a("p",{className:"text-slate-600 leading-relaxed font-light",children:"Whether you're perfecting that signature blonde or building your dream salon"})]})}),a("div",{className:"absolute left-8 top-1/2 transform -translate-y-1/2 z-20",style:{transform:"translateY(-50%) translateZ(-20px) rotateY(15deg)",animation:"floatLeft 8s ease-in-out infinite"},children:u("div",{className:"relative group",children:[a("div",{className:"absolute -inset-4 bg-gradient-to-r from-rose-200/30 to-orange-200/30 rounded-3xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),a("div",{className:"absolute -inset-2 bg-gradient-to-r from-white/50 to-rose-50/50 rounded-3xl blur-lg"}),u("div",{className:"relative w-72 h-80 rounded-3xl overflow-hidden shadow-[0_20px_60px_rgba(0,0,0,0.15)] border-2 border-white/60",children:[a("img",{src:"/hair_colorist_in_a_color_bar.png",alt:"Professional hair colorist",className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105",onError:r=>{const e=r.target;e.src="https://images.unsplash.com/photo-1595476108010-b4d1f102b1b1?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"}}),a("div",{className:"absolute inset-0 bg-gradient-to-t from-black/10 via-transparent to-transparent"}),a("div",{className:"absolute bottom-4 left-4 right-4",children:a("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl px-4 py-3 border border-white/40",children:a("p",{className:"text-slate-700 font-light text-sm",children:"Behind every perfect color"})})})]})]})}),a("div",{className:"absolute right-8 top-1/2 transform -translate-y-1/2 z-20",style:{transform:"translateY(-50%) translateZ(-20px) rotateY(-15deg)",animation:"floatRight 8s ease-in-out infinite 2s"},children:u("div",{className:"relative group",children:[a("div",{className:"absolute -inset-4 bg-gradient-to-r from-blue-200/30 to-purple-200/30 rounded-3xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),a("div",{className:"absolute -inset-2 bg-gradient-to-r from-white/50 to-blue-50/50 rounded-3xl blur-lg"}),u("div",{className:"relative w-72 h-80 rounded-3xl overflow-hidden shadow-[0_20px_60px_rgba(0,0,0,0.15)] border-2 border-white/60",children:[a("img",{src:"https://i.pinimg.com/1200x/32/3d/05/323d05c8e81ea3e3508f2ec0177b98e6.jpg",alt:"Professional salon workspace",className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),a("div",{className:"absolute inset-0 bg-gradient-to-t from-black/10 via-transparent to-transparent"}),a("div",{className:"absolute bottom-4 left-4 right-4",children:a("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl px-4 py-3 border border-white/40",children:a("p",{className:"text-slate-700 font-light text-sm",children:"Your creative sanctuary"})})})]})]})}),a("div",{className:"absolute top-16 left-1/3 w-20 h-20 bg-gradient-to-br from-spectra-gold/20 to-rose-200/20 rounded-full blur-xl animate-pulse",style:{animationDelay:"1s"}}),a("div",{className:"absolute bottom-16 right-1/3 w-16 h-16 bg-gradient-to-br from-blue-200/20 to-purple-200/20 rounded-full blur-xl animate-pulse",style:{animationDelay:"3s"}}),a("div",{className:"absolute top-1/3 right-12 w-12 h-12 bg-gradient-to-br from-rose-200/20 to-orange-200/20 rounded-full blur-lg animate-pulse",style:{animationDelay:"2s"}})]})})}),a("div",{className:"text-center mt-20",children:a("p",{className:"text-xl lg:text-2xl text-slate-600 font-light max-w-4xl mx-auto leading-relaxed",children:"Solo artist or salon owner, every stroke of genius deserves tools that understand your vision"})})]}),a("style",{children:`
          @keyframes float {
            0%, 100% { transform: translate(-50%, -50%) translateZ(50px) translateY(0px); }
            50% { transform: translate(-50%, -50%) translateZ(50px) translateY(-20px); }
          }
          
          @keyframes floatLeft {
            0%, 100% { transform: translateY(-50%) translateZ(-20px) rotateY(15deg) translateX(0px); }
            50% { transform: translateY(-50%) translateZ(-20px) rotateY(15deg) translateX(-10px); }
          }
          
          @keyframes floatRight {
            0%, 100% { transform: translateY(-50%) translateZ(-20px) rotateY(-15deg) translateX(0px); }
            50% { transform: translateY(-50%) translateZ(-20px) rotateY(-15deg) translateX(10px); }
          }
        `})]}),a("section",{className:"py-20 lg:py-28 bg-white",children:u("div",{className:"max-w-6xl mx-auto px-6 sm:px-8 lg:px-12",children:[u("div",{className:"text-center mb-20",children:[u("h2",{className:"text-4xl sm:text-5xl font-extralight text-spectra-charcoal mb-16 leading-tight tracking-wide",children:["We See"," ",u("span",{className:"text-gradient-spectra font-light relative",children:["You",a("div",{className:"absolute -bottom-2 left-0 right-0 h-px bg-gradient-to-r from-transparent via-spectra-gold/60 to-transparent"})]})]}),a("div",{className:"max-w-6xl mx-auto",children:u("div",{className:"grid lg:grid-cols-3 gap-8 items-center",children:[a("div",{className:"relative order-1",children:u("div",{className:"relative w-full max-w-sm mx-auto",children:[a("div",{className:"absolute inset-0 bg-gradient-to-br from-rose-100/20 to-rose-200/30 rounded-[2rem] blur-3xl opacity-60 scale-110"}),a("div",{className:"absolute inset-0 bg-gradient-to-br from-white/50 to-rose-50/40 rounded-[2rem] blur-2xl scale-105"}),u("div",{className:"relative rounded-[2rem] overflow-hidden border-2 border-white/60 shadow-[0_20px_60px_rgba(212,196,168,0.2)]",children:[a("img",{src:"/hair_colorist_in_a_color_bar.png",alt:"Professional hair colorist working at color bar",className:"w-full h-auto object-cover",onError:r=>{const e=r.target;e.src="https://images.unsplash.com/photo-1595476108010-b4d1f102b1b1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80"}}),a("div",{className:"absolute inset-0 bg-gradient-to-t from-black/5 via-transparent to-transparent"}),a("div",{className:"absolute top-6 right-6 w-3 h-3 bg-rose-300/30 rounded-full blur-sm animate-pulse"}),a("div",{className:"absolute bottom-8 left-8 w-2 h-2 bg-white/40 rounded-full blur-sm animate-pulse",style:{animationDelay:"1s"}})]}),a("div",{className:"absolute -bottom-4 left-1/2 transform -translate-x-1/2 bg-white/90 backdrop-blur-sm rounded-full px-4 py-2 border border-spectra-gold/20 shadow-lg",children:a("p",{className:"text-xs text-spectra-charcoal font-light tracking-wide",children:"🎨 Your artistry in action"})})]})}),u("div",{className:"relative order-3 lg:order-2",children:[a("div",{className:"absolute -top-8 -left-8 w-32 h-32 bg-spectra-gold/5 rounded-full blur-2xl"}),a("div",{className:"absolute -bottom-8 -right-8 w-24 h-24 bg-spectra-cream/40 rounded-full blur-xl"}),u("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-[2rem] p-8 lg:p-10 border border-spectra-gold/15 shadow-[0_8px_40px_rgba(212,196,168,0.12)]",children:[a("div",{className:"text-5xl text-spectra-gold/30 font-serif leading-none mb-4",children:'"'}),u("blockquote",{className:"text-lg lg:text-xl text-spectra-charcoal/90 leading-relaxed mb-6 font-light tracking-wide",children:["You're the artist who opens early and closes late. The one who remembers exactly how Mrs. Chen likes her highlights, who stays up researching the perfect formula for a challenging color correction.",a("br",{}),a("br",{}),"You're building something beautiful—whether it's a solo practice or a growing salon—and every decision matters."]}),u("div",{className:"flex items-center justify-center mb-6",children:[a("div",{className:"w-6 h-px bg-gradient-to-r from-transparent via-spectra-gold/40 to-transparent"}),a("div",{className:"w-1.5 h-1.5 bg-spectra-gold/50 rounded-full mx-3"}),a("div",{className:"w-6 h-px bg-gradient-to-r from-transparent via-spectra-gold/40 to-transparent"})]}),a("p",{className:"text-base text-spectra-charcoal/70 italic font-light leading-relaxed",children:"This is for you—the passionate professional who deserves tools as dedicated as you are."}),a("div",{className:"text-5xl text-spectra-gold/30 font-serif leading-none text-right mt-4",children:'"'})]})]}),a("div",{className:"relative order-2 lg:order-3",children:u("div",{className:"relative w-full max-w-sm mx-auto",children:[a("div",{className:"absolute inset-0 bg-gradient-to-br from-spectra-gold/10 to-spectra-gold/20 rounded-[2rem] blur-3xl opacity-60 scale-110"}),a("div",{className:"absolute inset-0 bg-gradient-to-br from-white/50 to-spectra-cream/30 rounded-[2rem] blur-2xl scale-105"}),u("div",{className:"relative rounded-[2rem] overflow-hidden border-2 border-white/60 shadow-[0_20px_60px_rgba(212,196,168,0.2)]",children:[a("img",{src:"/your-custom-salon.jpg",alt:"Beautiful salon workspace",className:"w-full h-auto object-cover",onError:r=>{const e=r.target;e.src="https://i.pinimg.com/1200x/32/3d/05/323d05c8e81ea3e3508f2ec0177b98e6.jpg"}}),a("div",{className:"absolute inset-0 bg-gradient-to-t from-black/5 via-transparent to-transparent"}),a("div",{className:"absolute top-6 left-6 w-2 h-2 bg-spectra-gold/30 rounded-full blur-sm animate-pulse",style:{animationDelay:"0.5s"}}),a("div",{className:"absolute bottom-6 right-6 w-3 h-3 bg-spectra-gold/20 rounded-full blur-sm animate-pulse",style:{animationDelay:"2s"}})]}),a("div",{className:"absolute -bottom-4 left-1/2 transform -translate-x-1/2 bg-white/90 backdrop-blur-sm rounded-full px-4 py-2 border border-spectra-gold/20 shadow-lg",children:a("p",{className:"text-xs text-spectra-charcoal font-light tracking-wide",children:"✨ Your professional space"})})]})})]})})]}),u("div",{className:"grid lg:grid-cols-3 gap-10 mt-20",children:[u("div",{className:"text-center group",children:[u("div",{className:"relative mb-8",children:[a("div",{className:"w-16 h-16 bg-gradient-to-br from-spectra-gold/20 to-spectra-gold/10 rounded-full flex items-center justify-center mx-auto border border-spectra-gold/20 group-hover:scale-110 group-hover:shadow-lg transition-all duration-500",children:a("span",{className:"text-2xl",children:"✨"})}),a("div",{className:"absolute inset-0 w-16 h-16 bg-spectra-gold/10 rounded-full blur-xl mx-auto opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),a("h3",{className:"text-xl font-light text-spectra-charcoal mb-5 tracking-wide",children:"Solo Artists"}),a("p",{className:"text-spectra-charcoal-light leading-relaxed font-light",children:"Whether you're building your dream chair rental or independent studio, every formula matters, every client is precious."})]}),u("div",{className:"text-center group",children:[u("div",{className:"relative mb-8",children:[a("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-100 to-blue-50 rounded-full flex items-center justify-center mx-auto border border-blue-200/30 group-hover:scale-110 group-hover:shadow-lg transition-all duration-500",children:a("span",{className:"text-2xl",children:"💫"})}),a("div",{className:"absolute inset-0 w-16 h-16 bg-blue-200/10 rounded-full blur-xl mx-auto opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),a("h3",{className:"text-xl font-light text-spectra-charcoal mb-5 tracking-wide",children:"Salon Leaders"}),a("p",{className:"text-spectra-charcoal-light leading-relaxed font-light",children:"You're guiding talented artists, ensuring consistency while nurturing creativity. You need systems that work as hard as you do."})]}),u("div",{className:"text-center group",children:[u("div",{className:"relative mb-8",children:[a("div",{className:"w-16 h-16 bg-gradient-to-br from-rose-100 to-rose-50 rounded-full flex items-center justify-center mx-auto border border-rose-200/30 group-hover:scale-110 group-hover:shadow-lg transition-all duration-500",children:a("span",{className:"text-2xl",children:"🌱"})}),a("div",{className:"absolute inset-0 w-16 h-16 bg-rose-200/10 rounded-full blur-xl mx-auto opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),a("h3",{className:"text-xl font-light text-spectra-charcoal mb-5 tracking-wide",children:"Growing Dreams"}),a("p",{className:"text-spectra-charcoal-light leading-relaxed font-light",children:"From your first client to your tenth stylist, we grow with you. Intelligence that scales from artistry to mastery."})]})]})]})}),a("section",{className:"py-20 lg:py-28 bg-gradient-to-b from-white to-spectra-cream/20",children:u("div",{className:"max-w-5xl mx-auto px-6 sm:px-8 lg:px-12",children:[a("div",{className:"text-center mb-16",children:u("h2",{className:"text-4xl sm:text-5xl font-extralight text-spectra-charcoal mb-8 tracking-wide",children:["A Story of"," ",u("span",{className:"text-gradient-spectra font-light relative",children:["Passion & Purpose",a("div",{className:"absolute -bottom-2 left-0 right-0 h-px bg-gradient-to-r from-transparent via-spectra-gold/60 to-transparent"})]})]})}),u("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[a("div",{className:"order-2 lg:order-1",children:u("div",{className:"relative",children:[a("div",{className:"absolute -top-6 -left-6 w-20 h-20 bg-spectra-gold/5 rounded-full blur-xl"}),a("div",{className:"absolute -bottom-6 -right-6 w-16 h-16 bg-spectra-cream/30 rounded-full blur-lg"}),u("div",{className:"relative bg-white/90 backdrop-blur-sm rounded-[2rem] p-8 lg:p-10 shadow-[0_8px_40px_rgba(212,196,168,0.12)] border border-spectra-gold/15",children:[a("h3",{className:"text-2xl font-light text-spectra-charcoal mb-6 tracking-wide",children:"From Frustration to Innovation"}),u("div",{className:"space-y-6 text-lg text-spectra-charcoal-light leading-relaxed font-light",children:[a("p",{children:'"After 20 years behind the chair, I knew something had to change. I was tired of watching talented colorists struggle with the same problems I faced every day."'}),a("p",{children:'"Formulas scribbled on scraps of paper. Inventory that disappeared overnight. The heartbreak of not being able to recreate that perfect shade."'}),a("p",{children:'"But mostly, I was tired of seeing incredible artists doubt themselves when the tools failed them, not their talent."'}),u("div",{className:"flex items-center justify-center py-4",children:[a("div",{className:"w-6 h-px bg-gradient-to-r from-transparent via-spectra-gold/40 to-transparent"}),a("div",{className:"w-1 h-1 bg-spectra-gold/50 rounded-full mx-3"}),a("div",{className:"w-6 h-px bg-gradient-to-r from-transparent via-spectra-gold/40 to-transparent"})]}),a("p",{className:"text-spectra-gold font-light italic text-xl",children:'"So we built something different. Something worthy of your artistry."'}),a("p",{className:"text-sm text-spectra-charcoal/60 font-light tracking-wide",children:"— Maor Ganon"})]})]})]})}),a("div",{className:"order-1 lg:order-2",children:a("div",{className:"relative",children:u("div",{className:"w-80 h-80 mx-auto relative",children:[a("div",{className:"absolute inset-0 bg-gradient-to-br from-spectra-gold/10 to-spectra-gold/20 rounded-full blur-3xl opacity-60"}),a("div",{className:"absolute inset-4 bg-gradient-to-br from-white/50 to-spectra-cream/30 rounded-full blur-2xl"}),a("div",{className:"relative w-full h-full rounded-full overflow-hidden border-2 border-white/60 shadow-[0_20px_60px_rgba(212,196,168,0.2)]",children:a("img",{src:"/team/maor-ganon.jpg",alt:"Maor Ganon - Founder",className:"w-full h-full object-cover",onError:r=>{const e=r.target;e.src="https://ui-avatars.com/api/?name=Maor%20Ganon&size=320&background=d4c4a8&color=000&format=png"}})})]})})})]})]})}),a("section",{className:"py-20 lg:py-28 bg-white",children:u("div",{className:"max-w-7xl mx-auto px-6 sm:px-8 lg:px-12",children:[u("div",{className:"text-center mb-20",children:[u("h2",{className:"text-4xl sm:text-5xl font-extralight text-spectra-charcoal mb-8 tracking-wide",children:["Our"," ",u("span",{className:"text-gradient-spectra font-light relative",children:["Core Team",a("div",{className:"absolute -bottom-2 left-0 right-0 h-px bg-gradient-to-r from-transparent via-spectra-gold/60 to-transparent"})]})]}),a("p",{className:"text-xl text-spectra-charcoal-light max-w-3xl mx-auto leading-relaxed font-light tracking-wide",children:"Artists, engineers, and dreamers united by one mission: empowering your creativity"})]}),a("div",{className:"grid lg:grid-cols-3 gap-8 max-w-6xl mx-auto",children:Al.map((r,e)=>a("div",{className:"group",children:u("div",{className:"relative",children:[a("div",{className:"absolute -top-4 -left-4 w-16 h-16 bg-spectra-gold/5 rounded-full blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),u("div",{className:"relative bg-white/90 backdrop-blur-sm rounded-2xl p-6 lg:p-8 shadow-[0_8px_40px_rgba(212,196,168,0.08)] border border-spectra-gold/10 hover:shadow-[0_16px_60px_rgba(212,196,168,0.15)] hover:border-spectra-gold/20 transition-all duration-500 text-center h-full",children:[u("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full overflow-hidden border-2 border-spectra-gold/15 group-hover:border-spectra-gold/30 transition-colors duration-500 relative",children:[a("div",{className:"absolute inset-0 bg-gradient-to-br from-spectra-gold/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a("img",{src:r.image,alt:r.name,className:"w-full h-full object-cover relative z-10",onError:t=>{const n=t.target;n.src=r.fallback}})]}),u("h4",{className:"text-lg font-light text-spectra-charcoal mb-2 tracking-wide",children:[r.name,u("span",{className:"text-spectra-charcoal/60 font-extralight",children:[", ",r.age]})]}),a("p",{className:"text-spectra-gold font-light mb-4 text-sm tracking-wide",children:r.title}),a("p",{className:"text-spectra-charcoal-light leading-relaxed font-light text-sm",children:r.description})]})]})},r.name))})]})}),a("section",{className:"py-20 lg:py-28 bg-gradient-to-b from-white to-spectra-cream/20",children:u("div",{className:"max-w-6xl mx-auto px-6 sm:px-8 lg:px-12",children:[u("div",{className:"text-center mb-20",children:[u("h2",{className:"text-4xl sm:text-5xl font-extralight text-spectra-charcoal mb-8 tracking-wide",children:["Board of"," ",u("span",{className:"text-gradient-spectra font-light relative",children:["Directors",a("div",{className:"absolute -bottom-2 left-0 right-0 h-px bg-gradient-to-r from-transparent via-spectra-gold/60 to-transparent"})]})]}),a("p",{className:"text-xl text-spectra-charcoal-light max-w-3xl mx-auto leading-relaxed font-light tracking-wide",children:"Industry leaders guiding our strategic vision and growth"})]}),a("div",{className:"grid lg:grid-cols-3 gap-10",children:El.map(r=>a("div",{className:"group",children:u("div",{className:"relative",children:[a("div",{className:"absolute -top-4 -left-4 w-16 h-16 bg-spectra-gold/5 rounded-full blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),u("div",{className:"relative bg-white/90 backdrop-blur-sm rounded-2xl p-6 lg:p-8 shadow-[0_8px_40px_rgba(212,196,168,0.08)] border border-spectra-gold/10 hover:shadow-[0_16px_60px_rgba(212,196,168,0.15)] hover:border-spectra-gold/20 transition-all duration-500 text-center h-full",children:[u("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full overflow-hidden border-2 border-spectra-gold/15 group-hover:border-spectra-gold/30 transition-colors duration-500 relative",children:[a("div",{className:"absolute inset-0 bg-gradient-to-br from-spectra-gold/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a("img",{src:r.image,alt:r.name,className:"w-full h-full object-cover relative z-10",onError:e=>{const t=e.target;t.src=r.fallback}})]}),a("h4",{className:"text-lg font-light text-spectra-charcoal mb-2 tracking-wide",children:r.name}),a("p",{className:"text-spectra-gold font-light mb-4 text-sm tracking-wide",children:r.title}),a("p",{className:"text-spectra-charcoal-light leading-relaxed font-light text-sm",children:r.description})]})]})},r.name))})]})}),a("section",{className:"py-20 lg:py-28 bg-gradient-to-br from-spectra-cream/30 to-spectra-gold/15",children:u("div",{className:"max-w-6xl mx-auto px-6 sm:px-8 lg:px-12",children:[a("div",{className:"text-center mb-16",children:u("h2",{className:"text-4xl sm:text-5xl font-extralight text-spectra-charcoal mb-8 tracking-wide",children:["Our"," ",u("span",{className:"text-gradient-spectra font-light relative",children:["Promise",a("div",{className:"absolute -bottom-2 left-0 right-0 h-px bg-gradient-to-r from-transparent via-spectra-gold/60 to-transparent"})]})]})}),u("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[u("div",{children:[a("h3",{className:"text-3xl font-light text-spectra-charcoal mb-8 tracking-wide",children:"To Every Artist We Serve"}),u("div",{className:"space-y-6",children:[u("div",{className:"flex items-start gap-4",children:[a("div",{className:"w-1.5 h-1.5 bg-spectra-gold rounded-full mt-3 flex-shrink-0"}),u("div",{children:[a("h4",{className:"font-light text-spectra-charcoal mb-2 text-lg tracking-wide",children:"We Honor Your Expertise"}),a("p",{className:"text-spectra-charcoal-light leading-relaxed font-light",children:"Our AI learns from you, not the other way around. Your years of experience guide every algorithm."})]})]}),u("div",{className:"flex items-start gap-4",children:[a("div",{className:"w-1.5 h-1.5 bg-spectra-gold rounded-full mt-3 flex-shrink-0"}),u("div",{children:[a("h4",{className:"font-light text-spectra-charcoal mb-2 text-lg tracking-wide",children:"We Preserve Your Artistry"}),a("p",{className:"text-spectra-charcoal-light leading-relaxed font-light",children:"Every formula, every technique, every breakthrough becomes part of your growing intelligence."})]})]}),u("div",{className:"flex items-start gap-4",children:[a("div",{className:"w-1.5 h-1.5 bg-spectra-gold rounded-full mt-3 flex-shrink-0"}),u("div",{children:[a("h4",{className:"font-light text-spectra-charcoal mb-2 text-lg tracking-wide",children:"We Amplify Your Impact"}),a("p",{className:"text-spectra-charcoal-light leading-relaxed font-light",children:"Tools that help you serve more clients, create more beauty, and build the business you've dreamed of."})]})]})]})]}),u("div",{className:"relative",children:[a("div",{className:"absolute -top-6 -left-6 w-20 h-20 bg-spectra-gold/5 rounded-full blur-xl"}),a("div",{className:"absolute -bottom-6 -right-6 w-16 h-16 bg-white/50 rounded-full blur-lg"}),u("div",{className:"relative bg-white/90 backdrop-blur-sm rounded-[2rem] p-8 lg:p-10 shadow-[0_8px_40px_rgba(212,196,168,0.12)] border border-spectra-gold/15",children:[a("blockquote",{className:"text-xl lg:text-2xl text-spectra-charcoal leading-relaxed italic mb-6 font-light tracking-wide",children:`"Technology should feel like an extension of your hands, not a barrier to your creativity. We're building tools that disappear into your workflow and amplify what you already do brilliantly."`}),u("div",{className:"flex items-center justify-center mb-6",children:[a("div",{className:"w-6 h-px bg-gradient-to-r from-transparent via-spectra-gold/40 to-transparent"}),a("div",{className:"w-1 h-1 bg-spectra-gold/50 rounded-full mx-3"}),a("div",{className:"w-6 h-px bg-gradient-to-r from-transparent via-spectra-gold/40 to-transparent"})]}),u("div",{className:"flex items-center gap-4",children:[a("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-spectra-gold-light/80 to-spectra-gold/80 flex items-center justify-center",children:a("span",{className:"text-white text-lg",children:"💝"})}),u("div",{children:[a("p",{className:"font-light text-spectra-charcoal tracking-wide",children:"Our commitment to you"}),a("p",{className:"text-sm text-spectra-charcoal/60 font-light",children:"Every day, every feature, every update"})]})]})]})]})]})]})}),u("section",{className:"py-20 lg:py-28 bg-spectra-charcoal relative overflow-hidden",children:[a("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='80' height='80' viewBox='0 0 80 80' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23d4c4a8' fill-opacity='0.3'%3E%3Ccircle cx='40' cy='40' r='1'/%3E%3C/g%3E%3C/svg%3E")`,backgroundSize:"120px 120px"}}),u("div",{className:"relative max-w-6xl mx-auto px-6 sm:px-8 lg:px-12",children:[u("div",{className:"text-center mb-16",children:[u("h2",{className:"text-4xl sm:text-5xl font-extralight text-white mb-6 tracking-wide",children:["Growing"," ",u("span",{className:"text-spectra-gold font-light relative",children:["Together",a("div",{className:"absolute -bottom-2 left-0 right-0 h-px bg-gradient-to-r from-transparent via-spectra-gold/60 to-transparent"})]})]}),a("p",{className:"text-xl text-white/80 max-w-3xl mx-auto leading-relaxed font-light tracking-wide",children:"Every number represents an artist whose craft we're honored to support"})]}),u("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-8",children:[u("div",{className:"text-center group",children:[u("div",{className:"relative mb-4",children:[a("div",{className:"text-5xl lg:text-6xl font-extralight text-spectra-gold mb-4 transition-transform duration-500 group-hover:scale-110",children:"500+"}),a("div",{className:"absolute inset-0 bg-spectra-gold/10 rounded-full blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),a("div",{className:"text-white/90 font-light text-lg mb-2 tracking-wide",children:"Artists Supported"}),a("div",{className:"text-white/60 text-sm font-light",children:"Across 20+ countries"})]}),u("div",{className:"text-center group",children:[u("div",{className:"relative mb-4",children:[a("div",{className:"text-5xl lg:text-6xl font-extralight text-spectra-gold mb-4 transition-transform duration-500 group-hover:scale-110",children:"15K+"}),a("div",{className:"absolute inset-0 bg-spectra-gold/10 rounded-full blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),a("div",{className:"text-white/90 font-light text-lg mb-2 tracking-wide",children:"Perfect Formulas"}),a("div",{className:"text-white/60 text-sm font-light",children:"Created with AI assistance"})]}),u("div",{className:"text-center group",children:[u("div",{className:"relative mb-4",children:[a("div",{className:"text-5xl lg:text-6xl font-extralight text-spectra-gold mb-4 transition-transform duration-500 group-hover:scale-110",children:"92%"}),a("div",{className:"absolute inset-0 bg-spectra-gold/10 rounded-full blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),a("div",{className:"text-white/90 font-light text-lg mb-2 tracking-wide",children:"Success Rate"}),a("div",{className:"text-white/60 text-sm font-light",children:"In formula consistency"})]}),u("div",{className:"text-center group",children:[u("div",{className:"relative mb-4",children:[a("div",{className:"text-5xl lg:text-6xl font-extralight text-spectra-gold mb-4 transition-transform duration-500 group-hover:scale-110",children:"∞"}),a("div",{className:"absolute inset-0 bg-spectra-gold/10 rounded-full blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),a("div",{className:"text-white/90 font-light text-lg mb-2 tracking-wide",children:"Possibilities"}),a("div",{className:"text-white/60 text-sm font-light",children:"When artistry meets intelligence"})]})]})]})]}),a(ba,{backgroundImage:xa.luxurySalon,title:"Ready to Transform",subtitle:"Your Artistry?",description:"Join the community of passionate colorists who are creating the future of beauty, one perfect formula at a time."})]})),Ol=()=>a("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-4 sm:p-8",children:u("div",{className:"max-w-4xl mx-auto",children:[u("div",{className:"text-center mb-12",children:[a("h1",{className:"text-3xl sm:text-5xl font-bold text-white mb-4",children:"💳 Payments"}),a("p",{className:"text-blue-200 text-lg",children:"Payment integration coming soon"})]}),u("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 border border-white/20 text-center",children:[a("div",{className:"w-20 h-20 bg-blue-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:a("svg",{className:"w-10 h-10 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),a("h2",{className:"text-2xl font-bold text-white mb-4",children:"Payment System Integration"}),a("p",{className:"text-blue-200 mb-8 max-w-2xl mx-auto",children:"Our payment system is being updated as part of our database architecture improvement. Subscription management and billing will be available soon with enhanced security and performance."}),a("div",{className:"space-y-4",children:a(Z,{to:"/signup",className:"inline-block bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-semibold py-3 px-8 rounded-xl transition-all duration-200 transform hover:scale-105",children:"Start Free Trial"})})]}),u("div",{className:"grid md:grid-cols-3 gap-6 mt-12",children:[u("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl p-6 border border-white/10",children:[a("div",{className:"w-12 h-12 bg-green-500/20 rounded-lg flex items-center justify-center mb-4",children:a("svg",{className:"w-6 h-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a("h3",{className:"text-lg font-semibold text-white mb-2",children:"Secure Processing"}),a("p",{className:"text-blue-200 text-sm",children:"Bank-grade security for all transactions"})]}),u("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl p-6 border border-white/10",children:[a("div",{className:"w-12 h-12 bg-blue-500/20 rounded-lg flex items-center justify-center mb-4",children:a("svg",{className:"w-6 h-6 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),a("h3",{className:"text-lg font-semibold text-white mb-2",children:"Multi-Currency"}),a("p",{className:"text-blue-200 text-sm",children:"Support for global pricing and currencies"})]}),u("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl p-6 border border-white/10",children:[a("div",{className:"w-12 h-12 bg-purple-500/20 rounded-lg flex items-center justify-center mb-4",children:a("svg",{className:"w-6 h-6 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),a("h3",{className:"text-lg font-semibold text-white mb-2",children:"Subscription Management"}),a("p",{className:"text-blue-200 text-sm",children:"Flexible billing and trial periods"})]})]})]})}),zl=()=>{const[r,e]=y.useState({name:"",phone:"",socialHandle:"",email:"",salonName:""}),[t,n]=y.useState(!1),[i,s]=y.useState(!1),o=c=>{const{name:d,value:h}=c.target;e(m=>({...m,[d]:h}))},l=async c=>{c.preventDefault(),n(!0);try{const d=new URLSearchParams(window.location.search),h={full_name:r.name,email:r.email,phone:r.phone,company_name:r.salonName||void 0,message:r.socialHandle?`Social: ${r.socialHandle}`:void 0,source_page:"/lead-capture",utm_source:d.get("utm_source")||void 0,utm_medium:d.get("utm_medium")||void 0,utm_campaign:d.get("utm_campaign")||void 0},m=await fetch("/.netlify/functions/leads",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});if(!m.ok){const f=await m.json().catch(()=>({}));throw new Error((f==null?void 0:f.error)||`Failed to submit lead (${m.status})`)}s(!0)}catch(d){console.error("Error submitting lead:",d),alert("Something went wrong. Please try again.")}finally{n(!1)}};return i?u("section",{className:"relative py-20 lg:py-32 overflow-hidden min-h-screen",children:[a("div",{className:"absolute inset-0 z-0",style:{backgroundImage:`
              linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.8)),
              url('https://images.unsplash.com/photo-1521590832167-7bcbfaa6381f?q=80&w=2940&auto=format&fit=crop')
            `,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed"}}),u("div",{className:"absolute inset-0 overflow-hidden",children:[a("div",{className:"absolute top-20 left-20 w-96 h-96 bg-gradient-to-br from-white/5 to-transparent rounded-full blur-3xl animate-pulse"}),a("div",{className:"absolute bottom-32 right-16 w-80 h-80 bg-gradient-to-br from-blue-400/10 to-purple-500/10 rounded-full blur-3xl animate-pulse delay-1000"}),a("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-72 h-72 bg-gradient-to-br from-amber-400/8 to-orange-500/8 rounded-full blur-3xl animate-pulse delay-500"})]}),a("div",{className:"relative z-10 max-w-7xl mx-auto px-8 sm:px-12 lg:px-16 flex items-center justify-center min-h-screen",children:u("div",{className:"text-center",children:[u("div",{className:"inline-flex items-center gap-4 bg-white/10 backdrop-blur-3xl rounded-full px-8 py-4 mb-8 border border-white/20 shadow-2xl",children:[a("div",{className:"w-2 h-2 bg-gradient-to-r from-green-400 to-emerald-300 rounded-full animate-pulse"}),a("span",{className:"text-white/90 text-sm font-semibold uppercase tracking-[0.3em]",children:"Welcome to Spectra"}),a("div",{className:"w-2 h-2 bg-gradient-to-r from-blue-400 to-cyan-300 rounded-full animate-pulse"})]}),a("h2",{className:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-extralight text-white mb-6 leading-[0.9] tracking-[-0.02em]",children:"Thank"}),a("h2",{className:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-light text-transparent bg-clip-text bg-gradient-to-r from-blue-300 via-purple-300 to-pink-300 leading-[0.9] tracking-[-0.02em] drop-shadow-2xl mb-8",children:"You!"}),u("p",{className:"text-xl lg:text-2xl text-white/80 max-w-4xl mx-auto leading-relaxed font-light mb-12",children:["We'll contact you within 24 hours to set up your Spectra trial.",a("br",{}),"Get ready to transform your salon!"]}),u("div",{className:"flex flex-col sm:flex-row gap-6 justify-center items-center",children:[a("a",{href:"https://wa.me/972504322680?text=Hi! I just signed up for Spectra trial",target:"_blank",rel:"noopener noreferrer",className:"group relative px-10 py-5 bg-gradient-to-r from-green-400 to-green-500 hover:from-green-500 hover:to-green-600 text-white font-semibold text-lg rounded-full transition-all duration-300 shadow-2xl hover:shadow-3xl transform hover:scale-[1.02]",children:u("div",{className:"flex items-center gap-3",children:[a("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:a("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})}),a("span",{children:"WhatsApp Us"})]})}),a(Z,{to:"/",className:"group relative px-10 py-5 bg-white/5 backdrop-blur-3xl border border-white/15 hover:border-white/30 text-white font-semibold text-lg rounded-full transition-all duration-300 shadow-2xl hover:shadow-3xl transform hover:scale-[1.02]",children:"Return to Spectra"})]})]})})]}):u("section",{className:"relative py-20 lg:py-32 overflow-hidden",children:[a("div",{className:"absolute inset-0 z-0",style:{backgroundImage:`
            linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.8)),
            url('https://images.unsplash.com/photo-1521590832167-7bcbfaa6381f?q=80&w=2940&auto=format&fit=crop')
          `,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed"}}),u("div",{className:"absolute inset-0 overflow-hidden",children:[a("div",{className:"absolute top-20 left-20 w-96 h-96 bg-gradient-to-br from-white/5 to-transparent rounded-full blur-3xl animate-pulse"}),a("div",{className:"absolute bottom-32 right-16 w-80 h-80 bg-gradient-to-br from-blue-400/10 to-purple-500/10 rounded-full blur-3xl animate-pulse delay-1000"}),a("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-72 h-72 bg-gradient-to-br from-amber-400/8 to-orange-500/8 rounded-full blur-3xl animate-pulse delay-500"}),a("div",{className:"absolute top-10 right-32 w-64 h-64 bg-gradient-to-br from-pink-400/5 to-purple-400/5 rounded-full blur-2xl animate-pulse delay-2000"}),a("div",{className:"absolute bottom-10 left-32 w-48 h-48 bg-gradient-to-br from-cyan-400/8 to-blue-400/8 rounded-full blur-2xl animate-pulse delay-3000"})]}),u("div",{className:"relative z-10 max-w-7xl mx-auto px-8 sm:px-12 lg:px-16",children:[u("div",{className:"text-center mb-20",children:[u("div",{className:"inline-flex items-center gap-4 bg-white/10 backdrop-blur-3xl rounded-full px-8 py-4 mb-8 border border-white/20 shadow-2xl",children:[a("div",{className:"w-2 h-2 bg-gradient-to-r from-white to-gray-300 rounded-full animate-pulse"}),a("span",{className:"text-white/90 text-sm font-semibold uppercase tracking-[0.3em]",children:"Start Your Trial"}),a("div",{className:"w-2 h-2 bg-gradient-to-r from-blue-400 to-cyan-300 rounded-full animate-pulse"})]}),a("h1",{className:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-extralight text-white mb-6 leading-[0.9] tracking-[-0.02em]",children:"Try Spectra"}),a("h1",{className:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-light text-transparent bg-clip-text bg-gradient-to-r from-blue-300 via-purple-300 to-pink-300 leading-[0.9] tracking-[-0.02em] drop-shadow-2xl mb-8",children:"Free"}),a("p",{className:"text-xl lg:text-2xl text-white/80 max-w-4xl mx-auto leading-relaxed font-light",children:"Experience the future of color management with our 14-day free trial."})]}),u("div",{className:"bg-white/10 backdrop-blur-3xl rounded-3xl p-12 border border-white/20 shadow-2xl mb-20 max-w-5xl mx-auto",children:[u("div",{className:"text-center mb-8",children:[a("h2",{className:"text-3xl lg:text-4xl font-light text-white mb-4",children:"Choose Your Plan"}),a("p",{className:"text-white/70 font-light",children:"Professional salon management solutions"})]}),u("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-6 border border-white/10 text-center",children:[a("div",{className:"w-12 h-12 mx-auto mb-4 bg-gradient-to-br from-purple-400/30 to-purple-500/30 backdrop-blur-xl rounded-xl flex items-center justify-center border border-white/20",children:a("span",{className:"text-purple-300 text-xl",children:"⚖️"})}),a("h3",{className:"text-white font-semibold mb-2",children:"Solo"}),a("div",{className:"text-3xl font-light text-white mb-2",children:"$39"}),a("div",{className:"text-white/60 text-sm mb-4",children:"/month"}),a("p",{className:"text-white/70 text-sm",children:"Perfect for individual stylists"})]}),u("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-6 border border-white/10 text-center",children:[a("div",{className:"w-12 h-12 mx-auto mb-4 bg-gradient-to-br from-pink-400/30 to-pink-500/30 backdrop-blur-xl rounded-xl flex items-center justify-center border border-white/20",children:a("span",{className:"text-pink-300 text-xl",children:"👥"})}),a("h3",{className:"text-white font-semibold mb-2",children:"Multi"}),a("div",{className:"text-3xl font-light text-white mb-2",children:"$79"}),a("div",{className:"text-white/60 text-sm mb-4",children:"/month"}),a("p",{className:"text-white/70 text-sm",children:"For small salon teams"})]}),u("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-6 border border-white/10 text-center",children:[a("div",{className:"w-12 h-12 mx-auto mb-4 bg-gradient-to-br from-blue-400/30 to-blue-500/30 backdrop-blur-xl rounded-xl flex items-center justify-center border border-white/20",children:a("span",{className:"text-blue-300 text-xl",children:"🏢"})}),a("h3",{className:"text-white font-semibold mb-2",children:"Studio"}),a("div",{className:"text-3xl font-light text-white mb-2",children:"$129"}),a("div",{className:"text-white/60 text-sm mb-4",children:"/month"}),a("p",{className:"text-white/70 text-sm",children:"For growing salons"})]}),u("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-6 border border-white/10 text-center",children:[a("div",{className:"w-12 h-12 mx-auto mb-4 bg-gradient-to-br from-emerald-400/30 to-emerald-500/30 backdrop-blur-xl rounded-xl flex items-center justify-center border border-white/20",children:a("span",{className:"text-emerald-300 text-xl",children:"🚀"})}),a("h3",{className:"text-white font-semibold mb-2",children:"Enterprise"}),a("div",{className:"text-3xl font-light text-white mb-2",children:"$189"}),a("div",{className:"text-white/60 text-sm mb-4",children:"/month"}),a("p",{className:"text-white/70 text-sm",children:"For large operations"})]})]}),a("div",{className:"text-center mt-8",children:a("p",{className:"text-white/60 text-sm font-light",children:"All plans include 14-day free trial • No setup fees • Cancel anytime"})})]}),a("div",{className:"max-w-md mx-auto mb-20",children:u("div",{className:"bg-white/10 backdrop-blur-3xl rounded-3xl p-8 border border-white/20 shadow-2xl",children:[u("div",{className:"text-center mb-8",children:[a("h2",{className:"text-2xl font-light text-white mb-2",children:"Start Your Free Trial"}),a("p",{className:"text-white/70 font-light text-sm",children:"No credit card required"})]}),u("form",{onSubmit:l,className:"space-y-4",children:[a("input",{type:"text",name:"name",required:!0,value:r.name,onChange:o,className:"w-full h-12 px-4 bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl focus:border-blue-300/50 focus:ring-1 focus:ring-blue-300/30 transition-all duration-200 text-white placeholder-white/50 font-light",placeholder:"Full name"}),a("input",{type:"email",name:"email",required:!0,value:r.email,onChange:o,className:"w-full h-12 px-4 bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl focus:border-blue-300/50 focus:ring-1 focus:ring-blue-300/30 transition-all duration-200 text-white placeholder-white/50 font-light",placeholder:"Email address"}),a("input",{type:"tel",name:"phone",required:!0,value:r.phone,onChange:o,className:"w-full h-12 px-4 bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl focus:border-blue-300/50 focus:ring-1 focus:ring-blue-300/30 transition-all duration-200 text-white placeholder-white/50 font-light",placeholder:"Phone number"}),a("input",{type:"text",name:"salonName",value:r.salonName,onChange:o,className:"w-full h-12 px-4 bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl focus:border-blue-300/50 focus:ring-1 focus:ring-blue-300/30 transition-all duration-200 text-white placeholder-white/50 font-light",placeholder:"Salon name"}),a("button",{type:"submit",disabled:t,className:`w-full h-14 rounded-2xl font-light transition-all duration-300 mt-6 ${t?"bg-white/10 backdrop-blur-xl cursor-not-allowed text-white/50 border border-white/10":"bg-gradient-to-r from-blue-500/50 via-purple-500/50 to-pink-500/50 backdrop-blur-xl hover:from-blue-500/60 hover:via-purple-500/60 hover:to-pink-500/60 text-white border border-white/20 shadow-lg"}`,children:t?u("div",{className:"flex items-center justify-center gap-3",children:[a("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Starting trial..."]}):"Start Free Trial"}),a("p",{className:"text-center text-white/50 text-xs font-light mt-4",children:"14-day free trial • No credit card required"})]})]})}),a("div",{className:"text-center",children:a("div",{className:"relative max-w-4xl mx-auto",children:u("div",{className:"relative p-12 bg-white/10 backdrop-blur-3xl rounded-[3rem] border border-white/20 shadow-2xl overflow-hidden",children:[a("div",{className:"absolute top-6 right-8 w-16 h-16 bg-gradient-to-br from-blue-400/20 to-cyan-300/20 rounded-full blur-xl animate-pulse"}),a("div",{className:"absolute bottom-6 left-8 w-12 h-12 bg-gradient-to-br from-purple-400/20 to-pink-300/20 rounded-full blur-xl animate-pulse delay-1000"}),a("div",{className:"absolute top-1/2 left-1/4 w-8 h-8 bg-gradient-to-br from-amber-400/20 to-orange-500/20 rounded-full blur-lg animate-pulse delay-500"}),u("div",{className:"relative z-10",children:[a("h3",{className:"text-3xl lg:text-4xl font-light text-white mb-6 leading-tight tracking-[-0.02em]",children:"Questions? Let's Talk!"}),a("p",{className:"text-xl text-white/80 mb-12 leading-relaxed font-light max-w-2xl mx-auto",children:"Book a demo or chat with us to learn more about Spectra"}),u("div",{className:"flex flex-col sm:flex-row gap-6 justify-center items-center",children:[u("a",{href:"/signup?trial=true",className:"group relative px-10 py-5 bg-gradient-to-r from-[#FF9500] to-[#E6850E] hover:from-[#E6850E] hover:to-[#CC7A0D] text-white font-semibold text-lg rounded-full transition-all duration-300 shadow-2xl hover:shadow-3xl transform hover:scale-[1.02] border border-[#FF9500]/20",children:[a("span",{className:"relative z-10",children:"Start Free Trial"}),a("div",{className:"absolute inset-0 bg-gradient-to-r from-[#E6850E] to-[#CC7A0D] rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),u("a",{href:"https://wa.me/972504322680?text=Hi! I want to learn more about Spectra",target:"_blank",rel:"noopener noreferrer",className:"group relative px-10 py-5 bg-white/5 backdrop-blur-3xl border border-white/15 hover:border-green-400/30 text-white font-semibold text-lg rounded-full transition-all duration-300 shadow-2xl hover:shadow-3xl transform hover:scale-[1.02] overflow-hidden",children:[a("div",{className:"absolute inset-0 bg-gradient-to-r from-green-400/10 to-green-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a("div",{className:"absolute inset-1 rounded-full bg-gradient-to-br from-white/5 to-transparent"}),u("div",{className:"relative z-10 flex items-center gap-2",children:[a("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:a("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})}),a("span",{children:"WhatsApp"})]})]})]})]})]})})}),a("div",{className:"text-center mt-12",children:a(Z,{to:"/",className:"text-white/50 hover:text-white font-light text-sm transition-colors duration-200",children:"← Return to Spectra"})})]})]})},Pe=[{id:1,videoUrl:"/instagram-reel.mp4",username:"@manely.summer",name:"Summer",profileImage:"/profile-summer.jpg",instagramUrl:"https://www.instagram.com/manely.summer",followers:"90.6K"},{id:2,videoUrl:"/instagram-reel2.mp4",username:"@thewitchwhodoeshair",name:"Angela Maria Blom",profileImage:"/profile-angela.jpg",instagramUrl:"https://www.instagram.com/thewitchwhodoeshair",followers:"3,440"},{id:3,videoUrl:"/instagram-reel3.mp4",username:"@sohairsavvy",name:"Kendall",profileImage:"/profile-kendall.jpg",instagramUrl:"https://www.instagram.com/sohairsavvy",followers:"3,477"},{id:4,videoUrl:"/instagram-reel4.mp4",username:"@_serinarenee",name:"Serina Renee'",profileImage:"/profile-serina.jpg",instagramUrl:"https://www.instagram.com/_serinarenee",followers:"23.2K"},{id:5,videoUrl:"/instagram-reel5.mp4",username:"@manesbymorgan__",name:"Morgan Campbell",profileImage:"/profile-morgan.jpg",instagramUrl:"https://www.instagram.com/manesbymorgan__",followers:"1,084"},{id:6,videoUrl:"/instagram-reel6.mp4",username:"@bri.stangle",name:"Bri",profileImage:"/profile-bri.jpg",instagramUrl:"https://www.instagram.com/bri.stangle",followers:"1,718"}],ya=()=>{const[r,e]=y.useState(0),[t,n]=y.useState(!1),[i,s]=y.useState(!1),[o,l]=y.useState(0),[c,d]=y.useState(0),[h,m]=y.useState(0),[f,g]=y.useState(!1),[b,p]=y.useState(!1),[x,v]=y.useState(!1),w=y.useRef(null),N=y.useRef(null);y.useEffect(()=>{window.location.pathname.includes("ugc-offer")&&window.scrollTo({top:0,behavior:"smooth"})},[]),y.useEffect(()=>{const _=()=>{p(!0)};return document.addEventListener("click",_,{once:!0}),document.addEventListener("touchstart",_,{once:!0}),()=>{document.removeEventListener("click",_),document.removeEventListener("touchstart",_)}},[]),y.useEffect(()=>{const _=new IntersectionObserver(R=>{R.forEach(Y=>{Y.isIntersecting&&!f?g(!0):!Y.isIntersecting&&f&&w.current&&t&&w.current.pause()})},{threshold:.2});return N.current&&_.observe(N.current),()=>{N.current&&_.unobserve(N.current)}},[f,t]),y.useEffect(()=>{v(!1),l(0)},[r]),y.useEffect(()=>{if(f&&b&&x&&w.current){const _=w.current;_.currentTime=0,_.muted=i,_.play().then(()=>{n(!0)}).catch(()=>{i||(_.muted=!0,_.play().then(()=>{n(!0)}).catch(()=>{n(!1)}))})}},[r,f,b,x,i]),y.useEffect(()=>{let _;return t&&w.current&&(_=setInterval(()=>{if(w.current){const R=w.current.currentTime,Y=w.current.duration;d(R),m(Y),Y>0&&l(R/Y*100)}},100)),()=>{_&&clearInterval(_)}},[t]),y.useEffect(()=>{const _=w.current;if(!_)return;const R=()=>n(!0),Y=()=>n(!1),de=()=>v(!0);return _.addEventListener("play",R),_.addEventListener("pause",Y),_.addEventListener("loadeddata",de),()=>{_.removeEventListener("play",R),_.removeEventListener("pause",Y),_.removeEventListener("loadeddata",de)}},[]);const k=()=>{e(_=>(_+1)%Pe.length),l(0)},S=()=>{if(!w.current)return;p(!0),g(!0);const _=w.current;t?_.pause():(_.muted=i,_.play().then(()=>{n(!0)}).catch(()=>{_.muted=!0,_.play().catch(()=>{})}))},A=()=>{if(w.current){const _=!i;w.current.muted=_,s(_)}},E=_=>{const R=_.currentTarget.getBoundingClientRect(),de=(_.clientX-R.left)/R.width*100,F=de/100*h;w.current&&(w.current.currentTime=F,l(de))},L=_=>{window.open(_,"_blank")},P=_=>{e(_)},M=()=>{e(_=>(_-1+Pe.length)%Pe.length)},I=()=>{e(_=>(_+1)%Pe.length)},D=(r-1+Pe.length)%Pe.length,V=(r+1)%Pe.length,j=Pe[r];return u("div",{ref:N,className:"flex flex-col items-center justify-center py-8 overflow-x-hidden",children:[u("div",{className:"flex items-center justify-center gap-2 sm:gap-4 md:gap-8 px-4",children:[a("div",{className:"hidden sm:block scale-50 sm:scale-75 opacity-60 transition-all duration-500 cursor-pointer hover:opacity-80",onClick:()=>P(D),children:a("div",{className:"relative bg-gradient-to-b from-[#1d1d1f] via-[#2c2c2e] to-[#1d1d1f] rounded-[3rem] p-[3px] shadow-2xl",style:{width:180,height:360},children:a("div",{className:"w-full h-full bg-black rounded-[2.7rem] overflow-hidden relative flex items-center justify-center",children:a("video",{src:Pe[D].videoUrl,className:"w-full h-full object-cover",muted:!0,playsInline:!0,preload:"metadata"})})})}),a("div",{className:"scale-75 sm:scale-90 md:scale-100 opacity-100 z-10 transition-all duration-500",children:u("div",{className:"relative bg-gradient-to-b from-[#1d1d1f] via-[#2c2c2e] to-[#1d1d1f] rounded-[3.5rem] p-[4px] shadow-2xl",style:{width:300,height:600},children:[a("div",{className:"absolute top-3 left-1/2 transform -translate-x-1/2 w-32 h-8 bg-black rounded-full z-20"}),u("div",{className:"w-full h-full bg-black rounded-[3.2rem] overflow-hidden relative",children:[a("video",{ref:w,src:j.videoUrl,className:"w-full h-full object-cover",muted:i,playsInline:!0,controls:!1,onEnded:k,preload:"auto",onLoadedMetadata:()=>{v(!0)},style:{objectFit:"cover",objectPosition:"center"}}),a("div",{className:"absolute top-14 left-4 right-4 z-30",children:a("div",{className:"flex gap-1",children:Pe.map((_,R)=>a("div",{className:`h-0.5 flex-1 rounded-full transition-all duration-300 ${R===r?"bg-white":"bg-white/30"}`},R))})}),a("div",{className:"absolute top-20 left-4 right-4 z-30",children:u("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>L(j.instagramUrl),children:[a("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-purple-600 via-pink-500 to-yellow-400 p-[2px]",children:a("div",{className:"w-full h-full rounded-full bg-black flex items-center justify-center",children:a("img",{src:j.profileImage,alt:j.name,className:"w-full h-full rounded-full object-cover",onError:_=>{const R=_.target;R.src=`https://ui-avatars.com/api/?name=${j.name}&background=gradient&color=fff&size=40`}})})}),u("div",{className:"bg-black/40 backdrop-blur-sm rounded-lg px-2 py-1",children:[a("div",{className:"text-white text-xs font-semibold drop-shadow-lg",children:j.username}),u("div",{className:"text-gray-200 text-[10px] drop-shadow-md",children:[j.name," • ",j.followers," followers"]})]})]})}),a("div",{className:"absolute inset-0 flex items-center justify-center z-20",children:a("button",{onClick:A,className:"w-16 h-16 bg-black/50 backdrop-blur-sm rounded-full flex items-center justify-center text-white opacity-0 hover:opacity-100 transition-opacity duration-300",children:i?a("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:a("path",{d:"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"})}):a("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:a("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"})})})}),a("div",{className:"absolute bottom-4 left-4 right-4 z-30",children:a("div",{className:"h-1 bg-white/30 rounded-full cursor-pointer",onClick:E,children:a("div",{className:"h-full bg-white rounded-full transition-all duration-100",style:{width:`${o}%`}})})})]})]})}),a("div",{className:"hidden sm:block scale-50 sm:scale-75 opacity-60 transition-all duration-500 cursor-pointer hover:opacity-80",onClick:()=>P(V),children:a("div",{className:"relative bg-gradient-to-b from-[#1d1d1f] via-[#2c2c2e] to-[#1d1d1f] rounded-[3rem] p-[3px] shadow-2xl",style:{width:180,height:360},children:a("div",{className:"w-full h-full bg-black rounded-[2.7rem] overflow-hidden relative flex items-center justify-center",children:a("video",{src:Pe[V].videoUrl,className:"w-full h-full object-cover",muted:!0,playsInline:!0,preload:"metadata"})})})})]}),u("div",{className:"flex items-center justify-center gap-4 sm:gap-8 mt-8 sm:mt-12 px-4",children:[a("button",{onClick:M,className:"w-12 h-12 bg-white rounded-full flex items-center justify-center text-black hover:bg-gray-50 transition-all duration-300 shadow-lg",children:a("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:a("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})})}),a("button",{onClick:S,className:"w-16 h-16 bg-white border border-black rounded-full flex items-center justify-center text-black hover:bg-gray-50 transition-all duration-300 shadow-xl",children:t?a("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:a("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}):a("svg",{className:"w-8 h-8 ml-1",fill:"currentColor",viewBox:"0 0 24 24",children:a("path",{d:"M8 5v14l11-7z"})})}),a("button",{onClick:I,className:"w-12 h-12 bg-white rounded-full flex items-center justify-center text-black hover:bg-gray-50 transition-all duration-300 shadow-lg",children:a("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:a("path",{d:"M8.59 16.59L10 18l6-6-6-6-1.41 1.41L13.17 12z"})})})]})]})},Fl=Object.freeze(Object.defineProperty({__proto__:null,ClientCarousel:ya},Symbol.toStringTag,{value:"Module"})),va=()=>a("footer",{className:"bg-gray-900 text-white py-8",children:u("div",{className:"max-w-6xl mx-auto px-4 text-center",children:[a("p",{className:"text-gray-400",children:"© 2024 Spectra. All rights reserved."}),a("p",{className:"mt-2",children:a("a",{href:"https://wa.me/972504322680",target:"_blank",rel:"noopener noreferrer",className:"underline text-gray-300 hover:text-white",children:"Chat on WhatsApp"})})]})}),Rl=y.memo(ya),Bl=y.memo(va),jl=()=>{const r=kt(),e=y.useCallback(()=>{r("/signup?trial=true")},[r]);return y.useCallback(()=>{window.open("https://wa.me/972504322680","_blank")},[]),y.useCallback(()=>{window.open("https://instagram.com/spectra_salon","_blank")},[]),y.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),y.useEffect(()=>{const t=()=>{const n=document.getElementById("floating-cta"),i=document.querySelector("section");if(n&&i){const s=i.offsetHeight;window.scrollY>s*.9?(n.style.transform="translateX(-50%) translateY(0)",n.style.opacity="1"):(n.style.transform="translateX(-50%) translateY(120%)",n.style.opacity="0")}};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[]),u("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-white",children:[u("section",{className:"relative pt-12 pb-8 sm:pt-16 sm:pb-12 lg:pt-20 lg:pb-16 overflow-hidden min-h-screen flex items-center",children:[a("div",{className:"absolute inset-0 gradient-bg-hero"}),a("div",{className:"absolute inset-0 opacity-[0.015]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='80' height='80' viewBox='0 0 80 80' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23c79c6d' fill-opacity='1'%3E%3Ccircle cx='40' cy='40' r='0.8'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),a("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-8 lg:px-16 h-full flex flex-col justify-center",children:u("div",{className:"text-center",children:[u("div",{className:"flex items-center justify-center gap-3 sm:gap-4 mb-12 sm:mb-16 lg:mb-20",children:[a("div",{className:"w-2 h-2 sm:w-3 sm:h-3 bg-gradient-to-r from-spectra-gold-light to-spectra-gold rounded-full shadow-sm"}),a("span",{className:"text-spectra-gold-dark text-xs sm:text-sm lg:text-base font-semibold uppercase tracking-[0.3em] sm:tracking-[0.35em] opacity-90 px-3 text-center",children:"Trusted by 1,500+ Hair Professionals"}),a("div",{className:"w-2 h-2 sm:w-3 sm:h-3 bg-gradient-to-r from-spectra-gold to-spectra-gold-dark rounded-full shadow-sm"})]}),u("div",{className:"mb-16 sm:mb-20 lg:mb-24 xl:mb-28",children:[a("h1",{className:"text-6xl sm:text-7xl md:text-8xl lg:text-9xl xl:text-[8rem] 2xl:text-[10rem] font-extralight text-spectra-charcoal mb-6 sm:mb-8 lg:mb-10 leading-[0.85] tracking-[-0.03em]",children:"Stop Losing"}),a("h1",{className:"text-6xl sm:text-7xl md:text-8xl lg:text-9xl xl:text-[8rem] 2xl:text-[10rem] font-extralight text-spectra-charcoal mb-6 sm:mb-8 lg:mb-10 leading-[0.85] tracking-[-0.03em]",children:"Money on"}),a("h1",{className:"text-6xl sm:text-7xl md:text-8xl lg:text-9xl xl:text-[8rem] 2xl:text-[10rem] font-light text-transparent bg-clip-text bg-gradient-to-r from-spectra-gold-light via-spectra-gold to-spectra-gold-dark leading-[0.85] tracking-[-0.03em] drop-shadow-lg",children:"Wasted Hair Color"})]}),u("p",{className:"text-xl sm:text-2xl md:text-3xl lg:text-4xl xl:text-5xl text-spectra-charcoal-light mb-16 sm:mb-20 lg:mb-24 xl:mb-28 leading-[1.3] sm:leading-[1.25] font-light max-w-2xl sm:max-w-4xl lg:max-w-6xl xl:max-w-7xl mx-auto tracking-[-0.02em] px-2 sm:px-0",children:["Spectra's"," ",a("span",{className:"font-semibold text-gradient-spectra",children:"AI-powered platform"})," ","cuts color waste by ",a("span",{className:"font-semibold text-gradient-spectra",children:"85%"})," ","and saves salons",u("span",{className:"font-semibold text-gradient-spectra",children:[" ","up to $10,000+ a year"]}),". Get set up in"," ",a("span",{className:"font-semibold text-gradient-spectra",children:"5 minutes"}),"."]}),u("div",{className:"flex flex-col sm:flex-row gap-6 sm:gap-8 lg:gap-10 justify-center items-center px-4 sm:px-0",children:[a("button",{onClick:e,className:"inline-block px-8 py-4 md:px-10 md:py-5 lg:px-12 lg:py-6 bg-gradient-to-r from-amber-500 via-orange-500 to-red-500 hover:from-amber-600 hover:via-orange-600 hover:to-red-600 text-white font-semibold text-base md:text-lg lg:text-xl rounded-full transition-all duration-300 shadow-2xl hover:shadow-3xl transform hover:scale-[1.02] text-center min-w-fit",children:"Take me straight to my free trial"}),u("button",{onClick:()=>window.open("https://calendly.com/spectra-demo/15min","_blank"),className:"group flex items-center gap-4 sm:gap-6 lg:gap-8 text-spectra-charcoal-light hover:text-spectra-gold font-medium text-lg sm:text-xl lg:text-2xl xl:text-3xl transition-all duration-300 px-6 sm:px-10 lg:px-12 py-4 sm:py-6 lg:py-8 justify-center min-w-fit",children:[a("div",{className:"w-16 h-16 sm:w-20 sm:h-20 lg:w-24 lg:h-24 xl:w-28 xl:h-28 bg-gradient-to-br from-spectra-cream-dark to-spectra-cream group-hover:from-spectra-gold/10 group-hover:to-spectra-gold-light/10 rounded-full flex items-center justify-center transition-all duration-300 shadow-lg hover:shadow-xl border border-spectra-gold/10 group-hover:border-spectra-gold/20 flex-shrink-0",children:a("svg",{className:"w-7 h-7 sm:w-8 sm:h-8 lg:w-9 lg:h-9 xl:w-10 xl:h-10 ml-1 sm:ml-1.5",fill:"currentColor",viewBox:"0 0 20 20",children:a("path",{d:"M8 5v10l8-5-8-5z"})})}),a("span",{className:"whitespace-nowrap",children:"Watch Demo"})]})]})]})})]}),u("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-gray-50 via-white to-gray-50 relative overflow-hidden",children:[u("div",{className:"absolute inset-0 opacity-3",children:[a("div",{className:"absolute top-0 right-0 w-96 h-96 bg-gray-200 rounded-full blur-3xl"}),a("div",{className:"absolute bottom-0 left-0 w-80 h-80 bg-gray-100 rounded-full blur-3xl"})]}),u("div",{className:"max-w-7xl mx-auto relative z-10",children:[a("div",{className:"text-center mb-16",children:u("h2",{className:"text-4xl sm:text-5xl font-light text-gray-900 mb-6 leading-tight",children:[a("span",{className:"bg-gradient-to-r from-amber-500 via-orange-500 to-red-500 bg-clip-text text-transparent font-medium",children:"Triple Bundle"}),a("span",{className:"text-gray-900 font-light",children:" Special Offer"})]})}),u("div",{className:"max-w-lg mx-auto",children:[u("div",{className:"space-y-6 mb-12",children:[a("div",{className:"group p-6 hover:bg-gray-50/80 transition-all duration-300 rounded-2xl",children:u("div",{className:"flex items-start gap-4",children:[a("div",{className:"w-8 h-8 bg-emerald-500 text-white rounded-full flex items-center justify-center flex-shrink-0 font-semibold text-sm",children:"1"}),u("div",{className:"flex-1",children:[a("h4",{className:"text-xl font-medium text-gray-900 mb-2",children:"30 Day Free Trial"}),a("p",{className:"text-gray-600 leading-relaxed",children:"Full access, no commitment required"})]})]})}),a("div",{className:"group p-6 hover:bg-gray-50/80 transition-all duration-300 rounded-2xl",children:u("div",{className:"flex items-start gap-4",children:[a("div",{className:"w-8 h-8 bg-amber-500 text-white rounded-full flex items-center justify-center flex-shrink-0 font-semibold text-sm",children:"2"}),u("div",{className:"flex-1",children:[a("h4",{className:"text-xl font-medium text-gray-900 mb-2",children:"Free Equipment"}),a("p",{className:"text-gray-600 leading-relaxed",children:"Smart Bluetooth Scale & Premium Lamicall Stand included as gift"})]})]})}),a("div",{className:"group p-6 hover:bg-gray-50/80 transition-all duration-300 rounded-2xl",children:u("div",{className:"flex items-start gap-4",children:[a("div",{className:"w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center flex-shrink-0 font-semibold text-sm",children:"3"}),u("div",{className:"flex-1",children:[a("h4",{className:"text-xl font-medium text-gray-900 mb-2",children:"Custom Training & Setup"}),a("p",{className:"text-gray-600 leading-relaxed",children:"Complete setup and team training included (Value: $500)"})]})]})})]}),a("div",{className:"text-center mb-14",children:u("div",{className:"relative inline-flex flex-col items-center bg-gradient-to-r from-white via-gray-50 to-white rounded-2xl px-8 py-6 border border-gray-200 shadow-lg hover:shadow-xl hover:border-gray-300 transition-all duration-500 transform scale-[1.2] hover:scale-[1.25]",children:[a("div",{className:"absolute -top-3 -right-3 bg-gradient-to-r from-red-500 to-orange-500 text-white text-sm font-bold px-3 py-1.5 rounded-full shadow-lg animate-pulse",children:"50% OFF"}),a("p",{className:"text-sm text-gray-600 mb-2 font-medium",children:"Starting from"}),u("div",{className:"flex items-center gap-6 mb-2",children:[u("div",{className:"text-center",children:[u("p",{className:"text-2xl font-bold text-blue-600 mb-1 transform hover:scale-110 transition-transform duration-200",children:["$39",a("span",{className:"text-lg",children:"/month"})]}),a("p",{className:"text-xs text-gray-500 font-medium",children:"Solo User"})]}),a("div",{className:"w-px h-12 bg-gray-300"}),u("div",{className:"text-center",children:[u("p",{className:"text-2xl font-bold text-purple-600 mb-1 transform hover:scale-110 transition-transform duration-200",children:["$79",a("span",{className:"text-lg",children:"/month"})]}),a("p",{className:"text-xs text-gray-500 font-medium",children:"Team Plan"})]})]}),a("p",{className:"text-xs text-gray-500",children:"Full access included"})]})}),a("div",{className:"text-center pt-4 pb-12",children:u("button",{onClick:e,className:"group relative bg-gradient-to-r from-blue-600 via-purple-600 to-blue-700 text-white px-8 py-3 md:px-10 md:py-4 rounded-xl text-base md:text-lg font-semibold shadow-xl hover:shadow-blue-500/25 transition-all duration-300 transform scale-[1.05] hover:scale-[1.10] hover:-rotate-1 min-w-[260px] md:min-w-[280px]",children:[a("span",{className:"relative z-10 flex items-center justify-center gap-3",children:"Take me straight to my free trial"}),a("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-700 via-purple-700 to-blue-800 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})})]})]})]}),u("section",{className:"py-12 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-gray-50 via-white to-gray-100 relative overflow-hidden",children:[u("div",{className:"absolute inset-0 opacity-30",children:[a("div",{className:"absolute top-10 left-10 w-72 h-72 bg-gradient-to-br from-blue-100 to-purple-100 rounded-full blur-3xl"}),a("div",{className:"absolute bottom-10 right-10 w-96 h-96 bg-gradient-to-br from-green-100 to-cyan-100 rounded-full blur-3xl"}),a("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-gradient-to-br from-yellow-50 to-orange-50 rounded-full blur-3xl"})]}),u("div",{className:"max-w-6xl mx-auto relative z-10",children:[u("div",{className:"text-center mb-12",children:[u("h2",{className:"text-4xl sm:text-5xl font-light text-gray-900 mb-6 leading-tight",children:["Your salon's potential savings with"," ",a("span",{className:"bg-gradient-to-r from-amber-600 via-orange-500 to-red-500 bg-clip-text text-transparent font-medium",children:"Spectra"})]}),a("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto leading-relaxed",children:"See the real impact on your bottom line and discover how much you could save"})]}),u("div",{className:"grid md:grid-cols-3 gap-8 mb-16",children:[a("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-lg border border-gray-200/50 hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:u("div",{className:"text-center",children:[a("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:a("span",{className:"text-2xl",children:"💰"})}),a("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"$8,500"}),a("p",{className:"text-gray-600 mb-4",children:"Average annual savings"}),u("div",{className:"text-sm text-gray-500",children:[a("p",{children:"• 85% less color waste"}),a("p",{children:"• Better inventory management"}),a("p",{children:"• Optimized color mixing"})]})]})}),a("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-lg border border-gray-200/50 hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:u("div",{className:"text-center",children:[a("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:a("span",{className:"text-2xl",children:"⏱️"})}),a("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"3.5 hours"}),a("p",{className:"text-gray-600 mb-4",children:"Saved per week"}),u("div",{className:"text-sm text-gray-500",children:[a("p",{children:"• Automated color calculations"}),a("p",{children:"• Instant mixing ratios"}),a("p",{children:"• Real-time tracking"})]})]})}),a("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-lg border border-gray-200/50 hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:u("div",{className:"text-center",children:[a("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:a("span",{className:"text-2xl",children:"📈"})}),a("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"23%"}),a("p",{className:"text-gray-600 mb-4",children:"Increase in profits"}),u("div",{className:"text-sm text-gray-500",children:[a("p",{children:"• Better cost control"}),a("p",{children:"• Reduced waste"}),a("p",{children:"• Enhanced efficiency"})]})]})})]})]})]}),u("section",{className:"relative py-20 px-4 sm:px-6 lg:px-8 overflow-hidden",children:[a("div",{className:"absolute inset-0 gradient-bg-hero"}),a("div",{className:"absolute inset-0 opacity-[0.015]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='80' height='80' viewBox='0 0 80 80' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23c79c6d' fill-opacity='1'%3E%3Ccircle cx='40' cy='40' r='0.8'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),u("div",{className:"max-w-6xl mx-auto relative z-10",children:[u("div",{className:"text-center mb-12",children:[a("p",{className:"text-xl text-spectra-gold-dark mb-4 font-medium",children:"Ask yourself…"}),u("h2",{className:"text-4xl sm:text-5xl font-light text-spectra-charcoal leading-tight",children:["Are you still dreaming of being the"," ",a("span",{className:"bg-gradient-to-r from-spectra-gold-light via-spectra-gold to-spectra-gold-dark bg-clip-text text-transparent font-medium",children:"best salon owner"})," ","you can be?"]})]}),u("div",{className:"relative max-w-2xl mx-auto mb-8",children:[a("div",{className:"absolute -inset-4 bg-gradient-to-r from-spectra-gold/20 to-spectra-gold-light/20 rounded-3xl blur-xl opacity-40"}),a("div",{className:"absolute -inset-2 bg-gradient-to-r from-spectra-gold-light/15 to-spectra-gold/15 rounded-3xl blur-lg"}),a("div",{className:"relative rounded-3xl overflow-hidden border-2 border-spectra-gold/30 shadow-[0_20px_60px_rgba(199,156,109,0.2)]",children:a("img",{src:"/red_haed_using_spectra.jpg",alt:"Red-haired stylist using Spectra system",className:"w-full h-auto object-cover",loading:"lazy",decoding:"async",onError:t=>{const n=t.target;n.src="https://images.unsplash.com/photo-1595476108010-b4d1f102b1b1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80"}})})]}),a("p",{className:"text-lg text-spectra-charcoal-light max-w-3xl mx-auto",children:"With us, you can."})]})]}),u("section",{className:"relative py-20 lg:py-32 overflow-hidden",children:[a("div",{className:"absolute inset-0 z-0",style:{backgroundImage:`
              linear-gradient(rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.8)),
              url('/dream-salon2.jpg')
            `,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed"}}),a("div",{className:"absolute inset-0 z-5 bg-gradient-to-b from-black/60 via-transparent to-transparent h-1/3"}),u("div",{className:"absolute inset-0 overflow-hidden",children:[a("div",{className:"absolute top-20 left-20 w-96 h-96 bg-gradient-to-br from-white/5 to-transparent rounded-full blur-3xl animate-pulse"}),a("div",{className:"absolute bottom-32 right-16 w-80 h-80 bg-gradient-to-br from-blue-400/10 to-purple-500/10 rounded-full blur-3xl animate-pulse delay-1000"}),a("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-72 h-72 bg-gradient-to-br from-amber-400/8 to-orange-500/8 rounded-full blur-3xl animate-pulse delay-500"}),a("div",{className:"absolute top-10 right-32 w-64 h-64 bg-gradient-to-br from-pink-400/5 to-purple-400/5 rounded-full blur-2xl animate-pulse delay-2000"}),a("div",{className:"absolute bottom-10 left-32 w-48 h-48 bg-gradient-to-br from-cyan-400/8 to-blue-400/8 rounded-full blur-2xl animate-pulse delay-3000"})]}),u("div",{className:"relative z-10 max-w-7xl mx-auto px-8 sm:px-12 lg:px-16",children:[u("div",{className:"mb-20",children:[a("div",{className:"text-center mb-12",children:u("h2",{className:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-extralight text-white mb-6 leading-[0.9] tracking-[-0.02em]",children:["See what Spectra"," ",a("span",{className:"bg-gradient-to-r from-spectra-gold-light via-spectra-gold to-spectra-gold-dark bg-clip-text text-transparent font-medium",children:"clients"})," ","are saying"]})}),a("div",{className:"relative",children:a(Rl,{})})]}),u("div",{className:"text-center mb-16",children:[a("h2",{className:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-extralight text-white mb-6 leading-[0.9] tracking-[-0.02em]",children:"Ready to"}),a("h2",{className:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-light text-transparent bg-clip-text bg-gradient-to-r from-blue-300 via-purple-300 to-pink-300 leading-[0.9] tracking-[-0.02em] drop-shadow-2xl mb-8",children:"Transform?"}),a("p",{className:"text-xl lg:text-2xl text-white/80 max-w-4xl mx-auto leading-relaxed font-light",children:"Join thousands of salon professionals who've revolutionized their business with Spectra."})]}),a("div",{className:"mb-16",children:a("div",{className:"relative max-w-4xl mx-auto",children:u("div",{className:"relative p-8 lg:p-12 bg-white/15 backdrop-blur-3xl rounded-[3rem] border border-white/25 shadow-2xl overflow-hidden",children:[a("div",{className:"absolute top-6 right-8 w-16 h-16 bg-gradient-to-br from-orange-400/20 to-red-500/20 rounded-full blur-xl animate-pulse"}),a("div",{className:"absolute bottom-6 left-8 w-12 h-12 bg-gradient-to-br from-purple-400/20 to-pink-300/20 rounded-full blur-xl animate-pulse delay-1000"}),a("div",{className:"absolute top-1/2 left-1/4 w-8 h-8 bg-gradient-to-br from-amber-400/20 to-orange-500/20 rounded-full blur-lg animate-pulse delay-500"}),u("div",{className:"relative z-10 text-center",children:[a("div",{className:"w-20 h-20 bg-gradient-to-br from-orange-400 to-red-500 rounded-3xl flex items-center justify-center shadow-2xl backdrop-blur-xl border border-white/30 mx-auto mb-6 group-hover:scale-110 transition-transform duration-500",children:a("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),a("h3",{className:"text-3xl lg:text-4xl font-light text-white mb-4 leading-tight tracking-[-0.02em]",children:"Book Your Demo"}),a("p",{className:"text-lg text-white/80 mb-8 leading-relaxed font-light max-w-2xl mx-auto",children:"See Spectra in action with a personalized walkthrough"}),u("a",{href:"/signup?trial=true",className:"group relative inline-flex items-center gap-3 px-10 py-5 bg-gradient-to-r from-[#FF9500] to-[#E6850E] hover:from-[#E6850E] hover:to-[#CC7A0D] text-white font-semibold text-lg rounded-full transition-all duration-300 shadow-2xl hover:shadow-3xl transform hover:scale-[1.02] border border-[#FF9500]/20",children:[a("span",{className:"relative z-10",children:"Start Free Trial"}),a("svg",{className:"w-5 h-5 relative z-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})}),a("div",{className:"absolute inset-0 bg-gradient-to-r from-[#E6850E] to-[#CC7A0D] rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]})]})})}),u("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 mb-16 max-w-5xl mx-auto",children:[u("div",{className:"group relative",children:[a("div",{className:"absolute -inset-4 rounded-[2.5rem] blur-xl opacity-0 group-hover:opacity-50 transition-all duration-700 ease-out pointer-events-none bg-gradient-to-r from-green-400/40 to-green-500/40"}),u("a",{href:"https://wa.me/972504322680?text=Hi! I'm interested in learning more about Spectra",target:"_blank",rel:"noopener noreferrer",className:"relative bg-white/15 backdrop-blur-3xl rounded-[2rem] border border-white/25 shadow-2xl hover:shadow-3xl transition-all duration-500 p-8 block group-hover:scale-[1.02] group-hover:border-white/40 h-full",children:[a("div",{className:"absolute inset-1 rounded-[1.8rem] bg-gradient-to-br from-white/10 to-transparent pointer-events-none"}),u("div",{className:"relative flex flex-col items-center text-center h-full justify-center",children:[a("div",{className:"w-16 h-16 bg-gradient-to-br from-green-400 to-green-500 rounded-2xl flex items-center justify-center shadow-2xl backdrop-blur-xl border border-white/30 group-hover:scale-110 transition-transform duration-500 mb-4",children:a("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:a("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})})}),a("h3",{className:"text-xl font-semibold text-white mb-3 tracking-tight",children:"WhatsApp"}),a("p",{className:"text-white/70 text-sm",children:"Quick response"})]})]})]}),u("div",{className:"group relative",children:[a("div",{className:"absolute -inset-4 rounded-[2.5rem] blur-xl opacity-0 group-hover:opacity-50 transition-all duration-700 ease-out pointer-events-none bg-gradient-to-r from-pink-400/40 to-purple-500/40"}),u("a",{href:"https://www.instagram.com/spectra.ci/",target:"_blank",rel:"noopener noreferrer",className:"relative bg-white/15 backdrop-blur-3xl rounded-[2rem] border border-white/25 shadow-2xl hover:shadow-3xl transition-all duration-500 p-8 block group-hover:scale-[1.02] group-hover:border-white/40 h-full",onClick:t=>{t.preventDefault(),navigator.clipboard.writeText("Hi! I'm interested in learning more about Spectra. Can you help me get started?"),window.open("https://www.instagram.com/spectra.ci/","_blank");const n=document.createElement("div");n.innerHTML="Message copied! Paste it in Instagram DM",n.className="fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50",document.body.appendChild(n),setTimeout(()=>n.remove(),3e3)},children:[a("div",{className:"absolute inset-1 rounded-[1.8rem] bg-gradient-to-br from-white/10 to-transparent pointer-events-none"}),u("div",{className:"relative flex flex-col items-center text-center h-full justify-center",children:[a("div",{className:"w-16 h-16 bg-gradient-to-br from-pink-400 to-purple-500 rounded-2xl flex items-center justify-center shadow-2xl backdrop-blur-xl border border-white/30 group-hover:scale-110 transition-transform duration-500 mb-4",children:a("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:a("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})}),a("h3",{className:"text-xl font-semibold text-white mb-3 tracking-tight",children:"Instagram DM"}),a("p",{className:"text-white/70 text-sm",children:"@spectra.ci"})]})]})]}),u("div",{className:"group relative",children:[a("div",{className:"absolute -inset-4 rounded-[2.5rem] blur-xl opacity-0 group-hover:opacity-40 transition-all duration-700 ease-out pointer-events-none bg-gradient-to-r from-blue-400/30 to-cyan-300/30"}),u("a",{href:"mailto:office@spectra-ci.com",className:"relative bg-white/15 backdrop-blur-3xl rounded-[2rem] border border-white/25 shadow-2xl hover:shadow-3xl transition-all duration-500 p-8 block group-hover:scale-[1.02] group-hover:border-white/40 h-full",children:[a("div",{className:"absolute inset-1 rounded-[1.8rem] bg-gradient-to-br from-white/10 to-transparent pointer-events-none"}),u("div",{className:"relative flex flex-col items-center text-center h-full justify-center",children:[a("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-400 to-cyan-300 rounded-2xl flex items-center justify-center shadow-2xl backdrop-blur-xl border border-white/30 group-hover:scale-110 transition-transform duration-500 mb-4",children:a("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),a("h3",{className:"text-xl font-semibold text-white mb-3 tracking-tight",children:"Email Us"}),a("p",{className:"text-white/70 text-sm",children:"office@spectra-ci.com"})]})]})]})]})]})]}),a("div",{id:"floating-cta",className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 translate-y-full opacity-0 transition-all duration-500 ease-in-out z-50",style:{transform:"translateX(-50%) translateY(120%)",opacity:0},children:u("div",{className:"relative",children:[a("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-400 to-red-400 rounded-full blur-lg opacity-30 scale-110"}),a("button",{onClick:e,className:"relative group bg-gradient-to-r from-amber-500 via-orange-500 to-red-500 hover:from-amber-600 hover:via-orange-600 hover:to-red-600 text-white px-7 py-3 md:px-8 md:py-4 rounded-full font-semibold shadow-[0_6px_25px_rgba(251,146,60,0.35)] hover:shadow-[0_8px_35px_rgba(251,146,60,0.5)] transition-all duration-300 hover:scale-105 flex items-center gap-3 text-sm md:text-base whitespace-nowrap",children:a("span",{className:"whitespace-nowrap",children:"Take me straight to my free trial"})})]})}),a(Bl,{})]})},Wl=()=>{kt();const{login:r}=fr(),[e,t]=y.useState({email:"",password:""}),[n,i]=y.useState(!1),[s,o]=y.useState(null),l=d=>{const{name:h,value:m}=d.target;t(f=>({...f,[h]:m})),o(null)};return a("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-spectra-cream via-white to-spectra-cream-dark py-12 px-4 sm:px-6 lg:px-8",children:u("div",{className:"max-w-md w-full space-y-8",children:[u("div",{className:"text-center",children:[a("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-spectra-gold to-spectra-gold-dark rounded-full flex items-center justify-center shadow-xl",children:a("span",{className:"text-white font-bold text-2xl",children:"S"})}),a("h2",{className:"text-3xl font-extrabold bg-gradient-to-r from-spectra-charcoal to-spectra-charcoal-light bg-clip-text text-transparent",children:"Sign in to Spectra"}),u("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",a(Z,{to:"/signup",className:"font-medium text-spectra-gold hover:text-spectra-gold-dark transition-colors duration-300",children:"create a new account"})]})]}),a("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-8 border border-spectra-gold/20",children:u("form",{className:"space-y-6",onSubmit:async d=>{if(d.preventDefault(),i(!0),o(null),!e.email||!e.password){o("Please fill in all fields"),i(!1);return}try{await r(e.email,e.password),window.location.href="/admin"}catch{o("Invalid email or password"),i(!1)}},children:[u("div",{className:"space-y-4",children:[u("div",{children:[a("label",{htmlFor:"email",className:"block text-sm font-medium text-spectra-charcoal",children:"Email address"}),a("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:l,className:"mt-1 appearance-none relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-spectra-charcoal rounded-xl focus:outline-none focus:ring-2 focus:ring-spectra-gold focus:border-spectra-gold transition-all duration-300 sm:text-sm",placeholder:"Enter your email"})]}),u("div",{children:[a("label",{htmlFor:"password",className:"block text-sm font-medium text-spectra-charcoal",children:"Password"}),a("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:e.password,onChange:l,className:"mt-1 appearance-none relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-spectra-charcoal rounded-xl focus:outline-none focus:ring-2 focus:ring-spectra-gold focus:border-spectra-gold transition-all duration-300 sm:text-sm",placeholder:"Enter your password"})]})]}),s&&a("div",{className:"rounded-xl bg-red-50 border border-red-200 p-4",children:a("p",{className:"text-sm text-red-800",children:s})}),a("div",{className:"flex items-center justify-between",children:a(Z,{to:"/forgot-password",className:"text-sm text-spectra-gold hover:text-spectra-gold-dark transition-colors duration-300",children:"Forgot your password?"})}),a("div",{children:a(oe,{type:"submit",disabled:n,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-xl text-white bg-gradient-to-r from-spectra-gold to-spectra-gold-dark hover:from-spectra-gold-dark hover:to-spectra-gold focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-spectra-gold disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",children:n?u("div",{className:"flex items-center",children:[a("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Signing in..."]}):"Sign in"})})]})}),a("div",{className:"text-center",children:a("p",{className:"text-xs text-gray-500",children:"Spectra Salon Management System"})})]})})},Hl=({onSelect:r,placeholder:e="Start typing your address...",className:t,isLoaded:n=!0})=>{const i=y.useRef(null),s=y.useRef(null),[o,l]=y.useState(""),c=(h,m)=>{var f;return((f=h.find(g=>g.types.includes(m)))==null?void 0:f.long_name)||""},d=()=>{if(!i.current)return;const h=i.current.getPlace(),m=(h==null?void 0:h.address_components)||[],f=c(m,"route"),g=c(m,"street_number"),b=c(m,"locality")||c(m,"sublocality")||c(m,"administrative_area_level_2"),p=c(m,"administrative_area_level_1"),x=c(m,"postal_code"),v=c(m,"country"),w=(h==null?void 0:h.formatted_address)||`${f} ${g}, ${b} ${x}, ${v}`.trim(),N=`${f} ${g}`.trim();l(N),r({addressLine1:N,city:b,state:p,zip:x,country:v,fullAddress:w})};return y.useEffect(()=>{if(!n||typeof window>"u"||window.gmpxExtendedLoaded)return;const h=document.createElement("script");h.src="https://unpkg.com/@googlemaps/extended-component-library@0.6/dist/index.min.js",h.async=!0,h.onload=()=>window.gmpxExtendedLoaded=!0,document.head.appendChild(h)},[n]),y.useEffect(()=>{if(!s.current)return;const h=m=>{var f,g,b;try{const p=((g=(f=m==null?void 0:m.target)==null?void 0:f.value)==null?void 0:g.place)||((b=m==null?void 0:m.detail)==null?void 0:b.place);if(!p)return;const x=p.addressComponents||[],v=M=>{var I,D;return((I=x.find(V=>{var j,_;return(_=(j=V.types||V.type)==null?void 0:j.includes)==null?void 0:_.call(j,M)}))==null?void 0:I.longText)||((D=x.find(V=>{var j,_;return(_=(j=V.types||V.type)==null?void 0:j.includes)==null?void 0:_.call(j,M)}))==null?void 0:D.long_name)||""},w=v("route"),N=v("street_number"),k=v("locality")||v("sublocality")||v("administrative_area_level_2"),S=v("administrative_area_level_1"),A=v("postal_code"),E=v("country"),L=p.formattedAddress||p.formatted_address||"",P=`${w} ${N}`.trim();l(P||L||""),r({addressLine1:P||L||"",city:k,state:S,zip:A,country:E,fullAddress:L||`${w} ${N}, ${k} ${A}, ${E}`})}catch{}};return s.current.addEventListener("gmpx-placechange",h),()=>{var m;return(m=s.current)==null?void 0:m.removeEventListener("gmpx-placechange",h)}},[r,n]),n?typeof window<"u"&&customElements.get("gmpx-place-autocomplete")?a("gmpx-place-autocomplete",{ref:s,placeholder:e,class:t||"mt-1 w-full px-4 py-3 bg-white border border-gray-300 rounded-2xl focus:border-gray-900/30 focus:ring-1 focus:ring-gray-900/20 transition-all duration-200 text-gray-900 placeholder-gray-400",style:{display:"block",zIndex:1e3}}):a(Oo,{onLoad:h=>i.current=h,onPlaceChanged:d,options:{fields:["address_components","formatted_address"],types:["address"]},children:a("input",{type:"text",placeholder:e,className:t||"mt-1 w-full px-4 py-3 bg-white border border-gray-300 rounded-2xl focus:border-gray-900/30 focus:ring-1 focus:ring-gray-900/20 transition-all duration-200 text-gray-900 placeholder-gray-400",value:o,onChange:h=>l(h.target.value),autoComplete:"shipping street-address"})}):null};function $l(){return{toast:y.useCallback(e=>{const{title:t,description:n,variant:i}=e;i==="destructive"?console.error(`[Toast: ${i}] ${t||""} - ${n||""}`):console.log(`[Toast: ${i||"default"}] ${t||""} - ${n||""}`)},[])}}class Dt{constructor(){this.isInitialized=!1}static getInstance(){return Dt.instance||(Dt.instance=new Dt),Dt.instance}async initializeTokenization(e,t){var n,i;if(await this.waitForDependencies(),!((i=(n=window.OfficeGuy)==null?void 0:n.Payments)!=null&&i.BindFormSubmit))throw new Error("SUMIT Payments library not loaded");return new Promise((s,o)=>{window.OfficeGuy.Payments.BindFormSubmit({CompanyID:t.CompanyID,APIPublicKey:t.APIPublicKey,Selector:e,onSuccess:l=>{console.log("SUMIT tokenization success:",l);const c=document.querySelector('input[name="og-token"]');c&&l.Token&&(c.value=l.Token),this.isInitialized=!0,s()},onError:l=>{console.error("SUMIT tokenization error:",l);const c=document.querySelector(".og-errors");c&&(c.textContent=l.Message||"Payment validation failed"),o(new Error(l.Message||"Tokenization failed"))}})})}getToken(){const e=document.querySelector('input[name="og-token"]');return(e==null?void 0:e.value)||null}clearToken(){const e=document.querySelector('input[name="og-token"]');e&&(e.value="")}async tokenizeForm(e){try{if(!this.isInitialized)throw new Error("Tokenization not initialized");return this.clearToken(),new Promise((t,n)=>{var d,h,m,f,g;const i=setTimeout(()=>{n(new Error("Tokenization timeout - please try again"))},1e4),s=(h=(d=window.OfficeGuy)==null?void 0:d.Payments)==null?void 0:h.onSuccess,o=(f=(m=window.OfficeGuy)==null?void 0:m.Payments)==null?void 0:f.onError;(g=window.OfficeGuy)!=null&&g.Payments&&(window.OfficeGuy.Payments.onSuccess=b=>{clearTimeout(i),console.log("✅ SUMIT tokenization completed:",b);const p=document.querySelector('input[name="og-token"]');p&&b.Token&&(p.value=b.Token),s&&(window.OfficeGuy.Payments.onSuccess=s),o&&(window.OfficeGuy.Payments.onError=o),t({success:!0,token:b.Token})},window.OfficeGuy.Payments.onError=b=>{clearTimeout(i),console.error("❌ SUMIT tokenization error:",b),s&&(window.OfficeGuy.Payments.onSuccess=s),o&&(window.OfficeGuy.Payments.onError=o),t({success:!1,error:b.Message||"Tokenization failed"})});const l=document.querySelector(e);if(!l){clearTimeout(i),n(new Error("Form not found"));return}const c=new Event("submit",{bubbles:!0,cancelable:!0});l.dispatchEvent(c)})}catch(t){return{success:!1,error:t.message}}}async waitForDependencies(e=50){var t;for(let n=0;n<e;n++){if(window.jQuery&&((t=window.OfficeGuy)!=null&&t.Payments))return;await new Promise(i=>setTimeout(i,100))}throw new Error("SUMIT dependencies failed to load")}}const wi=Dt.getInstance(),vr=["Account Info","Shipping Info","Confirm"],Vl=["places"],Ul=()=>{const r=kt(),{toast:e}=$l(),[t]=Ro(),n=t.get("trial")==="true",i=y.useRef(null),[s,o]=y.useState(!1),l="your_google_maps_key_here",{isLoaded:c}=zo({id:"google-maps-script",googleMapsApiKey:l,libraries:Vl,language:"en",region:"IL"}),[d,h]=y.useState(!1),[m,f]=y.useState(null);y.useEffect(()=>{if(c){h(!0),f(null);return}const T=setTimeout(()=>{c||(h(!1),f("Address autocomplete temporarily unavailable. You can continue without it."))},1e4);return()=>clearTimeout(T)},[c]);const[g,b]=y.useState(0),[p,x]=y.useState({email:"",password:"",fullName:"",phone:"",instagram:"",plan_code:"single",plan_label:"Single User",plan_price:39,plan_currency:"USD",shipping_address:"",shipping_city:"",shipping_zip:"",shipping_country:"",shipping_state:"",full_shipping_address:"",company:"",invoice_company:"",billing_address:"",billing_city:"",billing_zip:"",billing_country:"",billing_state:"",card_number:"",card_exp_month:"",card_exp_year:"",card_cvc:""}),[v,w]=y.useState(!1),[N,k]=y.useState(null),[S,A]=y.useState(!1),[E,L]=y.useState(null),[P,M]=y.useState(null),[I,D]=y.useState(""),[V,j]=y.useState("IL"),[_,R]=y.useState(!0),[Y,de]=y.useState("");y.useState("");const F=(()=>{const T=typeof navigator<"u"&&navigator.userAgent||"",C=typeof window<"u"?new URLSearchParams(window.location.search):null,O=(C==null?void 0:C.get("ig_mode"))||(C==null?void 0:C.get("ig_preview"))||(C==null?void 0:C.get("ig_only"))||(C==null?void 0:C.get("ig")),B=O?/^(1|true|yes|ig)$/i.test(O):!1;return/instagram/i.test(T)||B})();y.useEffect(()=>{if(!F)return;const T=document.documentElement.style.overflowX;return document.documentElement.style.overflowX="hidden",document.body.style.overflowX="hidden",()=>{document.documentElement.style.overflowX=T,document.body.style.overflowX=T}},[F]),y.useEffect(()=>{if(!F)return;const T=new URLSearchParams(window.location.search),C=T.get("ig_username")||T.get("ig")||"",B=/^(1|true|yes|ig)$/i.test(C||"")?"":C;B&&!p.instagram&&x(re=>({...re,instagram:B.startsWith("@")?B:`@${B}`}))},[F]),y.useEffect(()=>{if(g!==2||!n)return;(async()=>{try{console.log("Initializing SUMIT tokenization...");const C="12345",O={}.VITE_SUMIT_API_PUBLIC_KEY||"pk_live_your_public_key_here";if(!C||!O){console.error("SUMIT configuration missing",{companyId:!!C,apiPublicKey:!!O}),k("Payment system not configured. Please check environment variables.");return}await wi.initializeTokenization("#payment-form",{CompanyID:C,APIPublicKey:O}),o(!0),console.log("SUMIT tokenization ready")}catch(C){console.error("Failed to initialize SUMIT tokenization:",C),e({title:"Payment Setup Error",description:"Unable to initialize payment system. Please refresh and try again.",variant:"destructive"})}})()},[g,n,e]),y.useEffect(()=>{(async()=>{var T;try{const C=await fetch("/.netlify/functions/detect-geo");if(!C.ok)return;const O=await C.json().catch(()=>({})),B=O&&O.dial_code||"",re=O&&O.country||null;L(re),M(B),re&&j(re),B&&!((T=p.phone)!=null&&T.startsWith("+"))&&(x(ee=>({...ee,phone:B})),D(B+" "))}catch{}})()},[]);const ye=(T,C)=>{const O=String(T||"").replace(/[^0-9+]/g,"");if(O.startsWith("+"))return O;const B=C||V||E||void 0,re=B&&(P||"")||(B==="IL"?"+972":B==="US"?"+1":"");return re?O.startsWith("0")?re+O.slice(1):re+O:O},ve=(T,C)=>{const O=C||E||void 0;if(!T||!T.startsWith("+"))return T;const B=T.replace(/\D/g,"");if(B.startsWith("972")||O==="IL"){const ee=B.replace(/^972/,"");if(ee.length>=9){const Ct=ee.slice(0,2),je=ee.slice(2,5),Mt=ee.slice(5,9);return"+972 (0) "+Ct+"-"+je+"-"+Mt}return"+972 (0) "+ee}if(B.startsWith("1")||O==="US"||O==="CA"){const ee=B.replace(/^1/,"");if(ee.length>=10){const Ct=ee.slice(0,3),je=ee.slice(3,6),Mt=ee.slice(6,10);return"+1 ("+Ct+") "+je+"-"+Mt}return"+1 "+ee}const re=B.replace(/^\d{1,3}/,ee=>"");return T.split(" ").join("")+(re?" "+re.replace(/(\d{3})(?=\d)/g,"$1 "):"")};y.useEffect(()=>{g===2&&x(T=>({...T,billing_address:T.billing_address||T.shipping_address||"",billing_city:T.billing_city||T.shipping_city||"",billing_state:T.billing_state||T.shipping_state||"",billing_zip:T.billing_zip||T.shipping_zip||"",billing_country:T.billing_country||T.shipping_country||""}))},[g]);const ge=async T=>{try{await fetch("/.netlify/functions/signup-steps",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:p.email,...T})})}catch(C){console.warn("Partial persist failed (continuing):",C)}},$=T=>{const{name:C,value:O}=T.target;if(C==="phone"){D(O);const B=ye(O,p.shipping_country||void 0);x(re=>({...re,phone:B})),k(null);return}x(B=>({...B,[C]:O})),k(null)},Re=()=>{const T=ye(I||p.phone,V||p.shipping_country||void 0);x(C=>({...C,phone:T})),D(ve(T,V||p.shipping_country||void 0))},ct=T=>{const C=T.target.value;j(C);const O=ye(I||p.phone,C);x(B=>({...B,phone:O})),D(ve(O,C))},Be=async()=>{const T={IL:"+972",US:"+1",CA:"+1",GB:"+44",DE:"+49",FR:"+33",ES:"+34",IT:"+39",AU:"+61",NL:"+31"},C=(O,B)=>{const re=B&&T[B]||"",ee=O.trim();return ee.startsWith("+")?ee:re?ee.startsWith("0")?`${re}${ee.slice(1)}`:`${re}${ee}`:ee};if(g===0){if(!p.fullName||!p.email){k("Please fill in required fields");return}const O=(p.phone||"").trim();if(O&&!O.startsWith("+")){const B=C(O,p.shipping_country||"IL");x(re=>({...re,phone:B}))}await ge({full_name:p.fullName,phone:p.phone,email:p.email,instagram:p.instagram})}if(g===1){const O=C(p.phone,p.shipping_country);O!==p.phone&&x(B=>({...B,phone:O})),await ge({shipping_address:p.shipping_address,shipping_city:p.shipping_city,shipping_state:p.shipping_state,shipping_zip:p.shipping_zip,shipping_country:p.shipping_country,full_shipping_address:p.full_shipping_address,phone:O})}b(O=>Math.min(O+1,vr.length-1))},Po=()=>b(T=>Math.max(0,T-1)),To=async T=>{if(T.preventDefault(),console.log("🚀 handleSubmit called - isTrial:",n,"step:",g),w(!0),k(null),n){console.log("🔄 Starting SUMIT trial signup process...");try{if(!p.fullName||!p.email||!p.phone){k("Please fill in all required fields"),w(!1);return}if(!p.card_number||!p.card_exp_month||!p.card_exp_year||!p.card_cvc){k("Please fill in all payment fields"),w(!1);return}console.log("✅ All fields validated, proceeding with registration..."),console.log("🔄 Triggering SUMIT tokenization...");try{const Ft=await wi.tokenizeForm("#payment-form");if(!Ft.success){k(Ft.error||"Payment tokenization failed"),w(!1);return}console.log("✅ Tokenization successful, token:",Ft.token)}catch(Ft){console.error("❌ Tokenization failed:",Ft),k("Payment validation failed. Please check your card details."),w(!1);return}const C=p.fullName.trim().split(" "),O=C[0]||"",B=C.slice(1).join(" ")||C[0]||"",re=(()=>{switch(p.plan_code){case"single":return"Single User – $39/month";case"multi":return"Multi Users – $79/month";case"plus":return"Multi Plus – $129/month";case"power":return"Power Salon – $189/month";default:return"Single User – $39/month"}})(),ee=document.querySelector('input[name="og-token"]'),Ct=(ee==null?void 0:ee.value)||null;if(!Ct){console.error("❌ No token found after tokenization"),k("Payment tokenization failed. Please try again."),w(!1);return}console.log("✅ Token ready for backend submission");const je={email:p.email,firstName:O,lastName:B,phone:p.phone,plan:re,companyName:p.company||p.invoice_company||"",ogToken:Ct};console.log("📤 Submitting to backend...",{email:je.email,plan:je.plan,companyName:je.companyName,hasCardNumber:!!je.cardNumber});const Mt=await fetch("/.netlify/functions/create-user-with-sumit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(je)}),xr=await Mt.json();if(!Mt.ok)throw console.error("❌ Backend error:",xr),new Error(xr.error||"Failed to process payment");console.log("✅ Trial signup completed successfully",xr),e({title:"Welcome to Spectra!",description:xr.message||"Your 35-day free trial has started",variant:"default"}),A(!0),setTimeout(()=>r("/dashboard"),2e3);return}catch(C){console.error("Signup error:",C),e({title:"Signup Failed",description:C.message||"Please check your information and try again",variant:"destructive"}),k((C==null?void 0:C.message)||"Failed to complete signup")}finally{w(!1)}return}if(p.password.length<6){k("Password must be at least 6 characters"),w(!1);return}try{await Ie.signup({email:p.email,password:p.password,fullName:p.fullName,phone:p.phone}),A(!0),setTimeout(()=>r("/"),1500)}catch(C){k((C==null?void 0:C.message)||"Sign up failed")}finally{w(!1)}};if(S)return a("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-spectra-cream via-white to-spectra-cream-dark",children:u("div",{className:"max-w-md w-full text-center space-y-6 bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-8",children:[a("div",{className:"w-20 h-20 mx-auto bg-gradient-to-br from-green-500 to-green-600 rounded-full flex items-center justify-center text-white text-3xl font-bold shadow-lg",children:"✓"}),a("h2",{className:"text-2xl font-bold bg-gradient-to-r from-spectra-charcoal to-spectra-charcoal-light bg-clip-text text-transparent",children:n?"Request submitted!":"Account Created Successfully!"}),u("p",{className:"text-gray-600",children:["Redirecting you ",n?"to home":"to dashboard","..."]}),a(gr,{})]})});const Lo=F?"min-h-screen flex items-start justify-center bg-white py-6 px-4 overflow-x-hidden":"min-h-screen relative flex items-center justify-center bg-gradient-to-br from-[#0b0b0d] via-[#111315] to-[#0b0b0d] py-12 px-4 sm:px-6 lg:px-8 overflow-hidden",Do=F?"bg-white rounded-3xl shadow-2xl p-6 border border-gray-200":"bg-white/10 backdrop-blur-3xl rounded-3xl shadow-2xl p-8 border border-white/15",zt=F?"block text-sm font-medium text-gray-900":"block text-sm font-medium text-white",ae=F?"mt-1 w-full px-4 py-3 bg-white border border-gray-300 rounded-2xl focus:border-gray-900/30 focus:ring-1 focus:ring-gray-900/20 transition-all duration-200 text-gray-900 placeholder-gray-400":"mt-1 w-full px-4 py-3 bg-white/10 backdrop-blur-xl border border-white/30 rounded-2xl focus:border-blue-400/60 focus:ring-1 focus:ring-blue-400/30 transition-all duration-200 text-white placeholder-white/70",Ao=F?"px-3 py-3 bg-white border border-gray-300 rounded-2xl text-gray-900 focus:border-gray-900/30 focus:ring-1 focus:ring-gray-900/20":"px-3 py-3 bg-white/10 backdrop-blur-xl border border-white/30 rounded-2xl text-white focus:border-blue-400/60 focus:ring-1 focus:ring-blue-400/30";return u("div",{className:Lo,children:[!F&&u(Oe,{children:[a("div",{className:"pointer-events-none absolute inset-0 opacity-[0.35]",style:{backgroundImage:"repeating-linear-gradient(to bottom, rgba(255,255,255,0.04) 0px, rgba(255,255,255,0.04) 1px, transparent 1px, transparent 24px)"}}),a("div",{className:"pointer-events-none absolute -bottom-[22vh] left-1/2 -translate-x-1/2 w-[1600px] h-[800px] rounded-full opacity-70 blur-2xl",style:{background:"radial-gradient(ellipse at center, rgba(255,112,54,0.38) 0%, rgba(255,112,54,0.22) 40%, rgba(255,112,54,0.0) 70%)"}})]}),u("div",{className:"max-w-xl w-full space-y-8",children:[a("div",{className:"flex items-center justify-center gap-4 text-sm",children:vr.map((T,C)=>u("div",{className:"flex items-center gap-2",children:[a("div",{className:`w-7 h-7 rounded-full flex items-center justify-center ${F?C<=g?"bg-gray-900 text-white":"bg-gray-200 text-gray-700":C<=g?"bg-blue-500 text-white":"bg-white/10 text-white/60"}`,children:C+1}),a("span",{className:`hidden sm:block ${F?C===g?"text-gray-900 font-medium":"text-gray-600":C===g?"text-white font-medium":"text-white/60"}`,children:T}),C<vr.length-1&&a("div",{className:`w-10 sm:w-16 h-px ${F?"bg-gray-300":"bg-white/15"}`})]},T))}),u("div",{className:"text-center",children:[a("h1",{className:F?"text-2xl sm:text-3xl font-semibold text-gray-900":"text-3xl sm:text-4xl font-light text-white tracking-tight drop-shadow-[0_1px_2px_rgba(0,0,0,0.6)]",children:"Your journey to confident coloring starts now."}),a("p",{className:F?"mt-2 text-sm text-gray-600":"mt-2 text-sm text-white/80",children:"Precise onboarding. Minimal friction. Premium experience."})]}),a("div",{className:Do,children:u("form",{id:"payment-form",ref:i,className:"space-y-6",onSubmit:To,"data-og":"form",children:[g===0&&u("div",{className:"space-y-4",children:[u("div",{children:[a("label",{htmlFor:"fullName",className:zt,children:"Full Name *"}),a("input",{id:"fullName",name:"fullName",type:"text",required:!0,value:p.fullName,onChange:$,className:ae,placeholder:"Enter your full name"})]}),u("div",{children:[a("label",{htmlFor:"phone",className:zt,children:"Phone Number"}),u("div",{className:"mt-1 grid grid-cols-[140px_1fr] gap-2",children:[u("select",{value:V,onChange:ct,className:Ao,children:[a("option",{value:"IL",children:"Israel (+972)"}),a("option",{value:"US",children:"United States (+1)"}),a("option",{value:"CA",children:"Canada (+1)"}),a("option",{value:"GB",children:"United Kingdom (+44)"}),a("option",{value:"ES",children:"Spain (+34)"}),a("option",{value:"IT",children:"Italy (+39)"}),a("option",{value:"FR",children:"France (+33)"}),a("option",{value:"DE",children:"Germany (+49)"}),a("option",{value:"NL",children:"Netherlands (+31)"}),a("option",{value:"AU",children:"Australia (+61)"})]}),a("input",{id:"phone",name:"phone",type:"tel",value:I||p.phone,onChange:$,onBlur:Re,className:ae,placeholder:"Enter your phone number"})]})]}),u("div",{children:[a("label",{htmlFor:"email",className:zt,children:"Email Address *"}),a("input",{id:"email",name:"email",type:"email",required:!0,value:p.email,onChange:$,className:ae,placeholder:"Enter your email address"})]}),u("div",{children:[a("label",{htmlFor:"instagram",className:zt,children:"Instagram Page (Optional)"}),a("input",{id:"instagram",name:"instagram",type:"text",value:p.instagram,onChange:$,className:ae,placeholder:"@your_instagram or profile URL (optional)"})]})]}),g===1&&u("div",{className:"space-y-4",children:[u("div",{children:[a("label",{className:zt+(F?"":" drop-shadow-[0_1px_2px_rgba(0,0,0,0.5)]"),children:"Shipping Address"}),m&&a("div",{className:"text-xs text-gray-500 mb-1",children:m}),a(Hl,{isLoaded:d,onSelect:T=>x(C=>({...C,shipping_address:T.addressLine1,shipping_city:T.city,shipping_state:T.state,shipping_zip:T.zip,shipping_country:T.country,full_shipping_address:T.fullAddress}))})]}),u("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[a("input",{id:"shipping_city",name:"shipping_city",type:"text",value:p.shipping_city,onChange:$,className:ae,placeholder:"City"}),a("input",{id:"shipping_state",name:"shipping_state",type:"text",value:p.shipping_state,onChange:$,className:ae,placeholder:"State / Region"}),a("input",{id:"shipping_zip",name:"shipping_zip",type:"text",value:p.shipping_zip,onChange:$,className:ae,placeholder:"ZIP / Postal code"}),a("input",{id:"shipping_country",name:"shipping_country",type:"text",value:p.shipping_country,onChange:$,className:ae,placeholder:"Country"})]})]}),g===2&&u("div",{className:"space-y-6",children:[a("div",{className:F?"rounded-xl bg-orange-50 border border-orange-200 p-4":"rounded-xl bg-amber-500/10 border border-amber-400/30 p-4",children:a("p",{className:F?"text-sm text-gray-800":"text-sm text-white/90",children:"To ensure we can send your free bundle quickly, please enter your shipping address and payment details below. Rest assured – no charges will apply until your 30-day free trial ends, and you’ll receive a reminder 7 days before the trial period concludes."})}),u("div",{children:[a("label",{className:F?"block text-sm font-medium text-gray-900":"block text-sm font-medium text-white",children:"Plan"}),u("select",{name:"plan_code",value:p.plan_code,onChange:T=>{const C=T.target.value,O={single:{label:"Single User",price:39},multi:{label:"Multi Users",price:79},plus:{label:"Multi Plus",price:129},power:{label:"Power Salon",price:189}},B=O[C]||O.single;x(re=>({...re,plan_code:C,plan_label:B.label,plan_price:B.price,plan_currency:"USD"}))},className:F?"mt-1 w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-gray-900/20 focus:border-gray-900/30 bg-white text-gray-900":"mt-1 w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-spectra-gold focus:border-spectra-gold",children:[a("option",{value:"single",children:"Single User - $39/month"}),a("option",{value:"multi",children:"Multi Users - $79/month"}),a("option",{value:"plus",children:"Multi Plus - $129/month"}),a("option",{value:"power",children:"Power Salon - $189/month"})]})]}),u("div",{children:[a("label",{className:F?"block text-sm font-medium text-gray-900":"block text-sm font-medium text-white",children:"Company name (for invoice)"}),a("input",{name:"company",value:p.company||"",onChange:$,className:ae,placeholder:"Your salon name"})]}),u("div",{children:[a("label",{className:F?"block text-sm font-medium text-gray-900":"block text-sm font-medium text-white",children:"Card number"}),a("input",{"data-og":"cardnumber",type:"text",size:20,maxLength:19,value:Y,onChange:T=>{const C=T.target.value.replace(/\s/g,"").replace(/\D/g,""),O=C.replace(/(\d{4})(?=\d)/g,"$1 ");de(O),x(B=>({...B,card_number:C}))},className:ae,placeholder:"Card number",required:!0,autoComplete:"cc-number"})]}),u("div",{className:"grid grid-cols-3 gap-4",children:[u("div",{children:[a("label",{className:F?"block text-sm font-medium text-gray-900":"block text-sm font-medium text-white",children:"Month"}),a("input",{"data-og":"expirationmonth",name:"card_exp_month",type:"text",size:2,maxLength:2,value:p.card_exp_month,onChange:T=>{const C=T.target.value.replace(/\D/g,"");C.length<=2&&x(O=>({...O,card_exp_month:C}))},className:ae,placeholder:"MM",required:!0,autoComplete:"cc-exp-month"})]}),u("div",{children:[a("label",{className:F?"block text-sm font-medium text-gray-900":"block text-sm font-medium text-white",children:"Year"}),a("input",{"data-og":"expirationyear",name:"card_exp_year",type:"text",size:4,maxLength:4,value:p.card_exp_year,onChange:T=>{const C=T.target.value.replace(/\D/g,"");C.length<=4&&x(O=>({...O,card_exp_year:C}))},className:ae,placeholder:"YYYY",required:!0,autoComplete:"cc-exp-year"})]}),u("div",{children:[a("label",{className:F?"block text-sm font-medium text-gray-900":"block text-sm font-medium text-white",children:"CVC"}),a("input",{"data-og":"cvv",name:"card_cvc",type:"text",size:4,maxLength:4,value:p.card_cvc,onChange:T=>{const C=T.target.value.replace(/\D/g,"");C.length<=4&&x(O=>({...O,card_cvc:C}))},className:ae,placeholder:"CVV",required:!0,autoComplete:"cc-csc"})]})]}),u("div",{children:[a("label",{className:F?"block text-sm font-medium text-gray-900":"block text-sm font-medium text-white",children:"ID Number"}),a("input",{"data-og":"citizenid",type:"text",maxLength:9,className:ae,placeholder:"ID Number",required:!0})]}),a("input",{type:"hidden",name:"og-token"}),a("div",{className:"og-errors text-red-500 text-sm"}),u("div",{className:"flex items-center gap-3",children:[a("input",{id:"sameInvoice",type:"checkbox",checked:_,onChange:()=>R(T=>!T),className:"h-4 w-4"}),a("label",{htmlFor:"sameInvoice",className:F?"text-sm text-gray-900":"text-sm text-white",children:"Use shipping address for invoice"})]}),!_&&u("div",{className:"space-y-3","aria-expanded":!_,children:[u("div",{children:[a("label",{className:F?"block text-sm font-medium text-gray-900":"block text-sm font-medium text-spectra-charcoal",children:"Billing Address"}),a("input",{name:"billing_address",value:p.billing_address,onChange:$,className:ae,placeholder:"Street and number"})]}),u("div",{className:"grid grid-cols-2 gap-4",children:[u("div",{children:[a("label",{className:F?"block text-sm font-medium text-gray-900":"block text-sm font-medium text-spectra-charcoal",children:"City"}),a("input",{name:"billing_city",value:p.billing_city,onChange:$,className:ae,placeholder:"City"})]}),u("div",{children:[a("label",{className:F?"block text-sm font-medium text-gray-900":"block text-sm font-medium text-spectra-charcoal",children:"ZIP"}),a("input",{name:"billing_zip",inputMode:"numeric",value:p.billing_zip,onChange:$,className:ae,placeholder:"ZIP / Postal code"})]})]}),u("div",{className:"grid grid-cols-2 gap-4",children:[u("div",{children:[a("label",{className:F?"block text-sm font-medium text-gray-900":"block text-sm font-medium text-spectra-charcoal",children:"Country"}),a("input",{name:"billing_country",value:p.billing_country,onChange:$,className:ae,placeholder:"Country"})]}),u("div",{children:[a("label",{className:F?"block text-sm font-medium text-gray-900":"block text-sm font-medium text-spectra-charcoal",children:"State / Region"}),a("input",{name:"billing_state",value:p.billing_state,onChange:$,className:ae,placeholder:"State / Region"})]})]})]}),a("div",{className:"pt-2",children:u("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 text-xs text-gray-500",children:[u("div",{className:"flex items-center gap-2",children:[u("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-gray-100 border border-gray-200",children:[u("svg",{className:"w-3.5 h-3.5 text-gray-600",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[a("rect",{x:"2",y:"5",width:"20",height:"14",rx:"2"}),a("path",{d:"M2 10h20"})]}),a("span",{children:"VISA/MC"})]}),u("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-gray-100 border border-gray-200",children:[u("svg",{className:"w-3.5 h-3.5 text-gray-600",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[a("rect",{x:"3",y:"11",width:"18",height:"10",rx:"2"}),a("path",{d:"M7 11V7a5 5 0 0110 0v4"})]}),a("span",{children:"SSL"})]}),u("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-gray-100 border border-gray-200",children:[u("svg",{className:"w-3.5 h-3.5 text-gray-600",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[a("path",{d:"M12 2l7 4v5c0 5-3.5 9-7 11-3.5-2-7-6-7-11V6l7-4z"}),a("path",{d:"M9 12l2 2 4-4"})]}),a("span",{children:"PCI DSS"})]})]}),u("div",{className:"sm:text-right",children:[a("span",{children:"Page by Spectra CI LTD, ID: 516078094"}),a("span",{className:"hidden sm:inline mx-1",children:"•"}),a("span",{children:"Secured by Spectra"})]})]})}),!n&&u("div",{children:[a("label",{htmlFor:"password",className:"block text-sm font-medium text-spectra-charcoal",children:"Password *"}),a("input",{id:"password",name:"password",type:"password",value:p.password,onChange:$,className:"mt-1 w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-spectra-gold focus:border-spectra-gold",placeholder:"Create a password (min 6 characters)"})]})]}),N&&a("div",{className:"rounded-xl bg-red-50 border border-red-200 p-4",children:a("p",{className:"text-sm text-red-800",children:N})}),u("div",{className:"flex items-center justify-between gap-3",children:[a(oe,{type:"button",onClick:Po,disabled:g===0||v,size:"lg",className:"px-5 disabled:opacity-50",children:"Back"}),g<vr.length-1?a("button",{type:"button",onClick:Be,disabled:v,className:"px-6 py-3 rounded-xl bg-gradient-to-r from-orange-500 to-amber-500 text-white shadow-[0_6px_24px_rgba(255,115,64,0.3)] hover:shadow-[0_8px_30px_rgba(255,115,64,0.45)] transition-colors disabled:opacity-50",children:"Next"}):a("button",{type:"submit",disabled:v,className:n?"px-6 py-3 rounded-xl bg-gradient-to-r from-orange-500 to-amber-500 text-white shadow-[0_6px_24px_rgba(255,115,64,0.3)] hover:shadow-[0_8px_30px_rgba(255,115,64,0.45)] transition-colors disabled:opacity-50":"px-6 py-3 rounded-xl",children:n?"Start My Free Trial":"Create Account"})]})]})})]})]})},Yl=()=>{const[r,e]=y.useState(""),[t,n]=y.useState(!1),[i,s]=y.useState(null),[o,l]=y.useState(!1),c=async d=>{if(d.preventDefault(),n(!0),s(null),!r){s("Please enter your email address"),n(!1);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)){s("Please enter a valid email address"),n(!1);return}try{await Ie.forgotPassword(r),l(!0),n(!1)}catch(m){console.error("Password reset error:",m),s("An error occurred. Please try again."),n(!1)}};return o?a("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-white to-orange-50 flex items-center justify-center px-4",children:a("div",{className:"max-w-md w-full",children:u("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-8",children:[a("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),u("div",{className:"text-center",children:[a("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Check Your Email"}),u("p",{className:"text-gray-600 mb-6",children:["We've sent a password reset link to ",a("strong",{children:r}),". Please check your email and follow the instructions to reset your password."]}),a("p",{className:"text-sm text-gray-500 mb-8",children:"Didn't receive the email? Check your spam folder or try again."}),u("div",{className:"space-y-3",children:[a("button",{onClick:()=>{l(!1),e("")},className:"w-full bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 transform hover:scale-[1.02]",children:"Send Another Email"}),a(Z,{to:"/login",className:"block w-full text-center text-gray-700 hover:text-amber-600 font-medium py-3 px-6 rounded-xl border border-gray-200 hover:border-amber-600 transition-all duration-200",children:"Back to Sign In"})]})]})]})})}):a("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-white to-orange-50 flex items-center justify-center px-4",children:u("div",{className:"max-w-md w-full",children:[u("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-8",children:[u("div",{className:"text-center mb-8",children:[a("div",{className:"w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a("svg",{className:"w-8 h-8 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1721 9z"})})}),a("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Forgot Password?"}),a("p",{className:"text-gray-600",children:"No worries! Enter your email address and we'll send you a link to reset your password."})]}),u("form",{onSubmit:c,className:"space-y-6",children:[u("div",{children:[a("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a("input",{type:"email",id:"email",name:"email",value:r,onChange:d=>{e(d.target.value),s(null)},className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all duration-200",placeholder:"your@email.com",required:!0,disabled:t})]}),i&&a("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:u("div",{className:"flex items-center",children:[a("svg",{className:"w-5 h-5 text-red-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:a("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),a("p",{className:"text-sm text-red-600",children:i})]})}),a(oe,{type:"submit",disabled:t,className:"w-full bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:t?u("div",{className:"flex items-center justify-center",children:[a("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),a("span",{children:"Sending Reset Link..."})]}):"Send Reset Link"})]}),a("div",{className:"mt-6 text-center",children:u("p",{className:"text-gray-600",children:["Remember your password?"," ",a(Z,{to:"/login",className:"text-amber-600 hover:text-amber-700 font-medium hover:underline transition-colors",children:"Sign in here"})]})})]}),a("div",{className:"text-center mt-8",children:u("p",{className:"text-sm text-gray-500",children:["Back to",a(Z,{to:"/",className:"text-amber-600 hover:underline mx-1",children:"Homepage"})]})})]})})},ql=()=>{const r=kt(),[e,t]=y.useState({password:"",confirmPassword:""}),[n,i]=y.useState(!1),[s,o]=y.useState(null),l=d=>{const{name:h,value:m}=d.target;t(f=>({...f,[h]:m})),o(null)};return a("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-white to-orange-50 flex items-center justify-center px-4",children:u("div",{className:"max-w-md w-full",children:[u("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-8",children:[u("div",{className:"text-center mb-8",children:[a("div",{className:"w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a("svg",{className:"w-8 h-8 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1721 9z"})})}),a("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Reset Password"}),a("p",{className:"text-gray-600",children:"This feature is currently being updated. Please contact support for password resets."})]}),u("form",{onSubmit:async d=>{if(d.preventDefault(),i(!0),o(null),!e.password||!e.confirmPassword){o("Please fill in all fields"),i(!1);return}if(e.password.length<6){o("Password must be at least 6 characters long"),i(!1);return}if(e.password!==e.confirmPassword){o("Passwords do not match"),i(!1);return}try{const h=new URLSearchParams(window.location.search).get("token");if(!h){o("Missing or invalid reset token"),i(!1);return}await Ie.resetPassword(h,e.password),i(!1),r("/login",{replace:!0})}catch(h){console.error("Password update error:",h),o("An error occurred. Please try again."),i(!1)}},className:"space-y-6",children:[u("div",{children:[a("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),a("input",{type:"password",id:"password",name:"password",value:e.password,onChange:l,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all duration-200",placeholder:"At least 6 characters",required:!0,minLength:6,disabled:n})]}),u("div",{children:[a("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),a("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:e.confirmPassword,onChange:l,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all duration-200",placeholder:"Repeat your new password",required:!0,minLength:6,disabled:n})]}),s&&a("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:u("div",{className:"flex items-center",children:[a("svg",{className:"w-5 h-5 text-red-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:a("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),a("p",{className:"text-sm text-red-600",children:s})]})}),a(oe,{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Updating...":"Update Password"})]}),a("div",{className:"mt-6 text-center",children:a(Z,{to:"/login",className:"text-gray-600 hover:text-amber-600 text-sm transition-colors",children:"Back to Sign In"})})]}),a("div",{className:"text-center mt-8",children:u("p",{className:"text-sm text-gray-500",children:["Back to",a(Z,{to:"/",className:"text-amber-600 hover:underline mx-1",children:"Homepage"})]})})]})})};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Xl=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),Ni=r=>{const e=Xl(r);return e.charAt(0).toUpperCase()+e.slice(1)},wa=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim(),Kl=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zl={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=y.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:o,...l},c)=>y.createElement("svg",{ref:c,...Zl,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:wa("lucide",i),...!s&&!Kl(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,h])=>y.createElement(d,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=(r,e)=>{const t=y.forwardRef(({className:n,...i},s)=>y.createElement(Jl,{ref:s,iconNode:e,className:wa(`lucide-${Gl(Ni(r))}`,`lucide-${r}`,n),...i}));return t.displayName=Ni(r),t};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ki=Ce("chevron-down",Ql);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],tc=Ce("chevron-left",ec);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Tn=Ce("chevron-right",rc);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],_i=Ce("dollar-sign",nc);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],sc=Ce("download",ic);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],oc=Ce("funnel",ac);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],cc=Ce("globe",lc);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],hc=Ce("layout-dashboard",dc);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Si=Ce("log-out",uc);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],fc=Ce("search",mc);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],pc=Ce("users",gc);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],xc=Ce("x",bc),Ci=[{title:"Dashboard",icon:hc,items:[{label:"Overview",to:"/admin"},{label:"Payments",to:"/dashboard"}]}];function yc({user:r,collapsed:e=!1,onToggle:t,onLogout:n}){const{pathname:i}=Hn(),[s,o]=y.useState({}),l=y.useMemo(()=>{const h=m=>i===m||i.startsWith(m+"/");for(const m of Ci)if(m.items.some(f=>h(f.to)))return m.title;return""},[i]),c=h=>{o(m=>({...m,[h]:!m[h]}))},d=h=>s[h]??h===l;return u("aside",{className:qt("fixed top-0 left-0 h-screen border-r border-orange-400/20 bg-gradient-to-b from-black/60 via-gray-900/40 to-black/60 backdrop-blur-xl","transition-all duration-200 ease-in-out","flex flex-col z-40","shadow-2xl shadow-black/50",e?"w-[72px]":"w-[260px]"),children:[u("div",{className:"flex items-center justify-between border-b border-neutral-200/60 p-4",children:[!e&&u("div",{className:"flex items-center gap-2",children:[a("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-br from-orange-500 to-amber-600 flex items-center justify-center shadow-lg",children:a("span",{className:"text-white text-sm font-bold",children:"S"})}),a("span",{className:"font-semibold text-white",children:"Spectra Admin"})]}),a("button",{onClick:t,className:"rounded-lg p-1.5 text-white/60 hover:bg-white/10 hover:text-white transition-colors",children:e?a(Tn,{className:"h-4 w-4"}):a(ki,{className:"h-4 w-4"})})]}),a("nav",{className:"flex-1 overflow-y-auto px-3 py-4",children:a("div",{className:"space-y-2",children:Ci.map(h=>{const m=h.icon,f=d(h.title),g=h.items.some(b=>i===b.to||i.startsWith(b.to+"/"));return u("div",{children:[u("button",{onClick:()=>c(h.title),className:qt("group flex w-full items-center gap-2 rounded-xl px-3 py-2.5 text-left transition-all duration-150 relative",g?"bg-orange-500/20 text-white ring-1 ring-orange-400/30":"text-white/70 hover:bg-white/10 hover:text-white hover:scale-[1.02]"),title:e?h.title:void 0,children:[a(m,{className:qt("h-5 w-5 shrink-0 transition-all duration-150",g?"text-white":"text-white/60 group-hover:text-orange-300")}),!e&&u(Oe,{children:[a("span",{className:"text-sm font-medium flex-1",children:h.title}),f?a(ki,{className:"h-4 w-4 text-neutral-400 transition-transform group-hover:text-white"}):a(Tn,{className:"h-4 w-4 text-neutral-400 transition-transform group-hover:text-white"})]})]}),f&&!e&&a("div",{className:"mt-1 ml-7 space-y-1",children:h.items.map(b=>a(Bo,{to:b.to,className:({isActive:p})=>qt("flex items-center gap-2 rounded-lg px-3 py-2 text-sm transition-all duration-150",p?"bg-orange-500/30 text-white ring-1 ring-orange-400/40 font-medium":"text-white/60 hover:bg-white/10 hover:text-white"),children:a("span",{className:"truncate",children:b.label})},b.to))})]},h.title)})})}),a("div",{className:"border-t border-white/20 p-3",children:u("div",{className:"flex items-center gap-3",children:[u("div",{className:"relative",children:[a("img",{src:(r==null?void 0:r.avatar_url)||`https://ui-avatars.com/api/?name=${encodeURIComponent((r==null?void 0:r.full_name)||(r==null?void 0:r.email)||"User")}&background=FF7A1A&color=fff&size=32`,alt:"Profile",className:"h-8 w-8 rounded-full object-cover ring-2 ring-orange-400/60"}),a("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-400 rounded-full border-2 border-gray-900"})]}),!e&&u("div",{className:"flex-1 min-w-0",children:[a("div",{className:"truncate text-sm font-medium text-white",children:(r==null?void 0:r.full_name)||(r==null?void 0:r.email)||"User"}),u("div",{className:"truncate text-xs text-white/60 capitalize",children:[(r==null?void 0:r.role)||"User"," • Online"]})]}),!e&&a("button",{onClick:n,className:"rounded-lg p-1.5 text-white/60 hover:bg-white/10 hover:text-red-400 transition-all duration-150",title:"Logout",children:a(Si,{className:"h-4 w-4"})}),e&&a("button",{onClick:n,className:"absolute top-2 right-2 rounded-lg p-1.5 text-white/60 hover:bg-white/10 hover:text-red-400 transition-all duration-150",title:"Logout",children:a(Si,{className:"h-3 w-3"})})]})})]})}function vc({title:r,titleId:e,...t},n){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?y.createElement("title",{id:e},r):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const wc=y.forwardRef(vc),Nc=wc;function kc({title:r,titleId:e,...t},n){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?y.createElement("title",{id:e},r):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const _c=y.forwardRef(kc),Sc=_c;function Cc({title:r,titleId:e,...t},n){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?y.createElement("title",{id:e},r):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const Mc=y.forwardRef(Cc),Pc=Mc;function Tc({title:r,titleId:e,...t},n){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?y.createElement("title",{id:e},r):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Lc=y.forwardRef(Tc),Dc=Lc;function Ac({title:r,titleId:e,...t},n){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?y.createElement("title",{id:e},r):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Ec=y.forwardRef(Ac),Ic=Ec;function Oc({title:r,titleId:e,...t},n){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?y.createElement("title",{id:e},r):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const zc=y.forwardRef(Oc),Mi=zc;function Fc({title:r,titleId:e,...t},n){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?y.createElement("title",{id:e},r):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const Rc=y.forwardRef(Fc),Bc=Rc;function jc({title:r,titleId:e,...t},n){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?y.createElement("title",{id:e},r):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Wc=y.forwardRef(jc),Hc=Wc;function $c({title:r,titleId:e,...t},n){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?y.createElement("title",{id:e},r):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Vc=y.forwardRef($c),Uc=Vc;/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function pr(r){return r+.5|0}const tt=(r,e,t)=>Math.max(Math.min(r,t),e);function Gt(r){return tt(pr(r*2.55),0,255)}function st(r){return tt(pr(r*255),0,255)}function Ge(r){return tt(pr(r/2.55)/100,0,1)}function Pi(r){return tt(pr(r*100),0,100)}const ke={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ln=[..."0123456789ABCDEF"],Yc=r=>Ln[r&15],qc=r=>Ln[(r&240)>>4]+Ln[r&15],wr=r=>(r&240)>>4===(r&15),Gc=r=>wr(r.r)&&wr(r.g)&&wr(r.b)&&wr(r.a);function Xc(r){var e=r.length,t;return r[0]==="#"&&(e===4||e===5?t={r:255&ke[r[1]]*17,g:255&ke[r[2]]*17,b:255&ke[r[3]]*17,a:e===5?ke[r[4]]*17:255}:(e===7||e===9)&&(t={r:ke[r[1]]<<4|ke[r[2]],g:ke[r[3]]<<4|ke[r[4]],b:ke[r[5]]<<4|ke[r[6]],a:e===9?ke[r[7]]<<4|ke[r[8]]:255})),t}const Kc=(r,e)=>r<255?e(r):"";function Zc(r){var e=Gc(r)?Yc:qc;return r?"#"+e(r.r)+e(r.g)+e(r.b)+Kc(r.a,e):void 0}const Jc=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Na(r,e,t){const n=e*Math.min(t,1-t),i=(s,o=(s+r/30)%12)=>t-n*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function Qc(r,e,t){const n=(i,s=(i+r/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function ed(r,e,t){const n=Na(r,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)n[i]*=1-e-t,n[i]+=e;return n}function td(r,e,t,n,i){return r===i?(e-t)/n+(e<t?6:0):e===i?(t-r)/n+2:(r-e)/n+4}function Gn(r){const t=r.r/255,n=r.g/255,i=r.b/255,s=Math.max(t,n,i),o=Math.min(t,n,i),l=(s+o)/2;let c,d,h;return s!==o&&(h=s-o,d=l>.5?h/(2-s-o):h/(s+o),c=td(t,n,i,h,s),c=c*60+.5),[c|0,d||0,l]}function Xn(r,e,t,n){return(Array.isArray(e)?r(e[0],e[1],e[2]):r(e,t,n)).map(st)}function Kn(r,e,t){return Xn(Na,r,e,t)}function rd(r,e,t){return Xn(ed,r,e,t)}function nd(r,e,t){return Xn(Qc,r,e,t)}function ka(r){return(r%360+360)%360}function id(r){const e=Jc.exec(r);let t=255,n;if(!e)return;e[5]!==n&&(t=e[6]?Gt(+e[5]):st(+e[5]));const i=ka(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?n=rd(i,s,o):e[1]==="hsv"?n=nd(i,s,o):n=Kn(i,s,o),{r:n[0],g:n[1],b:n[2],a:t}}function sd(r,e){var t=Gn(r);t[0]=ka(t[0]+e),t=Kn(t),r.r=t[0],r.g=t[1],r.b=t[2]}function ad(r){if(!r)return;const e=Gn(r),t=e[0],n=Pi(e[1]),i=Pi(e[2]);return r.a<255?`hsla(${t}, ${n}%, ${i}%, ${Ge(r.a)})`:`hsl(${t}, ${n}%, ${i}%)`}const Ti={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Li={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function od(){const r={},e=Object.keys(Li),t=Object.keys(Ti);let n,i,s,o,l;for(n=0;n<e.length;n++){for(o=l=e[n],i=0;i<t.length;i++)s=t[i],l=l.replace(s,Ti[s]);s=parseInt(Li[o],16),r[l]=[s>>16&255,s>>8&255,s&255]}return r}let Nr;function ld(r){Nr||(Nr=od(),Nr.transparent=[0,0,0,0]);const e=Nr[r.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const cd=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function dd(r){const e=cd.exec(r);let t=255,n,i,s;if(e){if(e[7]!==n){const o=+e[7];t=e[8]?Gt(o):tt(o*255,0,255)}return n=+e[1],i=+e[3],s=+e[5],n=255&(e[2]?Gt(n):tt(n,0,255)),i=255&(e[4]?Gt(i):tt(i,0,255)),s=255&(e[6]?Gt(s):tt(s,0,255)),{r:n,g:i,b:s,a:t}}}function hd(r){return r&&(r.a<255?`rgba(${r.r}, ${r.g}, ${r.b}, ${Ge(r.a)})`:`rgb(${r.r}, ${r.g}, ${r.b})`)}const un=r=>r<=.0031308?r*12.92:Math.pow(r,1/2.4)*1.055-.055,Pt=r=>r<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4);function ud(r,e,t){const n=Pt(Ge(r.r)),i=Pt(Ge(r.g)),s=Pt(Ge(r.b));return{r:st(un(n+t*(Pt(Ge(e.r))-n))),g:st(un(i+t*(Pt(Ge(e.g))-i))),b:st(un(s+t*(Pt(Ge(e.b))-s))),a:r.a+t*(e.a-r.a)}}function kr(r,e,t){if(r){let n=Gn(r);n[e]=Math.max(0,Math.min(n[e]+n[e]*t,e===0?360:1)),n=Kn(n),r.r=n[0],r.g=n[1],r.b=n[2]}}function _a(r,e){return r&&Object.assign(e||{},r)}function Di(r){var e={r:0,g:0,b:0,a:255};return Array.isArray(r)?r.length>=3&&(e={r:r[0],g:r[1],b:r[2],a:255},r.length>3&&(e.a=st(r[3]))):(e=_a(r,{r:0,g:0,b:0,a:1}),e.a=st(e.a)),e}function md(r){return r.charAt(0)==="r"?dd(r):id(r)}class or{constructor(e){if(e instanceof or)return e;const t=typeof e;let n;t==="object"?n=Di(e):t==="string"&&(n=Xc(e)||ld(e)||md(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=_a(this._rgb);return e&&(e.a=Ge(e.a)),e}set rgb(e){this._rgb=Di(e)}rgbString(){return this._valid?hd(this._rgb):void 0}hexString(){return this._valid?Zc(this._rgb):void 0}hslString(){return this._valid?ad(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,i=e.rgb;let s;const o=t===s?.5:t,l=2*o-1,c=n.a-i.a,d=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;s=1-d,n.r=255&d*n.r+s*i.r+.5,n.g=255&d*n.g+s*i.g+.5,n.b=255&d*n.b+s*i.b+.5,n.a=o*n.a+(1-o)*i.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=ud(this._rgb,e._rgb,t)),this}clone(){return new or(this.rgb)}alpha(e){return this._rgb.a=st(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=pr(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return kr(this._rgb,2,e),this}darken(e){return kr(this._rgb,2,-e),this}saturate(e){return kr(this._rgb,1,e),this}desaturate(e){return kr(this._rgb,1,-e),this}rotate(e){return sd(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function We(){}const fd=(()=>{let r=0;return()=>r++})();function q(r){return r==null}function ne(r){if(Array.isArray&&Array.isArray(r))return!0;const e=Object.prototype.toString.call(r);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function U(r){return r!==null&&Object.prototype.toString.call(r)==="[object Object]"}function ce(r){return(typeof r=="number"||r instanceof Number)&&isFinite(+r)}function we(r,e){return ce(r)?r:e}function W(r,e){return typeof r>"u"?e:r}const gd=(r,e)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100*e:+r;function Q(r,e,t){if(r&&typeof r.call=="function")return r.apply(t,e)}function X(r,e,t,n){let i,s,o;if(ne(r))if(s=r.length,n)for(i=s-1;i>=0;i--)e.call(t,r[i],i);else for(i=0;i<s;i++)e.call(t,r[i],i);else if(U(r))for(o=Object.keys(r),s=o.length,i=0;i<s;i++)e.call(t,r[o[i]],o[i])}function Vr(r,e){let t,n,i,s;if(!r||!e||r.length!==e.length)return!1;for(t=0,n=r.length;t<n;++t)if(i=r[t],s=e[t],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Ur(r){if(ne(r))return r.map(Ur);if(U(r)){const e=Object.create(null),t=Object.keys(r),n=t.length;let i=0;for(;i<n;++i)e[t[i]]=Ur(r[t[i]]);return e}return r}function Sa(r){return["__proto__","prototype","constructor"].indexOf(r)===-1}function pd(r,e,t,n){if(!Sa(r))return;const i=e[r],s=t[r];U(i)&&U(s)?lr(i,s,n):e[r]=Ur(s)}function lr(r,e,t){const n=ne(e)?e:[e],i=n.length;if(!U(r))return r;t=t||{};const s=t.merger||pd;let o;for(let l=0;l<i;++l){if(o=n[l],!U(o))continue;const c=Object.keys(o);for(let d=0,h=c.length;d<h;++d)s(c[d],r,o,t)}return r}function rr(r,e){return lr(r,e,{merger:bd})}function bd(r,e,t){if(!Sa(r))return;const n=e[r],i=t[r];U(n)&&U(i)?rr(n,i):Object.prototype.hasOwnProperty.call(e,r)||(e[r]=Ur(i))}const Ai={"":r=>r,x:r=>r.x,y:r=>r.y};function xd(r){const e=r.split("."),t=[];let n="";for(const i of e)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(t.push(n),n="");return t}function yd(r){const e=xd(r);return t=>{for(const n of e){if(n==="")break;t=t&&t[n]}return t}}function Et(r,e){return(Ai[e]||(Ai[e]=yd(e)))(r)}function Zn(r){return r.charAt(0).toUpperCase()+r.slice(1)}const cr=r=>typeof r<"u",at=r=>typeof r=="function",Ei=(r,e)=>{if(r.size!==e.size)return!1;for(const t of r)if(!e.has(t))return!1;return!0};function vd(r){return r.type==="mouseup"||r.type==="click"||r.type==="contextmenu"}const se=Math.PI,Se=2*se,wd=Se+se,Yr=Number.POSITIVE_INFINITY,Nd=se/180,Ne=se/2,dt=se/4,Ii=se*2/3,rt=Math.log10,ze=Math.sign;function nr(r,e,t){return Math.abs(r-e)<t}function Oi(r){const e=Math.round(r);r=nr(r,e,r/1e3)?e:r;const t=Math.pow(10,Math.floor(rt(r))),n=r/t;return(n<=1?1:n<=2?2:n<=5?5:10)*t}function kd(r){const e=[],t=Math.sqrt(r);let n;for(n=1;n<t;n++)r%n===0&&(e.push(n),e.push(r/n));return t===(t|0)&&e.push(t),e.sort((i,s)=>i-s).pop(),e}function _d(r){return typeof r=="symbol"||typeof r=="object"&&r!==null&&!(Symbol.toPrimitive in r||"toString"in r||"valueOf"in r)}function qr(r){return!_d(r)&&!isNaN(parseFloat(r))&&isFinite(r)}function Sd(r,e){const t=Math.round(r);return t-e<=r&&t+e>=r}function Ca(r,e,t){let n,i,s;for(n=0,i=r.length;n<i;n++)s=r[n][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function nt(r){return r*(se/180)}function Jn(r){return r*(180/se)}function zi(r){if(!ce(r))return;let e=1,t=0;for(;Math.round(r*e)/e!==r;)e*=10,t++;return t}function Cd(r,e){const t=e.x-r.x,n=e.y-r.y,i=Math.sqrt(t*t+n*n);let s=Math.atan2(n,t);return s<-.5*se&&(s+=Se),{angle:s,distance:i}}function Dn(r,e){return Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2))}function Md(r,e){return(r-e+wd)%Se-se}function Te(r){return(r%Se+Se)%Se}function Ma(r,e,t,n){const i=Te(r),s=Te(e),o=Te(t),l=Te(s-i),c=Te(o-i),d=Te(i-s),h=Te(i-o);return i===s||i===o||n&&s===o||l>c&&d<h}function Le(r,e,t){return Math.max(e,Math.min(t,r))}function Pd(r){return Le(r,-32768,32767)}function xt(r,e,t,n=1e-6){return r>=Math.min(e,t)-n&&r<=Math.max(e,t)+n}function Qn(r,e,t){t=t||(o=>r[o]<e);let n=r.length-1,i=0,s;for(;n-i>1;)s=i+n>>1,t(s)?i=s:n=s;return{lo:i,hi:n}}const An=(r,e,t,n)=>Qn(r,t,n?i=>{const s=r[i][e];return s<t||s===t&&r[i+1][e]===t}:i=>r[i][e]<t),Td=(r,e,t)=>Qn(r,t,n=>r[n][e]>=t);function Ld(r,e,t){let n=0,i=r.length;for(;n<i&&r[n]<e;)n++;for(;i>n&&r[i-1]>t;)i--;return n>0||i<r.length?r.slice(n,i):r}const Pa=["push","pop","shift","splice","unshift"];function Dd(r,e){if(r._chartjs){r._chartjs.listeners.push(e);return}Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Pa.forEach(t=>{const n="_onData"+Zn(t),i=r[t];Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return r._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...s)}),o}})})}function Fi(r,e){const t=r._chartjs;if(!t)return;const n=t.listeners,i=n.indexOf(e);i!==-1&&n.splice(i,1),!(n.length>0)&&(Pa.forEach(s=>{delete r[s]}),delete r._chartjs)}function Ta(r){const e=new Set(r);return e.size===r.length?r:Array.from(e)}const La=function(){return typeof window>"u"?function(r){return r()}:window.requestAnimationFrame}();function Da(r,e){let t=[],n=!1;return function(...i){t=i,n||(n=!0,La.call(window,()=>{n=!1,r.apply(e,t)}))}}function Ad(r,e){let t;return function(...n){return e?(clearTimeout(t),t=setTimeout(r,e,n)):r.apply(this,n),e}}const ei=r=>r==="start"?"left":r==="end"?"right":"center",ue=(r,e,t)=>r==="start"?e:r==="end"?t:(e+t)/2,Ed=(r,e,t,n)=>r===(n?"left":"right")?t:r==="center"?(e+t)/2:e,_r=r=>r===0||r===1,Ri=(r,e,t)=>-(Math.pow(2,10*(r-=1))*Math.sin((r-e)*Se/t)),Bi=(r,e,t)=>Math.pow(2,-10*r)*Math.sin((r-e)*Se/t)+1,ir={linear:r=>r,easeInQuad:r=>r*r,easeOutQuad:r=>-r*(r-2),easeInOutQuad:r=>(r/=.5)<1?.5*r*r:-.5*(--r*(r-2)-1),easeInCubic:r=>r*r*r,easeOutCubic:r=>(r-=1)*r*r+1,easeInOutCubic:r=>(r/=.5)<1?.5*r*r*r:.5*((r-=2)*r*r+2),easeInQuart:r=>r*r*r*r,easeOutQuart:r=>-((r-=1)*r*r*r-1),easeInOutQuart:r=>(r/=.5)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2),easeInQuint:r=>r*r*r*r*r,easeOutQuint:r=>(r-=1)*r*r*r*r+1,easeInOutQuint:r=>(r/=.5)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2),easeInSine:r=>-Math.cos(r*Ne)+1,easeOutSine:r=>Math.sin(r*Ne),easeInOutSine:r=>-.5*(Math.cos(se*r)-1),easeInExpo:r=>r===0?0:Math.pow(2,10*(r-1)),easeOutExpo:r=>r===1?1:-Math.pow(2,-10*r)+1,easeInOutExpo:r=>_r(r)?r:r<.5?.5*Math.pow(2,10*(r*2-1)):.5*(-Math.pow(2,-10*(r*2-1))+2),easeInCirc:r=>r>=1?r:-(Math.sqrt(1-r*r)-1),easeOutCirc:r=>Math.sqrt(1-(r-=1)*r),easeInOutCirc:r=>(r/=.5)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1),easeInElastic:r=>_r(r)?r:Ri(r,.075,.3),easeOutElastic:r=>_r(r)?r:Bi(r,.075,.3),easeInOutElastic(r){return _r(r)?r:r<.5?.5*Ri(r*2,.1125,.45):.5+.5*Bi(r*2-1,.1125,.45)},easeInBack(r){return r*r*((1.70158+1)*r-1.70158)},easeOutBack(r){return(r-=1)*r*((1.70158+1)*r+1.70158)+1},easeInOutBack(r){let e=1.70158;return(r/=.5)<1?.5*(r*r*(((e*=1.525)+1)*r-e)):.5*((r-=2)*r*(((e*=1.525)+1)*r+e)+2)},easeInBounce:r=>1-ir.easeOutBounce(1-r),easeOutBounce(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},easeInOutBounce:r=>r<.5?ir.easeInBounce(r*2)*.5:ir.easeOutBounce(r*2-1)*.5+.5};function ti(r){if(r&&typeof r=="object"){const e=r.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function ji(r){return ti(r)?r:new or(r)}function mn(r){return ti(r)?r:new or(r).saturate(.5).darken(.1).hexString()}const Id=["x","y","borderWidth","radius","tension"],Od=["color","borderColor","backgroundColor"];function zd(r){r.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),r.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),r.set("animations",{colors:{type:"color",properties:Od},numbers:{type:"number",properties:Id}}),r.describe("animations",{_fallback:"animation"}),r.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Fd(r){r.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Wi=new Map;function Rd(r,e){e=e||{};const t=r+JSON.stringify(e);let n=Wi.get(t);return n||(n=new Intl.NumberFormat(r,e),Wi.set(t,n)),n}function ri(r,e,t){return Rd(e,t).format(r)}const Aa={values(r){return ne(r)?r:""+r},numeric(r,e,t){if(r===0)return"0";const n=this.chart.options.locale;let i,s=r;if(t.length>1){const d=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(d<1e-4||d>1e15)&&(i="scientific"),s=Bd(r,t)}const o=rt(Math.abs(s)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:i,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),ri(r,n,c)},logarithmic(r,e,t){if(r===0)return"0";const n=t[e].significand||r/Math.pow(10,Math.floor(rt(r)));return[1,2,3,5,10,15].includes(n)||e>.8*t.length?Aa.numeric.call(this,r,e,t):""}};function Bd(r,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&r!==Math.floor(r)&&(t=r-Math.floor(r)),t}var an={formatters:Aa};function jd(r){r.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:an.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),r.route("scale.ticks","color","","color"),r.route("scale.grid","color","","borderColor"),r.route("scale.border","color","","borderColor"),r.route("scale.title","color","","color"),r.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),r.describe("scales",{_fallback:"scale"}),r.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const wt=Object.create(null),En=Object.create(null);function sr(r,e){if(!e)return r;const t=e.split(".");for(let n=0,i=t.length;n<i;++n){const s=t[n];r=r[s]||(r[s]=Object.create(null))}return r}function fn(r,e,t){return typeof e=="string"?lr(sr(r,e),t):lr(sr(r,""),e)}class Wd{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>mn(i.backgroundColor),this.hoverBorderColor=(n,i)=>mn(i.borderColor),this.hoverColor=(n,i)=>mn(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return fn(this,e,t)}get(e){return sr(this,e)}describe(e,t){return fn(En,e,t)}override(e,t){return fn(wt,e,t)}route(e,t,n,i){const s=sr(this,e),o=sr(this,n),l="_"+t;Object.defineProperties(s,{[l]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const c=this[l],d=o[i];return U(c)?Object.assign({},d,c):W(c,d)},set(c){this[l]=c}}})}apply(e){e.forEach(t=>t(this))}}var ie=new Wd({_scriptable:r=>!r.startsWith("on"),_indexable:r=>r!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[zd,Fd,jd]);function Hd(r){return!r||q(r.size)||q(r.family)?null:(r.style?r.style+" ":"")+(r.weight?r.weight+" ":"")+r.size+"px "+r.family}function Gr(r,e,t,n,i){let s=e[i];return s||(s=e[i]=r.measureText(i).width,t.push(i)),s>n&&(n=s),n}function $d(r,e,t,n){n=n||{};let i=n.data=n.data||{},s=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(i=n.data={},s=n.garbageCollect=[],n.font=e),r.save(),r.font=e;let o=0;const l=t.length;let c,d,h,m,f;for(c=0;c<l;c++)if(m=t[c],m!=null&&!ne(m))o=Gr(r,i,s,o,m);else if(ne(m))for(d=0,h=m.length;d<h;d++)f=m[d],f!=null&&!ne(f)&&(o=Gr(r,i,s,o,f));r.restore();const g=s.length/2;if(g>t.length){for(c=0;c<g;c++)delete i[s[c]];s.splice(0,g)}return o}function ht(r,e,t){const n=r.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*n)/n+i}function Hi(r,e){!e&&!r||(e=e||r.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,r.width,r.height),e.restore())}function In(r,e,t,n){Ea(r,e,t,n,null)}function Ea(r,e,t,n,i){let s,o,l,c,d,h,m,f;const g=e.pointStyle,b=e.rotation,p=e.radius;let x=(b||0)*Nd;if(g&&typeof g=="object"&&(s=g.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){r.save(),r.translate(t,n),r.rotate(x),r.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),r.restore();return}if(!(isNaN(p)||p<=0)){switch(r.beginPath(),g){default:i?r.ellipse(t,n,i/2,p,0,0,Se):r.arc(t,n,p,0,Se),r.closePath();break;case"triangle":h=i?i/2:p,r.moveTo(t+Math.sin(x)*h,n-Math.cos(x)*p),x+=Ii,r.lineTo(t+Math.sin(x)*h,n-Math.cos(x)*p),x+=Ii,r.lineTo(t+Math.sin(x)*h,n-Math.cos(x)*p),r.closePath();break;case"rectRounded":d=p*.516,c=p-d,o=Math.cos(x+dt)*c,m=Math.cos(x+dt)*(i?i/2-d:c),l=Math.sin(x+dt)*c,f=Math.sin(x+dt)*(i?i/2-d:c),r.arc(t-m,n-l,d,x-se,x-Ne),r.arc(t+f,n-o,d,x-Ne,x),r.arc(t+m,n+l,d,x,x+Ne),r.arc(t-f,n+o,d,x+Ne,x+se),r.closePath();break;case"rect":if(!b){c=Math.SQRT1_2*p,h=i?i/2:c,r.rect(t-h,n-c,2*h,2*c);break}x+=dt;case"rectRot":m=Math.cos(x)*(i?i/2:p),o=Math.cos(x)*p,l=Math.sin(x)*p,f=Math.sin(x)*(i?i/2:p),r.moveTo(t-m,n-l),r.lineTo(t+f,n-o),r.lineTo(t+m,n+l),r.lineTo(t-f,n+o),r.closePath();break;case"crossRot":x+=dt;case"cross":m=Math.cos(x)*(i?i/2:p),o=Math.cos(x)*p,l=Math.sin(x)*p,f=Math.sin(x)*(i?i/2:p),r.moveTo(t-m,n-l),r.lineTo(t+m,n+l),r.moveTo(t+f,n-o),r.lineTo(t-f,n+o);break;case"star":m=Math.cos(x)*(i?i/2:p),o=Math.cos(x)*p,l=Math.sin(x)*p,f=Math.sin(x)*(i?i/2:p),r.moveTo(t-m,n-l),r.lineTo(t+m,n+l),r.moveTo(t+f,n-o),r.lineTo(t-f,n+o),x+=dt,m=Math.cos(x)*(i?i/2:p),o=Math.cos(x)*p,l=Math.sin(x)*p,f=Math.sin(x)*(i?i/2:p),r.moveTo(t-m,n-l),r.lineTo(t+m,n+l),r.moveTo(t+f,n-o),r.lineTo(t-f,n+o);break;case"line":o=i?i/2:Math.cos(x)*p,l=Math.sin(x)*p,r.moveTo(t-o,n-l),r.lineTo(t+o,n+l);break;case"dash":r.moveTo(t,n),r.lineTo(t+Math.cos(x)*(i?i/2:p),n+Math.sin(x)*p);break;case!1:r.closePath();break}r.fill(),e.borderWidth>0&&r.stroke()}}function Xe(r,e,t){return t=t||.5,!e||r&&r.x>e.left-t&&r.x<e.right+t&&r.y>e.top-t&&r.y<e.bottom+t}function ni(r,e){r.save(),r.beginPath(),r.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),r.clip()}function ii(r){r.restore()}function Vd(r,e,t,n,i){if(!e)return r.lineTo(t.x,t.y);if(i==="middle"){const s=(e.x+t.x)/2;r.lineTo(s,e.y),r.lineTo(s,t.y)}else i==="after"!=!!n?r.lineTo(e.x,t.y):r.lineTo(t.x,e.y);r.lineTo(t.x,t.y)}function Ud(r,e,t,n){if(!e)return r.lineTo(t.x,t.y);r.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?t.cp2x:t.cp1x,n?t.cp2y:t.cp1y,t.x,t.y)}function Yd(r,e){e.translation&&r.translate(e.translation[0],e.translation[1]),q(e.rotation)||r.rotate(e.rotation),e.color&&(r.fillStyle=e.color),e.textAlign&&(r.textAlign=e.textAlign),e.textBaseline&&(r.textBaseline=e.textBaseline)}function qd(r,e,t,n,i){if(i.strikethrough||i.underline){const s=r.measureText(n),o=e-s.actualBoundingBoxLeft,l=e+s.actualBoundingBoxRight,c=t-s.actualBoundingBoxAscent,d=t+s.actualBoundingBoxDescent,h=i.strikethrough?(c+d)/2:d;r.strokeStyle=r.fillStyle,r.beginPath(),r.lineWidth=i.decorationWidth||2,r.moveTo(o,h),r.lineTo(l,h),r.stroke()}}function Gd(r,e){const t=r.fillStyle;r.fillStyle=e.color,r.fillRect(e.left,e.top,e.width,e.height),r.fillStyle=t}function Nt(r,e,t,n,i,s={}){const o=ne(e)?e:[e],l=s.strokeWidth>0&&s.strokeColor!=="";let c,d;for(r.save(),r.font=i.string,Yd(r,s),c=0;c<o.length;++c)d=o[c],s.backdrop&&Gd(r,s.backdrop),l&&(s.strokeColor&&(r.strokeStyle=s.strokeColor),q(s.strokeWidth)||(r.lineWidth=s.strokeWidth),r.strokeText(d,t,n,s.maxWidth)),r.fillText(d,t,n,s.maxWidth),qd(r,t,n,d,s),n+=Number(i.lineHeight);r.restore()}function dr(r,e){const{x:t,y:n,w:i,h:s,radius:o}=e;r.arc(t+o.topLeft,n+o.topLeft,o.topLeft,1.5*se,se,!0),r.lineTo(t,n+s-o.bottomLeft),r.arc(t+o.bottomLeft,n+s-o.bottomLeft,o.bottomLeft,se,Ne,!0),r.lineTo(t+i-o.bottomRight,n+s),r.arc(t+i-o.bottomRight,n+s-o.bottomRight,o.bottomRight,Ne,0,!0),r.lineTo(t+i,n+o.topRight),r.arc(t+i-o.topRight,n+o.topRight,o.topRight,0,-Ne,!0),r.lineTo(t+o.topLeft,n)}const Xd=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Kd=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Zd(r,e){const t=(""+r).match(Xd);if(!t||t[1]==="normal")return e*1.2;switch(r=+t[2],t[3]){case"px":return r;case"%":r/=100;break}return e*r}const Jd=r=>+r||0;function Ia(r,e){const t={},n=U(e),i=n?Object.keys(e):e,s=U(r)?n?o=>W(r[o],r[e[o]]):o=>r[o]:()=>r;for(const o of i)t[o]=Jd(s(o));return t}function Oa(r){return Ia(r,{top:"y",right:"x",bottom:"y",left:"x"})}function yt(r){return Ia(r,["topLeft","topRight","bottomLeft","bottomRight"])}function me(r){const e=Oa(r);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function le(r,e){r=r||{},e=e||ie.font;let t=W(r.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let n=W(r.style,e.style);n&&!(""+n).match(Kd)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:W(r.family,e.family),lineHeight:Zd(W(r.lineHeight,e.lineHeight),t),size:t,style:n,weight:W(r.weight,e.weight),string:""};return i.string=Hd(i),i}function Sr(r,e,t,n){let i=!0,s,o,l;for(s=0,o=r.length;s<o;++s)if(l=r[s],l!==void 0&&(e!==void 0&&typeof l=="function"&&(l=l(e),i=!1),t!==void 0&&ne(l)&&(l=l[t%l.length],i=!1),l!==void 0))return n&&!i&&(n.cacheable=!1),l}function Qd(r,e,t){const{min:n,max:i}=r,s=gd(e,(i-n)/2),o=(l,c)=>t&&l===0?0:l+c;return{min:o(n,-Math.abs(s)),max:o(i,s)}}function lt(r,e){return Object.assign(Object.create(r),e)}function si(r,e=[""],t,n,i=()=>r[0]){const s=t||r;typeof n>"u"&&(n=Ba("_fallback",r));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:r,_rootScopes:s,_fallback:n,_getTarget:i,override:l=>si([l,...r],e,s,n)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete l._keys,delete r[0][c],!0},get(l,c){return Fa(l,c,()=>oh(c,e,r,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(r[0])},has(l,c){return Vi(l).includes(c)},ownKeys(l){return Vi(l)},set(l,c,d){const h=l._storage||(l._storage=i());return l[c]=h[c]=d,delete l._keys,!0}})}function It(r,e,t,n){const i={_cacheable:!1,_proxy:r,_context:e,_subProxy:t,_stack:new Set,_descriptors:za(r,n),setContext:s=>It(r,s,t,n),override:s=>It(r.override(s),e,t,n)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete r[o],!0},get(s,o,l){return Fa(s,o,()=>th(s,o,l))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(r,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(r,o)},getPrototypeOf(){return Reflect.getPrototypeOf(r)},has(s,o){return Reflect.has(r,o)},ownKeys(){return Reflect.ownKeys(r)},set(s,o,l){return r[o]=l,delete s[o],!0}})}function za(r,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=r;return{allKeys:i,scriptable:t,indexable:n,isScriptable:at(t)?t:()=>t,isIndexable:at(n)?n:()=>n}}const eh=(r,e)=>r?r+Zn(e):e,ai=(r,e)=>U(e)&&r!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Fa(r,e,t){if(Object.prototype.hasOwnProperty.call(r,e)||e==="constructor")return r[e];const n=t();return r[e]=n,n}function th(r,e,t){const{_proxy:n,_context:i,_subProxy:s,_descriptors:o}=r;let l=n[e];return at(l)&&o.isScriptable(e)&&(l=rh(e,l,r,t)),ne(l)&&l.length&&(l=nh(e,l,r,o.isIndexable)),ai(e,l)&&(l=It(l,i,s&&s[e],o)),l}function rh(r,e,t,n){const{_proxy:i,_context:s,_subProxy:o,_stack:l}=t;if(l.has(r))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+r);l.add(r);let c=e(s,o||n);return l.delete(r),ai(r,c)&&(c=oi(i._scopes,i,r,c)),c}function nh(r,e,t,n){const{_proxy:i,_context:s,_subProxy:o,_descriptors:l}=t;if(typeof s.index<"u"&&n(r))return e[s.index%e.length];if(U(e[0])){const c=e,d=i._scopes.filter(h=>h!==c);e=[];for(const h of c){const m=oi(d,i,r,h);e.push(It(m,s,o&&o[r],l))}}return e}function Ra(r,e,t){return at(r)?r(e,t):r}const ih=(r,e)=>r===!0?e:typeof r=="string"?Et(e,r):void 0;function sh(r,e,t,n,i){for(const s of e){const o=ih(t,s);if(o){r.add(o);const l=Ra(o._fallback,t,i);if(typeof l<"u"&&l!==t&&l!==n)return l}else if(o===!1&&typeof n<"u"&&t!==n)return null}return!1}function oi(r,e,t,n){const i=e._rootScopes,s=Ra(e._fallback,t,n),o=[...r,...i],l=new Set;l.add(n);let c=$i(l,o,t,s||t,n);return c===null||typeof s<"u"&&s!==t&&(c=$i(l,o,s,c,n),c===null)?!1:si(Array.from(l),[""],i,s,()=>ah(e,t,n))}function $i(r,e,t,n,i){for(;t;)t=sh(r,e,t,n,i);return t}function ah(r,e,t){const n=r._getTarget();e in n||(n[e]={});const i=n[e];return ne(i)&&U(t)?t:i||{}}function oh(r,e,t,n){let i;for(const s of e)if(i=Ba(eh(s,r),t),typeof i<"u")return ai(r,i)?oi(t,n,r,i):i}function Ba(r,e){for(const t of e){if(!t)continue;const n=t[r];if(typeof n<"u")return n}}function Vi(r){let e=r._keys;return e||(e=r._keys=lh(r._scopes)),e}function lh(r){const e=new Set;for(const t of r)for(const n of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(n);return Array.from(e)}const ch=Number.EPSILON||1e-14,Ot=(r,e)=>e<r.length&&!r[e].skip&&r[e],ja=r=>r==="x"?"y":"x";function dh(r,e,t,n){const i=r.skip?e:r,s=e,o=t.skip?e:t,l=Dn(s,i),c=Dn(o,s);let d=l/(l+c),h=c/(l+c);d=isNaN(d)?0:d,h=isNaN(h)?0:h;const m=n*d,f=n*h;return{previous:{x:s.x-m*(o.x-i.x),y:s.y-m*(o.y-i.y)},next:{x:s.x+f*(o.x-i.x),y:s.y+f*(o.y-i.y)}}}function hh(r,e,t){const n=r.length;let i,s,o,l,c,d=Ot(r,0);for(let h=0;h<n-1;++h)if(c=d,d=Ot(r,h+1),!(!c||!d)){if(nr(e[h],0,ch)){t[h]=t[h+1]=0;continue}i=t[h]/e[h],s=t[h+1]/e[h],l=Math.pow(i,2)+Math.pow(s,2),!(l<=9)&&(o=3/Math.sqrt(l),t[h]=i*o*e[h],t[h+1]=s*o*e[h])}}function uh(r,e,t="x"){const n=ja(t),i=r.length;let s,o,l,c=Ot(r,0);for(let d=0;d<i;++d){if(o=l,l=c,c=Ot(r,d+1),!l)continue;const h=l[t],m=l[n];o&&(s=(h-o[t])/3,l[`cp1${t}`]=h-s,l[`cp1${n}`]=m-s*e[d]),c&&(s=(c[t]-h)/3,l[`cp2${t}`]=h+s,l[`cp2${n}`]=m+s*e[d])}}function mh(r,e="x"){const t=ja(e),n=r.length,i=Array(n).fill(0),s=Array(n);let o,l,c,d=Ot(r,0);for(o=0;o<n;++o)if(l=c,c=d,d=Ot(r,o+1),!!c){if(d){const h=d[e]-c[e];i[o]=h!==0?(d[t]-c[t])/h:0}s[o]=l?d?ze(i[o-1])!==ze(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}hh(r,i,s),uh(r,s,e)}function Cr(r,e,t){return Math.max(Math.min(r,t),e)}function fh(r,e){let t,n,i,s,o,l=Xe(r[0],e);for(t=0,n=r.length;t<n;++t)o=s,s=l,l=t<n-1&&Xe(r[t+1],e),s&&(i=r[t],o&&(i.cp1x=Cr(i.cp1x,e.left,e.right),i.cp1y=Cr(i.cp1y,e.top,e.bottom)),l&&(i.cp2x=Cr(i.cp2x,e.left,e.right),i.cp2y=Cr(i.cp2y,e.top,e.bottom)))}function gh(r,e,t,n,i){let s,o,l,c;if(e.spanGaps&&(r=r.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")mh(r,i);else{let d=n?r[r.length-1]:r[0];for(s=0,o=r.length;s<o;++s)l=r[s],c=dh(d,l,r[Math.min(s+1,o-(n?0:1))%o],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,d=l}e.capBezierPoints&&fh(r,t)}function li(){return typeof window<"u"&&typeof document<"u"}function ci(r){let e=r.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Xr(r,e,t){let n;return typeof r=="string"?(n=parseInt(r,10),r.indexOf("%")!==-1&&(n=n/100*e.parentNode[t])):n=r,n}const on=r=>r.ownerDocument.defaultView.getComputedStyle(r,null);function ph(r,e){return on(r).getPropertyValue(e)}const bh=["top","right","bottom","left"];function vt(r,e,t){const n={};t=t?"-"+t:"";for(let i=0;i<4;i++){const s=bh[i];n[s]=parseFloat(r[e+"-"+s+t])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const xh=(r,e,t)=>(r>0||e>0)&&(!t||!t.shadowRoot);function yh(r,e){const t=r.touches,n=t&&t.length?t[0]:r,{offsetX:i,offsetY:s}=n;let o=!1,l,c;if(xh(i,s,r.target))l=i,c=s;else{const d=e.getBoundingClientRect();l=n.clientX-d.left,c=n.clientY-d.top,o=!0}return{x:l,y:c,box:o}}function ft(r,e){if("native"in r)return r;const{canvas:t,currentDevicePixelRatio:n}=e,i=on(t),s=i.boxSizing==="border-box",o=vt(i,"padding"),l=vt(i,"border","width"),{x:c,y:d,box:h}=yh(r,t),m=o.left+(h&&l.left),f=o.top+(h&&l.top);let{width:g,height:b}=e;return s&&(g-=o.width+l.width,b-=o.height+l.height),{x:Math.round((c-m)/g*t.width/n),y:Math.round((d-f)/b*t.height/n)}}function vh(r,e,t){let n,i;if(e===void 0||t===void 0){const s=r&&ci(r);if(!s)e=r.clientWidth,t=r.clientHeight;else{const o=s.getBoundingClientRect(),l=on(s),c=vt(l,"border","width"),d=vt(l,"padding");e=o.width-d.width-c.width,t=o.height-d.height-c.height,n=Xr(l.maxWidth,s,"clientWidth"),i=Xr(l.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:n||Yr,maxHeight:i||Yr}}const Mr=r=>Math.round(r*10)/10;function wh(r,e,t,n){const i=on(r),s=vt(i,"margin"),o=Xr(i.maxWidth,r,"clientWidth")||Yr,l=Xr(i.maxHeight,r,"clientHeight")||Yr,c=vh(r,e,t);let{width:d,height:h}=c;if(i.boxSizing==="content-box"){const f=vt(i,"border","width"),g=vt(i,"padding");d-=g.width+f.width,h-=g.height+f.height}return d=Math.max(0,d-s.width),h=Math.max(0,n?d/n:h-s.height),d=Mr(Math.min(d,o,c.maxWidth)),h=Mr(Math.min(h,l,c.maxHeight)),d&&!h&&(h=Mr(d/2)),(e!==void 0||t!==void 0)&&n&&c.height&&h>c.height&&(h=c.height,d=Mr(Math.floor(h*n))),{width:d,height:h}}function Ui(r,e,t){const n=e||1,i=Math.floor(r.height*n),s=Math.floor(r.width*n);r.height=Math.floor(r.height),r.width=Math.floor(r.width);const o=r.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${r.height}px`,o.style.width=`${r.width}px`),r.currentDevicePixelRatio!==n||o.height!==i||o.width!==s?(r.currentDevicePixelRatio=n,o.height=i,o.width=s,r.ctx.setTransform(n,0,0,n,0,0),!0):!1}const Nh=function(){let r=!1;try{const e={get passive(){return r=!0,!1}};li()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return r}();function Yi(r,e){const t=ph(r,e),n=t&&t.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function gt(r,e,t,n){return{x:r.x+t*(e.x-r.x),y:r.y+t*(e.y-r.y)}}function kh(r,e,t,n){return{x:r.x+t*(e.x-r.x),y:n==="middle"?t<.5?r.y:e.y:n==="after"?t<1?r.y:e.y:t>0?e.y:r.y}}function _h(r,e,t,n){const i={x:r.cp2x,y:r.cp2y},s={x:e.cp1x,y:e.cp1y},o=gt(r,i,t),l=gt(i,s,t),c=gt(s,e,t),d=gt(o,l,t),h=gt(l,c,t);return gt(d,h,t)}const Sh=function(r,e){return{x(t){return r+r+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,n){return t-n},leftForLtr(t,n){return t-n}}},Ch=function(){return{x(r){return r},setWidth(r){},textAlign(r){return r},xPlus(r,e){return r+e},leftForLtr(r,e){return r}}};function At(r,e,t){return r?Sh(e,t):Ch()}function Wa(r,e){let t,n;(e==="ltr"||e==="rtl")&&(t=r.canvas.style,n=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),r.prevTextDirection=n)}function Ha(r,e){e!==void 0&&(delete r.prevTextDirection,r.canvas.style.setProperty("direction",e[0],e[1]))}function $a(r){return r==="angle"?{between:Ma,compare:Md,normalize:Te}:{between:xt,compare:(e,t)=>e-t,normalize:e=>e}}function qi({start:r,end:e,count:t,loop:n,style:i}){return{start:r%t,end:e%t,loop:n&&(e-r+1)%t===0,style:i}}function Mh(r,e,t){const{property:n,start:i,end:s}=t,{between:o,normalize:l}=$a(n),c=e.length;let{start:d,end:h,loop:m}=r,f,g;if(m){for(d+=c,h+=c,f=0,g=c;f<g&&o(l(e[d%c][n]),i,s);++f)d--,h--;d%=c,h%=c}return h<d&&(h+=c),{start:d,end:h,loop:m,style:r.style}}function Ph(r,e,t){if(!t)return[r];const{property:n,start:i,end:s}=t,o=e.length,{compare:l,between:c,normalize:d}=$a(n),{start:h,end:m,loop:f,style:g}=Mh(r,e,t),b=[];let p=!1,x=null,v,w,N;const k=()=>c(i,N,v)&&l(i,N)!==0,S=()=>l(s,v)===0||c(s,N,v),A=()=>p||k(),E=()=>!p||S();for(let L=h,P=h;L<=m;++L)w=e[L%o],!w.skip&&(v=d(w[n]),v!==N&&(p=c(v,i,s),x===null&&A()&&(x=l(v,i)===0?L:P),x!==null&&E()&&(b.push(qi({start:x,end:L,loop:f,count:o,style:g})),x=null),P=L,N=v));return x!==null&&b.push(qi({start:x,end:m,loop:f,count:o,style:g})),b}function Th(r,e){const t=[],n=r.segments;for(let i=0;i<n.length;i++){const s=Ph(n[i],r.points,e);s.length&&t.push(...s)}return t}function Lh(r,e,t,n){let i=0,s=e-1;if(t&&!n)for(;i<e&&!r[i].skip;)i++;for(;i<e&&r[i].skip;)i++;for(i%=e,t&&(s+=i);s>i&&r[s%e].skip;)s--;return s%=e,{start:i,end:s}}function Dh(r,e,t,n){const i=r.length,s=[];let o=e,l=r[e],c;for(c=e+1;c<=t;++c){const d=r[c%i];d.skip||d.stop?l.skip||(n=!1,s.push({start:e%i,end:(c-1)%i,loop:n}),e=o=d.stop?c:null):(o=c,l.skip&&(e=c)),l=d}return o!==null&&s.push({start:e%i,end:o%i,loop:n}),s}function Ah(r,e){const t=r.points,n=r.options.spanGaps,i=t.length;if(!i)return[];const s=!!r._loop,{start:o,end:l}=Lh(t,i,s,n);if(n===!0)return Gi(r,[{start:o,end:l,loop:s}],t,e);const c=l<o?l+i:l,d=!!r._fullLoop&&o===0&&l===i-1;return Gi(r,Dh(t,o,c,d),t,e)}function Gi(r,e,t,n){return!n||!n.setContext||!t?e:Eh(r,e,t,n)}function Eh(r,e,t,n){const i=r._chart.getContext(),s=Xi(r.options),{_datasetIndex:o,options:{spanGaps:l}}=r,c=t.length,d=[];let h=s,m=e[0].start,f=m;function g(b,p,x,v){const w=l?-1:1;if(b!==p){for(b+=c;t[b%c].skip;)b-=w;for(;t[p%c].skip;)p+=w;b%c!==p%c&&(d.push({start:b%c,end:p%c,loop:x,style:v}),h=v,m=p%c)}}for(const b of e){m=l?m:b.start;let p=t[m%c],x;for(f=m+1;f<=b.end;f++){const v=t[f%c];x=Xi(n.setContext(lt(i,{type:"segment",p0:p,p1:v,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:o}))),Ih(x,h)&&g(m,f-1,b.loop,h),p=v,h=x}m<f-1&&g(m,f-1,b.loop,h)}return d}function Xi(r){return{backgroundColor:r.backgroundColor,borderCapStyle:r.borderCapStyle,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderJoinStyle:r.borderJoinStyle,borderWidth:r.borderWidth,borderColor:r.borderColor}}function Ih(r,e){if(!e)return!1;const t=[],n=function(i,s){return ti(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(r,n)!==JSON.stringify(e,n)}function Pr(r,e,t){return r.options.clip?r[t]:e[t]}function Oh(r,e){const{xScale:t,yScale:n}=r;return t&&n?{left:Pr(t,e,"left"),right:Pr(t,e,"right"),top:Pr(n,e,"top"),bottom:Pr(n,e,"bottom")}:e}function zh(r,e){const t=e._clip;if(t.disabled)return!1;const n=Oh(e,r.chartArea);return{left:t.left===!1?0:n.left-(t.left===!0?0:t.left),right:t.right===!1?r.width:n.right+(t.right===!0?0:t.right),top:t.top===!1?0:n.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?r.height:n.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Fh{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,i){const s=t.listeners[i],o=t.duration;s.forEach(l=>l({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(n-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=La.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const s=n.items;let o=s.length-1,l=!1,c;for(;o>=0;--o)c=s[o],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(e),l=!0):(s[o]=s[s.length-1],s.pop());l&&(i.draw(),this._notify(i,n,e,"progress")),s.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var He=new Fh;const Ki="transparent",Rh={boolean(r,e,t){return t>.5?e:r},color(r,e,t){const n=ji(r||Ki),i=n.valid&&ji(e||Ki);return i&&i.valid?i.mix(n,t).hexString():e},number(r,e,t){return r+(e-r)*t}};class Bh{constructor(e,t,n,i){const s=t[n];i=Sr([e.to,i,s,e.from]);const o=Sr([e.from,s,i]);this._active=!0,this._fn=e.fn||Rh[e.type||typeof o],this._easing=ir[e.easing]||ir.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const i=this._target[this._prop],s=n-this._start,o=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Sr([e.to,t,i,e.from]),this._from=Sr([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,i=this._prop,s=this._from,o=this._loop,l=this._to;let c;if(this._active=s!==l&&(o||t<n),!this._active){this._target[i]=l,this._notify(!0);return}if(t<0){this._target[i]=s;return}c=t/n%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(s,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][t]()}}class Va{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!U(e))return;const t=Object.keys(ie.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!U(s))return;const o={};for(const l of t)o[l]=s[l];(ne(s.properties)&&s.properties||[i]).forEach(l=>{(l===i||!n.has(l))&&n.set(l,o)})})}_animateOptions(e,t){const n=t.options,i=Wh(e,n);if(!i)return[];const s=this._createAnimations(i,n);return n.$shared&&jh(e.options.$animations,n).then(()=>{e.options=n},()=>{}),s}_createAnimations(e,t){const n=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(t),l=Date.now();let c;for(c=o.length-1;c>=0;--c){const d=o[c];if(d.charAt(0)==="$")continue;if(d==="options"){i.push(...this._animateOptions(e,t));continue}const h=t[d];let m=s[d];const f=n.get(d);if(m)if(f&&m.active()){m.update(f,h,l);continue}else m.cancel();if(!f||!f.duration){e[d]=h;continue}s[d]=m=new Bh(f,e,d,h),i.push(m)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const n=this._createAnimations(e,t);if(n.length)return He.add(this._chart,n),!0}}function jh(r,e){const t=[],n=Object.keys(e);for(let i=0;i<n.length;i++){const s=r[n[i]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function Wh(r,e){if(!e)return;let t=r.options;if(!t){r.options=e;return}return t.$shared&&(r.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Zi(r,e){const t=r&&r.options||{},n=t.reverse,i=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:n?s:i,end:n?i:s}}function Hh(r,e,t){if(t===!1)return!1;const n=Zi(r,t),i=Zi(e,t);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function $h(r){let e,t,n,i;return U(r)?(e=r.top,t=r.right,n=r.bottom,i=r.left):e=t=n=i=r,{top:e,right:t,bottom:n,left:i,disabled:r===!1}}function Ua(r,e){const t=[],n=r._getSortedDatasetMetas(e);let i,s;for(i=0,s=n.length;i<s;++i)t.push(n[i].index);return t}function Ji(r,e,t,n={}){const i=r.keys,s=n.mode==="single";let o,l,c,d;if(e===null)return;let h=!1;for(o=0,l=i.length;o<l;++o){if(c=+i[o],c===t){if(h=!0,n.all)continue;break}d=r.values[c],ce(d)&&(s||e===0||ze(e)===ze(d))&&(e+=d)}return!h&&!n.all?0:e}function Vh(r,e){const{iScale:t,vScale:n}=e,i=t.axis==="x"?"x":"y",s=n.axis==="x"?"x":"y",o=Object.keys(r),l=new Array(o.length);let c,d,h;for(c=0,d=o.length;c<d;++c)h=o[c],l[c]={[i]:h,[s]:r[h]};return l}function gn(r,e){const t=r&&r.options.stacked;return t||t===void 0&&e.stack!==void 0}function Uh(r,e,t){return`${r.id}.${e.id}.${t.stack||t.type}`}function Yh(r){const{min:e,max:t,minDefined:n,maxDefined:i}=r.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function qh(r,e,t){const n=r[e]||(r[e]={});return n[t]||(n[t]={})}function Qi(r,e,t,n){for(const i of e.getMatchingVisibleMetas(n).reverse()){const s=r[i.index];if(t&&s>0||!t&&s<0)return i.index}return null}function es(r,e){const{chart:t,_cachedMeta:n}=r,i=t._stacks||(t._stacks={}),{iScale:s,vScale:o,index:l}=n,c=s.axis,d=o.axis,h=Uh(s,o,n),m=e.length;let f;for(let g=0;g<m;++g){const b=e[g],{[c]:p,[d]:x}=b,v=b._stacks||(b._stacks={});f=v[d]=qh(i,h,p),f[l]=x,f._top=Qi(f,o,!0,n.type),f._bottom=Qi(f,o,!1,n.type);const w=f._visualValues||(f._visualValues={});w[l]=x}}function pn(r,e){const t=r.scales;return Object.keys(t).filter(n=>t[n].axis===e).shift()}function Gh(r,e){return lt(r,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Xh(r,e,t){return lt(r,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function jt(r,e){const t=r.controller.index,n=r.vScale&&r.vScale.axis;if(n){e=e||r._parsed;for(const i of e){const s=i._stacks;if(!s||s[n]===void 0||s[n][t]===void 0)return;delete s[n][t],s[n]._visualValues!==void 0&&s[n]._visualValues[t]!==void 0&&delete s[n]._visualValues[t]}}}const bn=r=>r==="reset"||r==="none",ts=(r,e)=>e?r:Object.assign({},r),Kh=(r,e,t)=>r&&!e.hidden&&e._stacked&&{keys:Ua(t,!0),values:null};class ar{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=gn(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&jt(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),i=(m,f,g,b)=>m==="x"?f:m==="r"?b:g,s=t.xAxisID=W(n.xAxisID,pn(e,"x")),o=t.yAxisID=W(n.yAxisID,pn(e,"y")),l=t.rAxisID=W(n.rAxisID,pn(e,"r")),c=t.indexAxis,d=t.iAxisID=i(c,s,o,l),h=t.vAxisID=i(c,o,s,l);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(l),t.iScale=this.getScaleForId(d),t.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Fi(this._data,this),e._stacked&&jt(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(U(t)){const i=this._cachedMeta;this._data=Vh(t,i)}else if(n!==t){if(n){Fi(n,this);const i=this._cachedMeta;jt(i),i._parsed=[]}t&&Object.isExtensible(t)&&Dd(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const s=t._stacked;t._stacked=gn(t.vScale,t),t.stack!==n.stack&&(i=!0,jt(t),t.stack=n.stack),this._resyncElements(e),(i||s!==t._stacked)&&(es(this,t._parsed),t._stacked=gn(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:i}=this,{iScale:s,_stacked:o}=n,l=s.axis;let c=e===0&&t===i.length?!0:n._sorted,d=e>0&&n._parsed[e-1],h,m,f;if(this._parsing===!1)n._parsed=i,n._sorted=!0,f=i;else{ne(i[e])?f=this.parseArrayData(n,i,e,t):U(i[e])?f=this.parseObjectData(n,i,e,t):f=this.parsePrimitiveData(n,i,e,t);const g=()=>m[l]===null||d&&m[l]<d[l];for(h=0;h<t;++h)n._parsed[h+e]=m=f[h],c&&(g()&&(c=!1),d=m);n._sorted=c}o&&es(this,f)}parsePrimitiveData(e,t,n,i){const{iScale:s,vScale:o}=e,l=s.axis,c=o.axis,d=s.getLabels(),h=s===o,m=new Array(i);let f,g,b;for(f=0,g=i;f<g;++f)b=f+n,m[f]={[l]:h||s.parse(d[b],b),[c]:o.parse(t[b],b)};return m}parseArrayData(e,t,n,i){const{xScale:s,yScale:o}=e,l=new Array(i);let c,d,h,m;for(c=0,d=i;c<d;++c)h=c+n,m=t[h],l[c]={x:s.parse(m[0],h),y:o.parse(m[1],h)};return l}parseObjectData(e,t,n,i){const{xScale:s,yScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(i);let h,m,f,g;for(h=0,m=i;h<m;++h)f=h+n,g=t[f],d[h]={x:s.parse(Et(g,l),f),y:o.parse(Et(g,c),f)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const i=this.chart,s=this._cachedMeta,o=t[e.axis],l={keys:Ua(i,!0),values:t._stacks[e.axis]._visualValues};return Ji(l,o,s.index,{mode:n})}updateRangeFromParsed(e,t,n,i){const s=n[t.axis];let o=s===null?NaN:s;const l=i&&n._stacks[t.axis];i&&l&&(i.values=l,o=Ji(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const n=this._cachedMeta,i=n._parsed,s=n._sorted&&e===n.iScale,o=i.length,l=this._getOtherScale(e),c=Kh(t,n,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:m}=Yh(l);let f,g;function b(){g=i[f];const p=g[l.axis];return!ce(g[e.axis])||h>p||m<p}for(f=0;f<o&&!(!b()&&(this.updateRangeFromParsed(d,e,g,c),s));++f);if(s){for(f=o-1;f>=0;--f)if(!b()){this.updateRangeFromParsed(d,e,g,c);break}}return d}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let i,s,o;for(i=0,s=t.length;i<s;++i)o=t[i][e.axis],ce(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,i=t.vScale,s=this.getParsed(e);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=$h(W(this.options.clip,Hh(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,i=n.data||[],s=t.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||i.length-l,d=this.options.drawActiveElementsOnTop;let h;for(n.dataset&&n.dataset.draw(e,s,l,c),h=l;h<l+c;++h){const m=i[h];m.hidden||(m.active&&d?o.push(m):m.draw(e,s))}for(h=0;h<o.length;++h)o[h].draw(e,s)}getStyle(e,t){const n=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=Xh(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=Gh(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){const i=t==="active",s=this._cachedDataOpts,o=e+"-"+t,l=s[o],c=this.enableOptionSharing&&cr(n);if(l)return ts(l,c);const d=this.chart.config,h=d.datasetElementScopeKeys(this._type,e),m=i?[`${e}Hover`,"hover",e,""]:[e,""],f=d.getOptionScopes(this.getDataset(),h),g=Object.keys(ie.elements[e]),b=()=>this.getContext(n,i,t),p=d.resolveNamedOptions(f,g,b,m);return p.$shared&&(p.$shared=c,s[o]=Object.freeze(ts(p,c))),p}_resolveAnimations(e,t,n){const i=this.chart,s=this._cachedDataOpts,o=`animation-${t}`,l=s[o];if(l)return l;let c;if(i.options.animation!==!1){const h=this.chart.config,m=h.datasetAnimationScopeKeys(this._type,t),f=h.getOptionScopes(this.getDataset(),m);c=h.createResolver(f,this.getContext(e,n,t))}const d=new Va(i,c&&c.animations);return c&&c._cacheable&&(s[o]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||bn(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),i=this._sharedOptions,s=this.getSharedOptions(n),o=this.includeOptions(t,s)||s!==i;return this.updateSharedOptions(s,t,n),{sharedOptions:s,includeOptions:o}}updateElement(e,t,n,i){bn(i)?Object.assign(e,n):this._resolveAnimations(t,i).update(e,n)}updateSharedOptions(e,t,n){e&&!bn(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,i){e.active=i;const s=this.getStyle(t,i);this._resolveAnimations(t,n,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];const i=n.length,s=t.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,t,n=!0){const i=this._cachedMeta,s=i.data,o=e+t;let l;const c=d=>{for(d.length+=t,l=d.length-1;l>=o;l--)d[l]=d[l-t]};for(c(s),l=e;l<o;++l)s[l]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(e,t),n&&this.updateElements(s,e,t,"reset")}updateElements(e,t,n,i){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,t);n._stacked&&jt(n,i)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,i]=e;this[t](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}z(ar,"defaults",{}),z(ar,"datasetElementType",null),z(ar,"dataElementType",null);function Zh(r,e){if(!r._cache.$bar){const t=r.getMatchingVisibleMetas(e);let n=[];for(let i=0,s=t.length;i<s;i++)n=n.concat(t[i].controller.getAllParsedValues(r));r._cache.$bar=Ta(n.sort((i,s)=>i-s))}return r._cache.$bar}function Jh(r){const e=r.iScale,t=Zh(e,r.type);let n=e._length,i,s,o,l;const c=()=>{o===32767||o===-32768||(cr(l)&&(n=Math.min(n,Math.abs(o-l)||n)),l=o)};for(i=0,s=t.length;i<s;++i)o=e.getPixelForValue(t[i]),c();for(l=void 0,i=0,s=e.ticks.length;i<s;++i)o=e.getPixelForTick(i),c();return n}function Qh(r,e,t,n){const i=t.barThickness;let s,o;return q(i)?(s=e.min*t.categoryPercentage,o=t.barPercentage):(s=i*n,o=1),{chunk:s/n,ratio:o,start:e.pixels[r]-s/2}}function eu(r,e,t,n){const i=e.pixels,s=i[r];let o=r>0?i[r-1]:null,l=r<i.length-1?i[r+1]:null;const c=t.categoryPercentage;o===null&&(o=s-(l===null?e.end-e.start:l-s)),l===null&&(l=s+s-o);const d=s-(s-Math.min(o,l))/2*c;return{chunk:Math.abs(l-o)/2*c/n,ratio:t.barPercentage,start:d}}function tu(r,e,t,n){const i=t.parse(r[0],n),s=t.parse(r[1],n),o=Math.min(i,s),l=Math.max(i,s);let c=o,d=l;Math.abs(o)>Math.abs(l)&&(c=l,d=o),e[t.axis]=d,e._custom={barStart:c,barEnd:d,start:i,end:s,min:o,max:l}}function Ya(r,e,t,n){return ne(r)?tu(r,e,t,n):e[t.axis]=t.parse(r,n),e}function rs(r,e,t,n){const i=r.iScale,s=r.vScale,o=i.getLabels(),l=i===s,c=[];let d,h,m,f;for(d=t,h=t+n;d<h;++d)f=e[d],m={},m[i.axis]=l||i.parse(o[d],d),c.push(Ya(f,m,s,d));return c}function xn(r){return r&&r.barStart!==void 0&&r.barEnd!==void 0}function ru(r,e,t){return r!==0?ze(r):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function nu(r){let e,t,n,i,s;return r.horizontal?(e=r.base>r.x,t="left",n="right"):(e=r.base<r.y,t="bottom",n="top"),e?(i="end",s="start"):(i="start",s="end"),{start:t,end:n,reverse:e,top:i,bottom:s}}function iu(r,e,t,n){let i=e.borderSkipped;const s={};if(!i){r.borderSkipped=s;return}if(i===!0){r.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:c,top:d,bottom:h}=nu(r);i==="middle"&&t&&(r.enableBorderRadius=!0,(t._top||0)===n?i=d:(t._bottom||0)===n?i=h:(s[ns(h,o,l,c)]=!0,i=d)),s[ns(i,o,l,c)]=!0,r.borderSkipped=s}function ns(r,e,t,n){return n?(r=su(r,e,t),r=is(r,t,e)):r=is(r,e,t),r}function su(r,e,t){return r===e?t:r===t?e:r}function is(r,e,t){return r==="start"?e:r==="end"?t:r}function au(r,{inflateAmount:e},t){r.inflateAmount=e==="auto"?t===1?.33:0:e}class Rr extends ar{parsePrimitiveData(e,t,n,i){return rs(e,t,n,i)}parseArrayData(e,t,n,i){return rs(e,t,n,i)}parseObjectData(e,t,n,i){const{iScale:s,vScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=s.axis==="x"?l:c,h=o.axis==="x"?l:c,m=[];let f,g,b,p;for(f=n,g=n+i;f<g;++f)p=t[f],b={},b[s.axis]=s.parse(Et(p,d),f),m.push(Ya(Et(p,h),b,o,f));return m}updateRangeFromParsed(e,t,n,i){super.updateRangeFromParsed(e,t,n,i);const s=n._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:i}=t,s=this.getParsed(e),o=s._custom,l=xn(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),h=this._getRuler(),{sharedOptions:m,includeOptions:f}=this._getSharedOptions(t,i);for(let g=t;g<t+n;g++){const b=this.getParsed(g),p=s||q(b[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(g),x=this._calculateBarIndexPixels(g,h),v=(b._stacks||{})[l.axis],w={horizontal:d,base:p.base,enableBorderRadius:!v||xn(b._custom)||o===v._top||o===v._bottom,x:d?p.head:x.center,y:d?x.center:p.head,height:d?x.size:Math.abs(p.size),width:d?Math.abs(p.size):x.size};f&&(w.options=m||this.resolveDataElementOptions(g,e[g].active?"active":i));const N=w.options||e[g].options;iu(w,N,v,o),au(w,N,h.ratio),this.updateElement(e[g],g,w,i)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),s=n.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(t),c=l&&l[n.axis],d=h=>{const m=h._parsed.find(g=>g[n.axis]===c),f=m&&m[h.vScale.axis];if(q(f)||isNaN(f))return!0};for(const h of i)if(!(t!==void 0&&d(h))&&((s===!1||o.indexOf(h.stack)===-1||s===void 0&&h.stack===void 0)&&o.push(h.stack),h.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[W(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,n){const i=this._getStacks(e,n),s=t!==void 0?i.indexOf(t):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,i=[];let s,o;for(s=0,o=t.data.length;s<o;++s)i.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const l=e.barThickness;return{min:l||Jh(t),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:i},options:{base:s,minBarLength:o}}=this,l=s||0,c=this.getParsed(e),d=c._custom,h=xn(d);let m=c[t.axis],f=0,g=n?this.applyStack(t,c,n):m,b,p;g!==m&&(f=g-m,g=m),h&&(m=d.barStart,g=d.barEnd-d.barStart,m!==0&&ze(m)!==ze(d.barEnd)&&(f=0),f+=m);const x=!q(s)&&!h?s:f;let v=t.getPixelForValue(x);if(this.chart.getDataVisibility(e)?b=t.getPixelForValue(f+g):b=v,p=b-v,Math.abs(p)<o){p=ru(p,t,l)*o,m===l&&(v-=p/2);const w=t.getPixelForDecimal(0),N=t.getPixelForDecimal(1),k=Math.min(w,N),S=Math.max(w,N);v=Math.max(Math.min(v,S),k),b=v+p,n&&!h&&(c._stacks[t.axis]._visualValues[i]=t.getValueForPixel(b)-t.getValueForPixel(v))}if(v===t.getPixelForValue(l)){const w=ze(p)*t.getLineWidthForValue(l)/2;v+=w,p-=w}return{size:p,base:v,head:b,center:b+p/2}}_calculateBarIndexPixels(e,t){const n=t.scale,i=this.options,s=i.skipNull,o=W(i.maxBarThickness,1/0);let l,c;const d=this._getAxisCount();if(t.grouped){const h=s?this._getStackCount(e):t.stackCount,m=i.barThickness==="flex"?eu(e,t,i,h*d):Qh(e,t,i,h*d),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,g=this._getAxis().indexOf(W(f,this.getFirstScaleIdForIndexAxis())),b=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+g;l=m.start+m.chunk*b+m.chunk/2,c=Math.min(o,m.chunk*m.ratio)}else l=n.getPixelForValue(this.getParsed(e)[n.axis],e),c=Math.min(o,t.min*t.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,i=n.length;let s=0;for(;s<i;++s)this.getParsed(s)[t.axis]!==null&&!n[s].hidden&&n[s].draw(this._ctx)}}z(Rr,"id","bar"),z(Rr,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),z(Rr,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function ut(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class di{constructor(e){z(this,"options");this.options=e||{}}static override(e){Object.assign(di.prototype,e)}init(){}formats(){return ut()}parse(){return ut()}format(){return ut()}add(){return ut()}diff(){return ut()}startOf(){return ut()}endOf(){return ut()}}var ou={_date:di};function lu(r,e,t,n){const{controller:i,data:s,_sorted:o}=r,l=i._cachedMeta.iScale,c=r.dataset&&r.dataset.options?r.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&o&&s.length){const d=l._reversePixels?Td:An;if(n){if(i._sharedOptions){const h=s[0],m=typeof h.getRange=="function"&&h.getRange(e);if(m){const f=d(s,e,t-m),g=d(s,e,t+m);return{lo:f.lo,hi:g.hi}}}}else{const h=d(s,e,t);if(c){const{vScale:m}=i._cachedMeta,{_parsed:f}=r,g=f.slice(0,h.lo+1).reverse().findIndex(p=>!q(p[m.axis]));h.lo-=Math.max(0,g);const b=f.slice(h.hi).findIndex(p=>!q(p[m.axis]));h.hi+=Math.max(0,b)}return h}}return{lo:0,hi:s.length-1}}function br(r,e,t,n,i){const s=r.getSortedVisibleDatasetMetas(),o=t[e];for(let l=0,c=s.length;l<c;++l){const{index:d,data:h}=s[l],{lo:m,hi:f}=lu(s[l],e,o,i);for(let g=m;g<=f;++g){const b=h[g];b.skip||n(b,d,g)}}}function cu(r){const e=r.indexOf("x")!==-1,t=r.indexOf("y")!==-1;return function(n,i){const s=e?Math.abs(n.x-i.x):0,o=t?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function yn(r,e,t,n,i){const s=[];return!i&&!r.isPointInArea(e)||br(r,t,e,function(l,c,d){!i&&!Xe(l,r.chartArea,0)||l.inRange(e.x,e.y,n)&&s.push({element:l,datasetIndex:c,index:d})},!0),s}function du(r,e,t,n){let i=[];function s(o,l,c){const{startAngle:d,endAngle:h}=o.getProps(["startAngle","endAngle"],n),{angle:m}=Cd(o,{x:e.x,y:e.y});Ma(m,d,h)&&i.push({element:o,datasetIndex:l,index:c})}return br(r,t,e,s),i}function hu(r,e,t,n,i,s){let o=[];const l=cu(t);let c=Number.POSITIVE_INFINITY;function d(h,m,f){const g=h.inRange(e.x,e.y,i);if(n&&!g)return;const b=h.getCenterPoint(i);if(!(!!s||r.isPointInArea(b))&&!g)return;const x=l(e,b);x<c?(o=[{element:h,datasetIndex:m,index:f}],c=x):x===c&&o.push({element:h,datasetIndex:m,index:f})}return br(r,t,e,d),o}function vn(r,e,t,n,i,s){return!s&&!r.isPointInArea(e)?[]:t==="r"&&!n?du(r,e,t,i):hu(r,e,t,n,i,s)}function ss(r,e,t,n,i){const s=[],o=t==="x"?"inXRange":"inYRange";let l=!1;return br(r,t,e,(c,d,h)=>{c[o]&&c[o](e[t],i)&&(s.push({element:c,datasetIndex:d,index:h}),l=l||c.inRange(e.x,e.y,i))}),n&&!l?[]:s}var uu={evaluateInteractionItems:br,modes:{index(r,e,t,n){const i=ft(e,r),s=t.axis||"x",o=t.includeInvisible||!1,l=t.intersect?yn(r,i,s,n,o):vn(r,i,s,!1,n,o),c=[];return l.length?(r.getSortedVisibleDatasetMetas().forEach(d=>{const h=l[0].index,m=d.data[h];m&&!m.skip&&c.push({element:m,datasetIndex:d.index,index:h})}),c):[]},dataset(r,e,t,n){const i=ft(e,r),s=t.axis||"xy",o=t.includeInvisible||!1;let l=t.intersect?yn(r,i,s,n,o):vn(r,i,s,!1,n,o);if(l.length>0){const c=l[0].datasetIndex,d=r.getDatasetMeta(c).data;l=[];for(let h=0;h<d.length;++h)l.push({element:d[h],datasetIndex:c,index:h})}return l},point(r,e,t,n){const i=ft(e,r),s=t.axis||"xy",o=t.includeInvisible||!1;return yn(r,i,s,n,o)},nearest(r,e,t,n){const i=ft(e,r),s=t.axis||"xy",o=t.includeInvisible||!1;return vn(r,i,s,t.intersect,n,o)},x(r,e,t,n){const i=ft(e,r);return ss(r,i,"x",t.intersect,n)},y(r,e,t,n){const i=ft(e,r);return ss(r,i,"y",t.intersect,n)}}};const qa=["left","top","right","bottom"];function Wt(r,e){return r.filter(t=>t.pos===e)}function as(r,e){return r.filter(t=>qa.indexOf(t.pos)===-1&&t.box.axis===e)}function Ht(r,e){return r.sort((t,n)=>{const i=e?n:t,s=e?t:n;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function mu(r){const e=[];let t,n,i,s,o,l;for(t=0,n=(r||[]).length;t<n;++t)i=r[t],{position:s,options:{stack:o,stackWeight:l=1}}=i,e.push({index:t,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:l});return e}function fu(r){const e={};for(const t of r){const{stack:n,pos:i,stackWeight:s}=t;if(!n||!qa.includes(i))continue;const o=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function gu(r,e){const t=fu(r),{vBoxMaxWidth:n,hBoxMaxHeight:i}=e;let s,o,l;for(s=0,o=r.length;s<o;++s){l=r[s];const{fullSize:c}=l.box,d=t[l.stack],h=d&&l.stackWeight/d.weight;l.horizontal?(l.width=h?h*n:c&&e.availableWidth,l.height=i):(l.width=n,l.height=h?h*i:c&&e.availableHeight)}return t}function pu(r){const e=mu(r),t=Ht(e.filter(d=>d.box.fullSize),!0),n=Ht(Wt(e,"left"),!0),i=Ht(Wt(e,"right")),s=Ht(Wt(e,"top"),!0),o=Ht(Wt(e,"bottom")),l=as(e,"x"),c=as(e,"y");return{fullSize:t,leftAndTop:n.concat(s),rightAndBottom:i.concat(c).concat(o).concat(l),chartArea:Wt(e,"chartArea"),vertical:n.concat(i).concat(c),horizontal:s.concat(o).concat(l)}}function os(r,e,t,n){return Math.max(r[t],e[t])+Math.max(r[n],e[n])}function Ga(r,e){r.top=Math.max(r.top,e.top),r.left=Math.max(r.left,e.left),r.bottom=Math.max(r.bottom,e.bottom),r.right=Math.max(r.right,e.right)}function bu(r,e,t,n){const{pos:i,box:s}=t,o=r.maxPadding;if(!U(i)){t.size&&(r[i]-=t.size);const m=n[t.stack]||{size:0,count:1};m.size=Math.max(m.size,t.horizontal?s.height:s.width),t.size=m.size/m.count,r[i]+=t.size}s.getPadding&&Ga(o,s.getPadding());const l=Math.max(0,e.outerWidth-os(o,r,"left","right")),c=Math.max(0,e.outerHeight-os(o,r,"top","bottom")),d=l!==r.w,h=c!==r.h;return r.w=l,r.h=c,t.horizontal?{same:d,other:h}:{same:h,other:d}}function xu(r){const e=r.maxPadding;function t(n){const i=Math.max(e[n]-r[n],0);return r[n]+=i,i}r.y+=t("top"),r.x+=t("left"),t("right"),t("bottom")}function yu(r,e){const t=e.maxPadding;function n(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],t[o])}),s}return n(r?["left","right"]:["top","bottom"])}function Xt(r,e,t,n){const i=[];let s,o,l,c,d,h;for(s=0,o=r.length,d=0;s<o;++s){l=r[s],c=l.box,c.update(l.width||e.w,l.height||e.h,yu(l.horizontal,e));const{same:m,other:f}=bu(e,t,l,n);d|=m&&i.length,h=h||f,c.fullSize||i.push(l)}return d&&Xt(i,e,t,n)||h}function Tr(r,e,t,n,i){r.top=t,r.left=e,r.right=e+n,r.bottom=t+i,r.width=n,r.height=i}function ls(r,e,t,n){const i=t.padding;let{x:s,y:o}=e;for(const l of r){const c=l.box,d=n[l.stack]||{count:1,placed:0,weight:1},h=l.stackWeight/d.weight||1;if(l.horizontal){const m=e.w*h,f=d.size||c.height;cr(d.start)&&(o=d.start),c.fullSize?Tr(c,i.left,o,t.outerWidth-i.right-i.left,f):Tr(c,e.left+d.placed,o,m,f),d.start=o,d.placed+=m,o=c.bottom}else{const m=e.h*h,f=d.size||c.width;cr(d.start)&&(s=d.start),c.fullSize?Tr(c,s,i.top,f,t.outerHeight-i.bottom-i.top):Tr(c,s,e.top+d.placed,f,m),d.start=s,d.placed+=m,s=c.right}}e.x=s,e.y=o}var _e={addBox(r,e){r.boxes||(r.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},r.boxes.push(e)},removeBox(r,e){const t=r.boxes?r.boxes.indexOf(e):-1;t!==-1&&r.boxes.splice(t,1)},configure(r,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(r,e,t,n){if(!r)return;const i=me(r.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(t-i.height,0),l=pu(r.boxes),c=l.vertical,d=l.horizontal;X(r.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const h=c.reduce((p,x)=>x.box.options&&x.box.options.display===!1?p:p+1,0)||1,m=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/h,hBoxMaxHeight:o/2}),f=Object.assign({},i);Ga(f,me(n));const g=Object.assign({maxPadding:f,w:s,h:o,x:i.left,y:i.top},i),b=gu(c.concat(d),m);Xt(l.fullSize,g,m,b),Xt(c,g,m,b),Xt(d,g,m,b)&&Xt(c,g,m,b),xu(g),ls(l.leftAndTop,g,m,b),g.x+=g.w,g.y+=g.h,ls(l.rightAndBottom,g,m,b),r.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},X(l.chartArea,p=>{const x=p.box;Object.assign(x,r.chartArea),x.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class Xa{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,i){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):n)}}isAttached(e){return!0}updateConfig(e){}}class vu extends Xa{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Br="$chartjs",wu={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},cs=r=>r===null||r==="";function Nu(r,e){const t=r.style,n=r.getAttribute("height"),i=r.getAttribute("width");if(r[Br]={initial:{height:n,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",cs(i)){const s=Yi(r,"width");s!==void 0&&(r.width=s)}if(cs(n))if(r.style.height==="")r.height=r.width/(e||2);else{const s=Yi(r,"height");s!==void 0&&(r.height=s)}return r}const Ka=Nh?{passive:!0}:!1;function ku(r,e,t){r&&r.addEventListener(e,t,Ka)}function _u(r,e,t){r&&r.canvas&&r.canvas.removeEventListener(e,t,Ka)}function Su(r,e){const t=wu[r.type]||r.type,{x:n,y:i}=ft(r,e);return{type:t,chart:e,native:r,x:n!==void 0?n:null,y:i!==void 0?i:null}}function Kr(r,e){for(const t of r)if(t===e||t.contains(e))return!0}function Cu(r,e,t){const n=r.canvas,i=new MutationObserver(s=>{let o=!1;for(const l of s)o=o||Kr(l.addedNodes,n),o=o&&!Kr(l.removedNodes,n);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function Mu(r,e,t){const n=r.canvas,i=new MutationObserver(s=>{let o=!1;for(const l of s)o=o||Kr(l.removedNodes,n),o=o&&!Kr(l.addedNodes,n);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const hr=new Map;let ds=0;function Za(){const r=window.devicePixelRatio;r!==ds&&(ds=r,hr.forEach((e,t)=>{t.currentDevicePixelRatio!==r&&e()}))}function Pu(r,e){hr.size||window.addEventListener("resize",Za),hr.set(r,e)}function Tu(r){hr.delete(r),hr.size||window.removeEventListener("resize",Za)}function Lu(r,e,t){const n=r.canvas,i=n&&ci(n);if(!i)return;const s=Da((l,c)=>{const d=i.clientWidth;t(l,c),d<i.clientWidth&&t()},window),o=new ResizeObserver(l=>{const c=l[0],d=c.contentRect.width,h=c.contentRect.height;d===0&&h===0||s(d,h)});return o.observe(i),Pu(r,s),o}function wn(r,e,t){t&&t.disconnect(),e==="resize"&&Tu(r)}function Du(r,e,t){const n=r.canvas,i=Da(s=>{r.ctx!==null&&t(Su(s,r))},r);return ku(n,e,i),i}class Au extends Xa{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(Nu(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[Br])return!1;const n=t[Br].initial;["height","width"].forEach(s=>{const o=n[s];q(o)?t.removeAttribute(s):t.setAttribute(s,o)});const i=n.style||{};return Object.keys(i).forEach(s=>{t.style[s]=i[s]}),t.width=t.width,delete t[Br],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),o={attach:Cu,detach:Mu,resize:Lu}[t]||Du;i[t]=o(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),i=n[t];if(!i)return;({attach:wn,detach:wn,resize:wn}[t]||_u)(e,t,i),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,i){return wh(e,t,n,i)}isAttached(e){const t=e&&ci(e);return!!(t&&t.isConnected)}}function Eu(r){return!li()||typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas?vu:Au}class Fe{constructor(){z(this,"x");z(this,"y");z(this,"active",!1);z(this,"options");z(this,"$animations")}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return qr(this.x)&&qr(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const i={};return e.forEach(s=>{i[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),i}}z(Fe,"defaults",{}),z(Fe,"defaultRoutes");function Iu(r,e){const t=r.options.ticks,n=Ou(r),i=Math.min(t.maxTicksLimit||n,n),s=t.major.enabled?Fu(e):[],o=s.length,l=s[0],c=s[o-1],d=[];if(o>i)return Ru(e,d,s,o/i),d;const h=zu(s,e,i);if(o>0){let m,f;const g=o>1?Math.round((c-l)/(o-1)):null;for(Lr(e,d,h,q(g)?0:l-g,l),m=0,f=o-1;m<f;m++)Lr(e,d,h,s[m],s[m+1]);return Lr(e,d,h,c,q(g)?e.length:c+g),d}return Lr(e,d,h),d}function Ou(r){const e=r.options.offset,t=r._tickSize(),n=r._length/t+(e?0:1),i=r._maxLength/t;return Math.floor(Math.min(n,i))}function zu(r,e,t){const n=Bu(r),i=e.length/t;if(!n)return Math.max(i,1);const s=kd(n);for(let o=0,l=s.length-1;o<l;o++){const c=s[o];if(c>i)return c}return Math.max(i,1)}function Fu(r){const e=[];let t,n;for(t=0,n=r.length;t<n;t++)r[t].major&&e.push(t);return e}function Ru(r,e,t,n){let i=0,s=t[0],o;for(n=Math.ceil(n),o=0;o<r.length;o++)o===s&&(e.push(r[o]),i++,s=t[i*n])}function Lr(r,e,t,n,i){const s=W(n,0),o=Math.min(W(i,r.length),r.length);let l=0,c,d,h;for(t=Math.ceil(t),i&&(c=i-n,t=c/Math.floor(c/t)),h=s;h<0;)l++,h=Math.round(s+l*t);for(d=Math.max(s,0);d<o;d++)d===h&&(e.push(r[d]),l++,h=Math.round(s+l*t))}function Bu(r){const e=r.length;let t,n;if(e<2)return!1;for(n=r[0],t=1;t<e;++t)if(r[t]-r[t-1]!==n)return!1;return n}const ju=r=>r==="left"?"right":r==="right"?"left":r,hs=(r,e,t)=>e==="top"||e==="left"?r[e]+t:r[e]-t,us=(r,e)=>Math.min(e||r,r);function ms(r,e){const t=[],n=r.length/e,i=r.length;let s=0;for(;s<i;s+=n)t.push(r[Math.floor(s)]);return t}function Wu(r,e,t){const n=r.ticks.length,i=Math.min(e,n-1),s=r._startPixel,o=r._endPixel,l=1e-6;let c=r.getPixelForTick(i),d;if(!(t&&(n===1?d=Math.max(c-s,o-c):e===0?d=(r.getPixelForTick(1)-c)/2:d=(c-r.getPixelForTick(i-1))/2,c+=i<e?d:-d,c<s-l||c>o+l)))return c}function Hu(r,e){X(r,t=>{const n=t.gc,i=n.length/2;let s;if(i>e){for(s=0;s<i;++s)delete t.data[n[s]];n.splice(0,i)}})}function $t(r){return r.drawTicks?r.tickLength:0}function fs(r,e){if(!r.display)return 0;const t=le(r.font,e),n=me(r.padding);return(ne(r.text)?r.text.length:1)*t.lineHeight+n.height}function $u(r,e){return lt(r,{scale:e,type:"scale"})}function Vu(r,e,t){return lt(r,{tick:t,index:e,type:"tick"})}function Uu(r,e,t){let n=ei(r);return(t&&e!=="right"||!t&&e==="right")&&(n=ju(n)),n}function Yu(r,e,t,n){const{top:i,left:s,bottom:o,right:l,chart:c}=r,{chartArea:d,scales:h}=c;let m=0,f,g,b;const p=o-i,x=l-s;if(r.isHorizontal()){if(g=ue(n,s,l),U(t)){const v=Object.keys(t)[0],w=t[v];b=h[v].getPixelForValue(w)+p-e}else t==="center"?b=(d.bottom+d.top)/2+p-e:b=hs(r,t,e);f=l-s}else{if(U(t)){const v=Object.keys(t)[0],w=t[v];g=h[v].getPixelForValue(w)-x+e}else t==="center"?g=(d.left+d.right)/2-x+e:g=hs(r,t,e);b=ue(n,o,i),m=t==="left"?-Ne:Ne}return{titleX:g,titleY:b,maxWidth:f,rotation:m}}class St extends Fe{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:i}=this;return e=we(e,Number.POSITIVE_INFINITY),t=we(t,Number.NEGATIVE_INFINITY),n=we(n,Number.POSITIVE_INFINITY),i=we(i,Number.NEGATIVE_INFINITY),{min:we(e,n),max:we(t,i),minDefined:ce(e),maxDefined:ce(t)}}getMinMax(e){let{min:t,max:n,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:t,max:n};const l=this.getMatchingVisibleMetas();for(let c=0,d=l.length;c<d;++c)o=l[c].controller.getMinMax(this,e),i||(t=Math.min(t,o.min)),s||(n=Math.max(n,o.max));return t=s&&t>n?n:t,n=i&&t>n?t:n,{min:we(t,we(n,t)),max:we(n,we(t,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Q(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:i,grace:s,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Qd(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?ms(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Iu(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,n;this.isHorizontal()?(t=this.left,n=this.right):(t=this.top,n=this.bottom,e=!e),this._startPixel=t,this._endPixel=n,this._reversePixels=e,this._length=n-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Q(this.options.afterUpdate,[this])}beforeSetDimensions(){Q(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Q(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Q(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Q(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,i,s;for(n=0,i=e.length;n<i;n++)s=e[n],s.label=Q(t.callback,[s.value,n,e],this)}afterTickToLabelConversion(){Q(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Q(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=us(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,s=t.maxRotation;let o=i,l,c,d;if(!this._isVisible()||!t.display||i>=s||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const h=this._getLabelSizes(),m=h.widest.width,f=h.highest.height,g=Le(this.chart.width-m,0,this.maxWidth);l=e.offset?this.maxWidth/n:g/(n-1),m+6>l&&(l=g/(n-(e.offset?.5:1)),c=this.maxHeight-$t(e.grid)-t.padding-fs(e.title,this.chart.options.font),d=Math.sqrt(m*m+f*f),o=Jn(Math.min(Math.asin(Le((h.highest.height+6)/l,-1,1)),Math.asin(Le(c/d,-1,1))-Math.asin(Le(f/d,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Q(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Q(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:i,grid:s}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const c=fs(i,t.options.font);if(l?(e.width=this.maxWidth,e.height=$t(s)+c):(e.height=this.maxHeight,e.width=$t(s)+c),n.display&&this.ticks.length){const{first:d,last:h,widest:m,highest:f}=this._getLabelSizes(),g=n.padding*2,b=nt(this.labelRotation),p=Math.cos(b),x=Math.sin(b);if(l){const v=n.mirror?0:x*m.width+p*f.height;e.height=Math.min(this.maxHeight,e.height+v+g)}else{const v=n.mirror?0:p*m.width+x*f.height;e.width=Math.min(this.maxWidth,e.width+v+g)}this._calculatePadding(d,h,x,p)}}this._handleMargins(),l?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,i){const{ticks:{align:s,padding:o},position:l}=this.options,c=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,g=0;c?d?(f=i*e.width,g=n*t.height):(f=n*e.height,g=i*t.width):s==="start"?g=t.width:s==="end"?f=e.width:s!=="inner"&&(f=e.width/2,g=t.width/2),this.paddingLeft=Math.max((f-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((g-m+o)*this.width/(this.width-m),0)}else{let h=t.height/2,m=e.height/2;s==="start"?(h=0,m=e.height):s==="end"&&(h=t.height,m=0),this.paddingTop=h+o,this.paddingBottom=m+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Q(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,n;for(t=0,n=e.length;t<n;t++)q(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=ms(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:i,_longestTextCache:s}=this,o=[],l=[],c=Math.floor(t/us(t,n));let d=0,h=0,m,f,g,b,p,x,v,w,N,k,S;for(m=0;m<t;m+=c){if(b=e[m].label,p=this._resolveTickFontOptions(m),i.font=x=p.string,v=s[x]=s[x]||{data:{},gc:[]},w=p.lineHeight,N=k=0,!q(b)&&!ne(b))N=Gr(i,v.data,v.gc,N,b),k=w;else if(ne(b))for(f=0,g=b.length;f<g;++f)S=b[f],!q(S)&&!ne(S)&&(N=Gr(i,v.data,v.gc,N,S),k+=w);o.push(N),l.push(k),d=Math.max(N,d),h=Math.max(k,h)}Hu(s,t);const A=o.indexOf(d),E=l.indexOf(h),L=P=>({width:o[P]||0,height:l[P]||0});return{first:L(0),last:L(t-1),widest:L(A),highest:L(E),widths:o,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Pd(this._alignToPixels?ht(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=Vu(this.getContext(),e,n))}return this.$context||(this.$context=$u(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=nt(this.labelRotation),n=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,l=s?s.widest.width+o:0,c=s?s.highest.height+o:0;return this.isHorizontal()?c*n>l*i?l/n:c/i:c*i<l*n?c/n:l/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,i=this.options,{grid:s,position:o,border:l}=i,c=s.offset,d=this.isHorizontal(),m=this.ticks.length+(c?1:0),f=$t(s),g=[],b=l.setContext(this.getContext()),p=b.display?b.width:0,x=p/2,v=function(R){return ht(n,R,p)};let w,N,k,S,A,E,L,P,M,I,D,V;if(o==="top")w=v(this.bottom),E=this.bottom-f,P=w-x,I=v(e.top)+x,V=e.bottom;else if(o==="bottom")w=v(this.top),I=e.top,V=v(e.bottom)-x,E=w+x,P=this.top+f;else if(o==="left")w=v(this.right),A=this.right-f,L=w-x,M=v(e.left)+x,D=e.right;else if(o==="right")w=v(this.left),M=e.left,D=v(e.right)-x,A=w+x,L=this.left+f;else if(t==="x"){if(o==="center")w=v((e.top+e.bottom)/2+.5);else if(U(o)){const R=Object.keys(o)[0],Y=o[R];w=v(this.chart.scales[R].getPixelForValue(Y))}I=e.top,V=e.bottom,E=w+x,P=E+f}else if(t==="y"){if(o==="center")w=v((e.left+e.right)/2);else if(U(o)){const R=Object.keys(o)[0],Y=o[R];w=v(this.chart.scales[R].getPixelForValue(Y))}A=w-x,L=A-f,M=e.left,D=e.right}const j=W(i.ticks.maxTicksLimit,m),_=Math.max(1,Math.ceil(m/j));for(N=0;N<m;N+=_){const R=this.getContext(N),Y=s.setContext(R),de=l.setContext(R),F=Y.lineWidth,ye=Y.color,ve=de.dash||[],ge=de.dashOffset,$=Y.tickWidth,Re=Y.tickColor,ct=Y.tickBorderDash||[],Be=Y.tickBorderDashOffset;k=Wu(this,N,c),k!==void 0&&(S=ht(n,k,F),d?A=L=M=D=S:E=P=I=V=S,g.push({tx1:A,ty1:E,tx2:L,ty2:P,x1:M,y1:I,x2:D,y2:V,width:F,color:ye,borderDash:ve,borderDashOffset:ge,tickWidth:$,tickColor:Re,tickBorderDash:ct,tickBorderDashOffset:Be}))}return this._ticksLength=m,this._borderValue=w,g}_computeLabelItems(e){const t=this.axis,n=this.options,{position:i,ticks:s}=n,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:d,padding:h,mirror:m}=s,f=$t(n.grid),g=f+h,b=m?-h:g,p=-nt(this.labelRotation),x=[];let v,w,N,k,S,A,E,L,P,M,I,D,V="middle";if(i==="top")A=this.bottom-b,E=this._getXAxisLabelAlignment();else if(i==="bottom")A=this.top+b,E=this._getXAxisLabelAlignment();else if(i==="left"){const _=this._getYAxisLabelAlignment(f);E=_.textAlign,S=_.x}else if(i==="right"){const _=this._getYAxisLabelAlignment(f);E=_.textAlign,S=_.x}else if(t==="x"){if(i==="center")A=(e.top+e.bottom)/2+g;else if(U(i)){const _=Object.keys(i)[0],R=i[_];A=this.chart.scales[_].getPixelForValue(R)+g}E=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")S=(e.left+e.right)/2-g;else if(U(i)){const _=Object.keys(i)[0],R=i[_];S=this.chart.scales[_].getPixelForValue(R)}E=this._getYAxisLabelAlignment(f).textAlign}t==="y"&&(c==="start"?V="top":c==="end"&&(V="bottom"));const j=this._getLabelSizes();for(v=0,w=l.length;v<w;++v){N=l[v],k=N.label;const _=s.setContext(this.getContext(v));L=this.getPixelForTick(v)+s.labelOffset,P=this._resolveTickFontOptions(v),M=P.lineHeight,I=ne(k)?k.length:1;const R=I/2,Y=_.color,de=_.textStrokeColor,F=_.textStrokeWidth;let ye=E;o?(S=L,E==="inner"&&(v===w-1?ye=this.options.reverse?"left":"right":v===0?ye=this.options.reverse?"right":"left":ye="center"),i==="top"?d==="near"||p!==0?D=-I*M+M/2:d==="center"?D=-j.highest.height/2-R*M+M:D=-j.highest.height+M/2:d==="near"||p!==0?D=M/2:d==="center"?D=j.highest.height/2-R*M:D=j.highest.height-I*M,m&&(D*=-1),p!==0&&!_.showLabelBackdrop&&(S+=M/2*Math.sin(p))):(A=L,D=(1-I)*M/2);let ve;if(_.showLabelBackdrop){const ge=me(_.backdropPadding),$=j.heights[v],Re=j.widths[v];let ct=D-ge.top,Be=0-ge.left;switch(V){case"middle":ct-=$/2;break;case"bottom":ct-=$;break}switch(E){case"center":Be-=Re/2;break;case"right":Be-=Re;break;case"inner":v===w-1?Be-=Re:v>0&&(Be-=Re/2);break}ve={left:Be,top:ct,width:Re+ge.width,height:$+ge.height,color:_.backdropColor}}x.push({label:k,font:P,textOffset:D,options:{rotation:p,color:Y,strokeColor:de,strokeWidth:F,textAlign:ye,textBaseline:V,translation:[S,A],backdrop:ve}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-nt(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),l=e+s,c=o.widest.width;let d,h;return t==="left"?i?(h=this.right+s,n==="near"?d="left":n==="center"?(d="center",h+=c/2):(d="right",h+=c)):(h=this.right-l,n==="near"?d="right":n==="center"?(d="center",h-=c/2):(d="left",h=this.left)):t==="right"?i?(h=this.left+s,n==="near"?d="right":n==="center"?(d="center",h-=c/2):(d="left",h-=c)):(h=this.left+l,n==="near"?d="left":n==="center"?(d="center",h+=c/2):(d="right",h=this.right)):d="right",{textAlign:d,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:i,width:s,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,i,s,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const l=(c,d,h)=>{!h.width||!h.color||(n.save(),n.lineWidth=h.width,n.strokeStyle=h.color,n.setLineDash(h.borderDash||[]),n.lineDashOffset=h.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(d.x,d.y),n.stroke(),n.restore())};if(t.display)for(s=0,o=i.length;s<o;++s){const c=i[s];t.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:i}}=this,s=n.setContext(this.getContext()),o=n.display?s.width:0;if(!o)return;const l=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,h,m,f;this.isHorizontal()?(d=ht(e,this.left,o)-o/2,h=ht(e,this.right,l)+l/2,m=f=c):(m=ht(e,this.top,o)-o/2,f=ht(e,this.bottom,l)+l/2,d=h=c),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(d,m),t.lineTo(h,f),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&ni(n,i);const s=this.getLabelItems(e);for(const o of s){const l=o.options,c=o.font,d=o.label,h=o.textOffset;Nt(n,d,0,h,c,l)}i&&ii(n)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:i}}=this;if(!n.display)return;const s=le(n.font),o=me(n.padding),l=n.align;let c=s.lineHeight/2;t==="bottom"||t==="center"||U(t)?(c+=o.bottom,ne(n.text)&&(c+=s.lineHeight*(n.text.length-1))):c+=o.top;const{titleX:d,titleY:h,maxWidth:m,rotation:f}=Yu(this,c,t,l);Nt(e,n.text,0,0,s,{color:n.color,maxWidth:m,rotation:f,textAlign:Uu(l,t,i),textBaseline:"middle",translation:[d,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=W(e.grid&&e.grid.z,-1),i=W(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==St.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:n,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let s,o;for(s=0,o=t.length;s<o;++s){const l=t[s];l[n]===this.id&&(!e||l.type===e)&&i.push(l)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return le(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Dr{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;Xu(t)&&(n=this.register(t));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,qu(e,o,n),this.override&&ie.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,i=this.scope;n in t&&delete t[n],i&&n in ie[i]&&(delete ie[i][n],this.override&&delete wt[n])}}function qu(r,e,t){const n=lr(Object.create(null),[t?ie.get(t):{},ie.get(e),r.defaults]);ie.set(e,n),r.defaultRoutes&&Gu(e,r.defaultRoutes),r.descriptors&&ie.describe(e,r.descriptors)}function Gu(r,e){Object.keys(e).forEach(t=>{const n=t.split("."),i=n.pop(),s=[r].concat(n).join("."),o=e[t].split("."),l=o.pop(),c=o.join(".");ie.route(s,i,c,l)})}function Xu(r){return"id"in r&&"defaults"in r}class Ku{constructor(){this.controllers=new Dr(ar,"datasets",!0),this.elements=new Dr(Fe,"elements"),this.plugins=new Dr(Object,"plugins"),this.scales=new Dr(St,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach(i=>{const s=n||this._getRegistryForType(i);n||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):X(i,o=>{const l=n||this._getRegistryForType(o);this._exec(e,l,o)})})}_exec(e,t,n){const i=Zn(e);Q(n["before"+i],[],n),t[e](n),Q(n["after"+i],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var Ee=new Ku;class Zu{constructor(){this._init=[]}notify(e,t,n,i){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,t,n);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,n,i){i=i||{};for(const s of e){const o=s.plugin,l=o[n],c=[t,i,s.options];if(Q(l,c,o)===!1&&i.cancelable)return!1}return!0}invalidate(){q(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,i=W(n.options&&n.options.plugins,{}),s=Ju(n);return i===!1&&!t?[]:em(e,s,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,i=(s,o)=>s.filter(l=>!o.some(c=>l.plugin.id===c.plugin.id));this._notify(i(t,n),e,"stop"),this._notify(i(n,t),e,"start")}}function Ju(r){const e={},t=[],n=Object.keys(Ee.plugins.items);for(let s=0;s<n.length;s++)t.push(Ee.getPlugin(n[s]));const i=r.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function Qu(r,e){return!e&&r===!1?null:r===!0?{}:r}function em(r,{plugins:e,localIds:t},n,i){const s=[],o=r.getContext();for(const l of e){const c=l.id,d=Qu(n[c],i);d!==null&&s.push({plugin:l,options:tm(r.config,{plugin:l,local:t[c]},d,o)})}return s}function tm(r,{plugin:e,local:t},n,i){const s=r.pluginScopeKeys(e),o=r.getOptionScopes(n,s);return t&&e.defaults&&o.push(e.defaults),r.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function On(r,e){const t=ie.datasets[r]||{};return((e.datasets||{})[r]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function rm(r,e){let t=r;return r==="_index_"?t=e:r==="_value_"&&(t=e==="x"?"y":"x"),t}function nm(r,e){return r===e?"_index_":"_value_"}function gs(r){if(r==="x"||r==="y"||r==="r")return r}function im(r){if(r==="top"||r==="bottom")return"x";if(r==="left"||r==="right")return"y"}function zn(r,...e){if(gs(r))return r;for(const t of e){const n=t.axis||im(t.position)||r.length>1&&gs(r[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${r}' axis. Please provide 'axis' or 'position' option.`)}function ps(r,e,t){if(t[e+"AxisID"]===r)return{axis:e}}function sm(r,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(n=>n.xAxisID===r||n.yAxisID===r);if(t.length)return ps(r,"x",t[0])||ps(r,"y",t[0])}return{}}function am(r,e){const t=wt[r.type]||{scales:{}},n=e.scales||{},i=On(r.type,e),s=Object.create(null);return Object.keys(n).forEach(o=>{const l=n[o];if(!U(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=zn(o,l,sm(o,r),ie.scales[l.type]),d=nm(c,i),h=t.scales||{};s[o]=rr(Object.create(null),[{axis:c},l,h[c],h[d]])}),r.data.datasets.forEach(o=>{const l=o.type||r.type,c=o.indexAxis||On(l,e),h=(wt[l]||{}).scales||{};Object.keys(h).forEach(m=>{const f=rm(m,c),g=o[f+"AxisID"]||f;s[g]=s[g]||Object.create(null),rr(s[g],[{axis:f},n[g],h[m]])})}),Object.keys(s).forEach(o=>{const l=s[o];rr(l,[ie.scales[l.type],ie.scale])}),s}function Ja(r){const e=r.options||(r.options={});e.plugins=W(e.plugins,{}),e.scales=am(r,e)}function Qa(r){return r=r||{},r.datasets=r.datasets||[],r.labels=r.labels||[],r}function om(r){return r=r||{},r.data=Qa(r.data),Ja(r),r}const bs=new Map,eo=new Set;function Ar(r,e){let t=bs.get(r);return t||(t=e(),bs.set(r,t),eo.add(t)),t}const Vt=(r,e,t)=>{const n=Et(e,t);n!==void 0&&r.add(n)};class lm{constructor(e){this._config=om(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Qa(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Ja(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Ar(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Ar(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Ar(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,n=this.type;return Ar(`${n}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let i=n.get(e);return(!i||t)&&(i=new Map,n.set(e,i)),i}getOptionScopes(e,t,n){const{options:i,type:s}=this,o=this._cachedScopes(e,n),l=o.get(t);if(l)return l;const c=new Set;t.forEach(h=>{e&&(c.add(e),h.forEach(m=>Vt(c,e,m))),h.forEach(m=>Vt(c,i,m)),h.forEach(m=>Vt(c,wt[s]||{},m)),h.forEach(m=>Vt(c,ie,m)),h.forEach(m=>Vt(c,En,m))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),eo.has(t)&&o.set(t,d),d}chartOptionScopes(){const{options:e,type:t}=this;return[e,wt[t]||{},ie.datasets[t]||{},{type:t},ie,En]}resolveNamedOptions(e,t,n,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:l}=xs(this._resolverCache,e,i);let c=o;if(dm(o,t)){s.$shared=!1,n=at(n)?n():n;const d=this.createResolver(e,n,l);c=It(o,n,d)}for(const d of t)s[d]=c[d];return s}createResolver(e,t,n=[""],i){const{resolver:s}=xs(this._resolverCache,e,n);return U(t)?It(s,t,void 0,i):s}}function xs(r,e,t){let n=r.get(e);n||(n=new Map,r.set(e,n));const i=t.join();let s=n.get(i);return s||(s={resolver:si(e,t),subPrefixes:t.filter(l=>!l.toLowerCase().includes("hover"))},n.set(i,s)),s}const cm=r=>U(r)&&Object.getOwnPropertyNames(r).some(e=>at(r[e]));function dm(r,e){const{isScriptable:t,isIndexable:n}=za(r);for(const i of e){const s=t(i),o=n(i),l=(o||s)&&r[i];if(s&&(at(l)||cm(l))||o&&ne(l))return!0}return!1}var hm="4.5.0";const um=["top","bottom","left","right","chartArea"];function ys(r,e){return r==="top"||r==="bottom"||um.indexOf(r)===-1&&e==="x"}function vs(r,e){return function(t,n){return t[r]===n[r]?t[e]-n[e]:t[r]-n[r]}}function ws(r){const e=r.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Q(t&&t.onComplete,[r],e)}function mm(r){const e=r.chart,t=e.options.animation;Q(t&&t.onProgress,[r],e)}function to(r){return li()&&typeof r=="string"?r=document.getElementById(r):r&&r.length&&(r=r[0]),r&&r.canvas&&(r=r.canvas),r}const jr={},Ns=r=>{const e=to(r);return Object.values(jr).filter(t=>t.canvas===e).pop()};function fm(r,e,t){const n=Object.keys(r);for(const i of n){const s=+i;if(s>=e){const o=r[i];delete r[i],(t>0||s>e)&&(r[s+t]=o)}}}function gm(r,e,t,n){return!t||r.type==="mouseout"?null:n?e:r}var Je;let ln=(Je=class{static register(...e){Ee.add(...e),ks()}static unregister(...e){Ee.remove(...e),ks()}constructor(e,t){const n=this.config=new lm(t),i=to(e),s=Ns(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||Eu(i)),this.platform.updateConfig(n);const l=this.platform.acquireContext(i,o.aspectRatio),c=l&&l.canvas,d=c&&c.height,h=c&&c.width;if(this.id=fd(),this.ctx=l,this.canvas=c,this.width=h,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Zu,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Ad(m=>this.update(m),o.resizeDelay||0),this._dataChanges=[],jr[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}He.listen(this,"complete",ws),He.listen(this,"progress",mm),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:i,_aspectRatio:s}=this;return q(e)?t&&s?s:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ee}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ui(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Hi(this.canvas,this.ctx),this}stop(){return He.stop(this),this}resize(e,t){He.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,i=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,t,s),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Ui(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),Q(n.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};X(t,(n,i)=>{n.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,i=Object.keys(n).reduce((o,l)=>(o[l]=!1,o),{});let s=[];t&&(s=s.concat(Object.keys(t).map(o=>{const l=t[o],c=zn(o,l),d=c==="r",h=c==="x";return{options:l,dposition:d?"chartArea":h?"bottom":"left",dtype:d?"radialLinear":h?"category":"linear"}}))),X(s,o=>{const l=o.options,c=l.id,d=zn(c,l),h=W(l.type,o.dtype);(l.position===void 0||ys(l.position,d)!==ys(o.dposition))&&(l.position=o.dposition),i[c]=!0;let m=null;if(c in n&&n[c].type===h)m=n[c];else{const f=Ee.getScale(h);m=new f({id:c,type:h,ctx:this.ctx,chart:this}),n[m.id]=m}m.init(l,e)}),X(i,(o,l)=>{o||delete n[l]}),X(n,o=>{_e.configure(this,o,o.options),_e.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((i,s)=>i.index-s.index),n>t){for(let i=t;i<n;++i)this._destroyDatasetMeta(i);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(vs("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((n,i)=>{t.filter(s=>s===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=t.length;n<i;n++){const s=t[n];let o=this.getDatasetMeta(n);const l=s.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=l,o.indexAxis=s.indexAxis||On(l,this.options),o.order=s.order||0,o.index=n,o.label=""+s.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const c=Ee.getController(l),{datasetElementType:d,dataElementType:h}=ie.datasets[l];Object.assign(c,{dataElementType:Ee.getElement(h),datasetElementType:d&&Ee.getElement(d)}),o.controller=new c(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){X(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,h=this.data.datasets.length;d<h;d++){const{controller:m}=this.getDatasetMeta(d),f=!i&&s.indexOf(m)===-1;m.buildOrUpdateElements(f),o=Math.max(+m.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),i||X(s,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(vs("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){X(this.scales,e=>{_e.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!Ei(t,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:s}of t){const o=n==="_removeElements"?-s:s;fm(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=s=>new Set(e.filter(o=>o[0]===s).map((o,l)=>l+","+o.splice(1).join(","))),i=n(0);for(let s=1;s<t;s++)if(!Ei(i,n(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;_e.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],X(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,n=this.data.datasets.length;t<n;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,at(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(He.has(this)?this.attached&&!He.running(this)&&He.start(this):(this.draw(),ws({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let i,s;for(i=0,s=t.length;i<s;++i){const o=t[i];(!e||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n={meta:e,index:e.index,cancelable:!0},i=zh(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(i&&ni(t,i),e.controller.draw(),i&&ii(t),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return Xe(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,i){const s=uu.modes[t];return typeof s=="function"?s(this,e,n,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let i=n.filter(s=>s&&s._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=lt(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!t.hidden}setDatasetVisibility(e,t){const n=this.getDatasetMeta(e);n.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const i=n?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);cr(t)?(s.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(s,{visible:n}),this.update(l=>l.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),He.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Hi(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete jr[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(s,o)=>{t.addEventListener(this,s,o),e[s]=o},i=(s,o,l)=>{s.offsetX=o,s.offsetY=l,this._eventHandler(s)};X(this.options.events,s=>n(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(c,d)=>{t.addEventListener(this,c,d),e[c]=d},i=(c,d)=>{e[c]&&(t.removeEventListener(this,c,d),delete e[c])},s=(c,d)=>{this.canvas&&this.resize(c,d)};let o;const l=()=>{i("attach",l),this.attached=!0,this.resize(),n("resize",s),n("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),n("attach",l)},t.isAttached(this.canvas)?l():o()}unbindEvents(){X(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},X(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const i=n?"set":"remove";let s,o,l,c;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){o=e[l];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(({datasetIndex:s,index:o})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[o],index:o}});!Vr(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,n){const i=this.options.hover,s=(c,d)=>c.filter(h=>!d.some(m=>h.datasetIndex===m.datasetIndex&&h.index===m.index)),o=s(t,e),l=n?e:s(e,t);o.length&&this.updateHoverStyle(o,i.mode,!1),l.length&&i.mode&&this.updateHoverStyle(l,i.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const s=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(s||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:i=[],options:s}=this,o=t,l=this._getActiveElements(e,i,n,o),c=vd(e),d=gm(e,this._lastEvent,n,c);n&&(this._lastEvent=null,Q(s.onHover,[e,l,this],this),c&&Q(s.onClick,[e,l,this],this));const h=!Vr(l,i);return(h||t)&&(this._active=l,this._updateHoverStyles(l,i,t)),this._lastEvent=d,h}_getActiveElements(e,t,n,i){if(e.type==="mouseout")return[];if(!n)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},z(Je,"defaults",ie),z(Je,"instances",jr),z(Je,"overrides",wt),z(Je,"registry",Ee),z(Je,"version",hm),z(Je,"getChart",Ns),Je);function ks(){return X(ln.instances,r=>r._plugins.invalidate())}function ro(r,e,t=e){r.lineCap=W(t.borderCapStyle,e.borderCapStyle),r.setLineDash(W(t.borderDash,e.borderDash)),r.lineDashOffset=W(t.borderDashOffset,e.borderDashOffset),r.lineJoin=W(t.borderJoinStyle,e.borderJoinStyle),r.lineWidth=W(t.borderWidth,e.borderWidth),r.strokeStyle=W(t.borderColor,e.borderColor)}function pm(r,e,t){r.lineTo(t.x,t.y)}function bm(r){return r.stepped?Vd:r.tension||r.cubicInterpolationMode==="monotone"?Ud:pm}function no(r,e,t={}){const n=r.length,{start:i=0,end:s=n-1}=t,{start:o,end:l}=e,c=Math.max(i,o),d=Math.min(s,l),h=i<o&&s<o||i>l&&s>l;return{count:n,start:c,loop:e.loop,ilen:d<c&&!h?n+d-c:d-c}}function xm(r,e,t,n){const{points:i,options:s}=e,{count:o,start:l,loop:c,ilen:d}=no(i,t,n),h=bm(s);let{move:m=!0,reverse:f}=n||{},g,b,p;for(g=0;g<=d;++g)b=i[(l+(f?d-g:g))%o],!b.skip&&(m?(r.moveTo(b.x,b.y),m=!1):h(r,p,b,f,s.stepped),p=b);return c&&(b=i[(l+(f?d:0))%o],h(r,p,b,f,s.stepped)),!!c}function ym(r,e,t,n){const i=e.points,{count:s,start:o,ilen:l}=no(i,t,n),{move:c=!0,reverse:d}=n||{};let h=0,m=0,f,g,b,p,x,v;const w=k=>(o+(d?l-k:k))%s,N=()=>{p!==x&&(r.lineTo(h,x),r.lineTo(h,p),r.lineTo(h,v))};for(c&&(g=i[w(0)],r.moveTo(g.x,g.y)),f=0;f<=l;++f){if(g=i[w(f)],g.skip)continue;const k=g.x,S=g.y,A=k|0;A===b?(S<p?p=S:S>x&&(x=S),h=(m*h+k)/++m):(N(),r.lineTo(k,S),b=A,m=0,p=x=S),v=S}N()}function Fn(r){const e=r.options,t=e.borderDash&&e.borderDash.length;return!r._decimated&&!r._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?ym:xm}function vm(r){return r.stepped?kh:r.tension||r.cubicInterpolationMode==="monotone"?_h:gt}function wm(r,e,t,n){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,n)&&i.closePath()),ro(r,e.options),r.stroke(i)}function Nm(r,e,t,n){const{segments:i,options:s}=e,o=Fn(e);for(const l of i)ro(r,s,l.style),r.beginPath(),o(r,e,l,{start:t,end:t+n-1})&&r.closePath(),r.stroke()}const km=typeof Path2D=="function";function _m(r,e,t,n){km&&!e.options.segment?wm(r,e,t,n):Nm(r,e,t,n)}class Kt extends Fe{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;gh(this._points,n,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Ah(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,i=e[t],s=this.points,o=Th(this,{property:t,start:i,end:i});if(!o.length)return;const l=[],c=vm(n);let d,h;for(d=0,h=o.length;d<h;++d){const{start:m,end:f}=o[d],g=s[m],b=s[f];if(g===b){l.push(g);continue}const p=Math.abs((i-g[t])/(b[t]-g[t])),x=c(g,b,p,n.stepped);x[t]=e[t],l.push(x)}return l.length===1?l[0]:l}pathSegment(e,t,n){return Fn(this)(e,this,t,n)}path(e,t,n){const i=this.segments,s=Fn(this);let o=this._loop;t=t||0,n=n||this.points.length-t;for(const l of i)o&=s(e,this,l,{start:t,end:t+n-1});return!!o}draw(e,t,n,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),_m(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}z(Kt,"id","line"),z(Kt,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),z(Kt,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),z(Kt,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function _s(r,e,t,n){const i=r.options,{[t]:s}=r.getProps([t],n);return Math.abs(e-s)<i.radius+i.hitRadius}class Wr extends Fe{constructor(t){super();z(this,"parsed");z(this,"skip");z(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,i){const s=this.options,{x:o,y:l}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(n-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,n){return _s(this,t,"x",n)}inYRange(t,n){return _s(this,t,"y",n)}getCenterPoint(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const i=n&&t.borderWidth||0;return(n+i)*2}draw(t,n){const i=this.options;this.skip||i.radius<.1||!Xe(this,n,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,In(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}z(Wr,"id","point"),z(Wr,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),z(Wr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function io(r,e){const{x:t,y:n,base:i,width:s,height:o}=r.getProps(["x","y","base","width","height"],e);let l,c,d,h,m;return r.horizontal?(m=o/2,l=Math.min(t,i),c=Math.max(t,i),d=n-m,h=n+m):(m=s/2,l=t-m,c=t+m,d=Math.min(n,i),h=Math.max(n,i)),{left:l,top:d,right:c,bottom:h}}function it(r,e,t,n){return r?0:Le(e,t,n)}function Sm(r,e,t){const n=r.options.borderWidth,i=r.borderSkipped,s=Oa(n);return{t:it(i.top,s.top,0,t),r:it(i.right,s.right,0,e),b:it(i.bottom,s.bottom,0,t),l:it(i.left,s.left,0,e)}}function Cm(r,e,t){const{enableBorderRadius:n}=r.getProps(["enableBorderRadius"]),i=r.options.borderRadius,s=yt(i),o=Math.min(e,t),l=r.borderSkipped,c=n||U(i);return{topLeft:it(!c||l.top||l.left,s.topLeft,0,o),topRight:it(!c||l.top||l.right,s.topRight,0,o),bottomLeft:it(!c||l.bottom||l.left,s.bottomLeft,0,o),bottomRight:it(!c||l.bottom||l.right,s.bottomRight,0,o)}}function Mm(r){const e=io(r),t=e.right-e.left,n=e.bottom-e.top,i=Sm(r,t/2,n/2),s=Cm(r,t/2,n/2);return{outer:{x:e.left,y:e.top,w:t,h:n,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function Nn(r,e,t,n){const i=e===null,s=t===null,l=r&&!(i&&s)&&io(r,n);return l&&(i||xt(e,l.left,l.right))&&(s||xt(t,l.top,l.bottom))}function Pm(r){return r.topLeft||r.topRight||r.bottomLeft||r.bottomRight}function Tm(r,e){r.rect(e.x,e.y,e.w,e.h)}function kn(r,e,t={}){const n=r.x!==t.x?-e:0,i=r.y!==t.y?-e:0,s=(r.x+r.w!==t.x+t.w?e:0)-n,o=(r.y+r.h!==t.y+t.h?e:0)-i;return{x:r.x+n,y:r.y+i,w:r.w+s,h:r.h+o,radius:r.radius}}class Hr extends Fe{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:i}}=this,{inner:s,outer:o}=Mm(this),l=Pm(o.radius)?dr:Tm;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),l(e,kn(o,t,s)),e.clip(),l(e,kn(s,-t,o)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),l(e,kn(s,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,n){return Nn(this,e,t,n)}inXRange(e,t){return Nn(this,e,null,t)}inYRange(e,t){return Nn(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+i)/2:t,y:s?n:(n+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}z(Hr,"id","bar"),z(Hr,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),z(Hr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Ss=(r,e)=>{let{boxHeight:t=e,boxWidth:n=e}=r;return r.usePointStyle&&(t=Math.min(t,e),n=r.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:t,itemHeight:Math.max(e,t)}},Lm=(r,e)=>r!==null&&e!==null&&r.datasetIndex===e.datasetIndex&&r.index===e.index;class Cs extends Fe{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Q(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(n=>e.filter(n,this.chart.data))),e.sort&&(t=t.sort((n,i)=>e.sort(n,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,i=le(n.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=Ss(n,s);let d,h;t.font=i.string,this.isHorizontal()?(d=this.maxWidth,h=this._fitRows(o,s,l,c)+10):(h=this.maxHeight,d=this._fitCols(o,i,l,c)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,i){const{ctx:s,maxWidth:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],h=i+l;let m=e;s.textAlign="left",s.textBaseline="middle";let f=-1,g=-h;return this.legendItems.forEach((b,p)=>{const x=n+t/2+s.measureText(b.text).width;(p===0||d[d.length-1]+x+2*l>o)&&(m+=h,d[d.length-(p>0?0:1)]=0,g+=h,f++),c[p]={left:0,top:g,row:f,width:x,height:i},d[d.length-1]+=x+l}),m}_fitCols(e,t,n,i){const{ctx:s,maxHeight:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],h=o-e;let m=l,f=0,g=0,b=0,p=0;return this.legendItems.forEach((x,v)=>{const{itemWidth:w,itemHeight:N}=Dm(n,t,s,x,i);v>0&&g+N+2*l>h&&(m+=f+l,d.push({width:f,height:g}),b+=f+l,p++,f=g=0),c[v]={left:b,top:g,col:p,width:w,height:N},f=Math.max(f,w),g+=N+l}),m+=f,d.push({width:f,height:g}),m}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:i},rtl:s}}=this,o=At(s,this.left,this.width);if(this.isHorizontal()){let l=0,c=ue(n,this.left+i,this.right-this.lineWidths[l]);for(const d of t)l!==d.row&&(l=d.row,c=ue(n,this.left+i,this.right-this.lineWidths[l])),d.top+=this.top+e+i,d.left=o.leftForLtr(o.x(c),d.width),c+=d.width+i}else{let l=0,c=ue(n,this.top+e+i,this.bottom-this.columnSizes[l].height);for(const d of t)d.col!==l&&(l=d.col,c=ue(n,this.top+e+i,this.bottom-this.columnSizes[l].height)),d.top=c,d.left+=this.left+i,d.left=o.leftForLtr(o.x(d.left),d.width),c+=d.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;ni(e,this),this._draw(),ii(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:i}=this,{align:s,labels:o}=e,l=ie.color,c=At(e.rtl,this.left,this.width),d=le(o.font),{padding:h}=o,m=d.size,f=m/2;let g;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=d.string;const{boxWidth:b,boxHeight:p,itemHeight:x}=Ss(o,m),v=function(A,E,L){if(isNaN(b)||b<=0||isNaN(p)||p<0)return;i.save();const P=W(L.lineWidth,1);if(i.fillStyle=W(L.fillStyle,l),i.lineCap=W(L.lineCap,"butt"),i.lineDashOffset=W(L.lineDashOffset,0),i.lineJoin=W(L.lineJoin,"miter"),i.lineWidth=P,i.strokeStyle=W(L.strokeStyle,l),i.setLineDash(W(L.lineDash,[])),o.usePointStyle){const M={radius:p*Math.SQRT2/2,pointStyle:L.pointStyle,rotation:L.rotation,borderWidth:P},I=c.xPlus(A,b/2),D=E+f;Ea(i,M,I,D,o.pointStyleWidth&&b)}else{const M=E+Math.max((m-p)/2,0),I=c.leftForLtr(A,b),D=yt(L.borderRadius);i.beginPath(),Object.values(D).some(V=>V!==0)?dr(i,{x:I,y:M,w:b,h:p,radius:D}):i.rect(I,M,b,p),i.fill(),P!==0&&i.stroke()}i.restore()},w=function(A,E,L){Nt(i,L.text,A,E+x/2,d,{strikethrough:L.hidden,textAlign:c.textAlign(L.textAlign)})},N=this.isHorizontal(),k=this._computeTitleHeight();N?g={x:ue(s,this.left+h,this.right-n[0]),y:this.top+h+k,line:0}:g={x:this.left+h,y:ue(s,this.top+k+h,this.bottom-t[0].height),line:0},Wa(this.ctx,e.textDirection);const S=x+h;this.legendItems.forEach((A,E)=>{i.strokeStyle=A.fontColor,i.fillStyle=A.fontColor;const L=i.measureText(A.text).width,P=c.textAlign(A.textAlign||(A.textAlign=o.textAlign)),M=b+f+L;let I=g.x,D=g.y;c.setWidth(this.width),N?E>0&&I+M+h>this.right&&(D=g.y+=S,g.line++,I=g.x=ue(s,this.left+h,this.right-n[g.line])):E>0&&D+S>this.bottom&&(I=g.x=I+t[g.line].width+h,g.line++,D=g.y=ue(s,this.top+k+h,this.bottom-t[g.line].height));const V=c.x(I);if(v(V,D,A),I=Ed(P,I+b+f,N?I+M:this.right,e.rtl),w(c.x(I),D,A),N)g.x+=M+h;else if(typeof A.text!="string"){const j=d.lineHeight;g.y+=so(A,j)+h}else g.y+=S}),Ha(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=le(t.font),i=me(t.padding);if(!t.display)return;const s=At(e.rtl,this.left,this.width),o=this.ctx,l=t.position,c=n.size/2,d=i.top+c;let h,m=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),h=this.top+d,m=ue(e.align,m,this.right-f);else{const b=this.columnSizes.reduce((p,x)=>Math.max(p,x.height),0);h=d+ue(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}const g=ue(l,m,m+f);o.textAlign=s.textAlign(ei(l)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=n.string,Nt(o,t.text,g,h,n)}_computeTitleHeight(){const e=this.options.title,t=le(e.font),n=me(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,i,s;if(xt(e,this.left,this.right)&&xt(t,this.top,this.bottom)){for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(i=s[n],xt(e,i.left,i.left+i.width)&&xt(t,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(e){const t=this.options;if(!Im(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=Lm(i,n);i&&!s&&Q(t.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!s&&Q(t.onHover,[e,n,this],this)}else n&&Q(t.onClick,[e,n,this],this)}}function Dm(r,e,t,n,i){const s=Am(n,r,e,t),o=Em(i,n,e.lineHeight);return{itemWidth:s,itemHeight:o}}function Am(r,e,t,n){let i=r.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+t.size/2+n.measureText(i).width}function Em(r,e,t){let n=r;return typeof e.text!="string"&&(n=so(e,t)),n}function so(r,e){const t=r.text?r.text.length:0;return e*t}function Im(r,e){return!!((r==="mousemove"||r==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(r==="click"||r==="mouseup"))}var Om={id:"legend",_element:Cs,start(r,e,t){const n=r.legend=new Cs({ctx:r.ctx,options:t,chart:r});_e.configure(r,n,t),_e.addBox(r,n)},stop(r){_e.removeBox(r,r.legend),delete r.legend},beforeUpdate(r,e,t){const n=r.legend;_e.configure(r,n,t),n.options=t},afterUpdate(r){const e=r.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(r,e){e.replay||r.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(r,e,t){const n=e.datasetIndex,i=t.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:r=>r.chart.options.color,boxWidth:40,padding:10,generateLabels(r){const e=r.data.datasets,{labels:{usePointStyle:t,pointStyle:n,textAlign:i,color:s,useBorderRadius:o,borderRadius:l}}=r.legend.options;return r._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(t?0:void 0),h=me(d.borderWidth);return{text:e[c.index].label,fillStyle:d.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:d.borderColor,pointStyle:n||d.pointStyle,rotation:d.rotation,textAlign:i||d.textAlign,borderRadius:o&&(l||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:r=>r.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:r=>!r.startsWith("on"),labels:{_scriptable:r=>!["generateLabels","filter","sort"].includes(r)}}};class ao extends Fe{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const i=ne(n.text)?n.text.length:1;this._padding=me(n.padding);const s=i*le(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:n,bottom:i,right:s,options:o}=this,l=o.align;let c=0,d,h,m;return this.isHorizontal()?(h=ue(l,n,s),m=t+e,d=s-n):(o.position==="left"?(h=n+e,m=ue(l,i,t),c=se*-.5):(h=s-e,m=ue(l,t,i),c=se*.5),d=i-t),{titleX:h,titleY:m,maxWidth:d,rotation:c}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=le(t.font),s=n.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:c,rotation:d}=this._drawArgs(s);Nt(e,t.text,0,0,n,{color:t.color,maxWidth:c,rotation:d,textAlign:ei(t.align),textBaseline:"middle",translation:[o,l]})}}function zm(r,e){const t=new ao({ctx:r.ctx,options:e,chart:r});_e.configure(r,t,e),_e.addBox(r,t),r.titleBlock=t}var Fm={id:"title",_element:ao,start(r,e,t){zm(r,t)},stop(r){const e=r.titleBlock;_e.removeBox(r,e),delete r.titleBlock},beforeUpdate(r,e,t){const n=r.titleBlock;_e.configure(r,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Zt={average(r){if(!r.length)return!1;let e,t,n=new Set,i=0,s=0;for(e=0,t=r.length;e<t;++e){const l=r[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();n.add(c.x),i+=c.y,++s}}return s===0||n.size===0?!1:{x:[...n].reduce((l,c)=>l+c)/n.size,y:i/s}},nearest(r,e){if(!r.length)return!1;let t=e.x,n=e.y,i=Number.POSITIVE_INFINITY,s,o,l;for(s=0,o=r.length;s<o;++s){const c=r[s].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),h=Dn(e,d);h<i&&(i=h,l=c)}}if(l){const c=l.tooltipPosition();t=c.x,n=c.y}return{x:t,y:n}}};function Ae(r,e){return e&&(ne(e)?Array.prototype.push.apply(r,e):r.push(e)),r}function $e(r){return(typeof r=="string"||r instanceof String)&&r.indexOf(`
`)>-1?r.split(`
`):r}function Rm(r,e){const{element:t,datasetIndex:n,index:i}=e,s=r.getDatasetMeta(n).controller,{label:o,value:l}=s.getLabelAndValue(i);return{chart:r,label:o,parsed:s.getParsed(i),raw:r.data.datasets[n].data[i],formattedValue:l,dataset:s.getDataset(),dataIndex:i,datasetIndex:n,element:t}}function Ms(r,e){const t=r.chart.ctx,{body:n,footer:i,title:s}=r,{boxWidth:o,boxHeight:l}=e,c=le(e.bodyFont),d=le(e.titleFont),h=le(e.footerFont),m=s.length,f=i.length,g=n.length,b=me(e.padding);let p=b.height,x=0,v=n.reduce((k,S)=>k+S.before.length+S.lines.length+S.after.length,0);if(v+=r.beforeBody.length+r.afterBody.length,m&&(p+=m*d.lineHeight+(m-1)*e.titleSpacing+e.titleMarginBottom),v){const k=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;p+=g*k+(v-g)*c.lineHeight+(v-1)*e.bodySpacing}f&&(p+=e.footerMarginTop+f*h.lineHeight+(f-1)*e.footerSpacing);let w=0;const N=function(k){x=Math.max(x,t.measureText(k).width+w)};return t.save(),t.font=d.string,X(r.title,N),t.font=c.string,X(r.beforeBody.concat(r.afterBody),N),w=e.displayColors?o+2+e.boxPadding:0,X(n,k=>{X(k.before,N),X(k.lines,N),X(k.after,N)}),w=0,t.font=h.string,X(r.footer,N),t.restore(),x+=b.width,{width:x,height:p}}function Bm(r,e){const{y:t,height:n}=e;return t<n/2?"top":t>r.height-n/2?"bottom":"center"}function jm(r,e,t,n){const{x:i,width:s}=n,o=t.caretSize+t.caretPadding;if(r==="left"&&i+s+o>e.width||r==="right"&&i-s-o<0)return!0}function Wm(r,e,t,n){const{x:i,width:s}=t,{width:o,chartArea:{left:l,right:c}}=r;let d="center";return n==="center"?d=i<=(l+c)/2?"left":"right":i<=s/2?d="left":i>=o-s/2&&(d="right"),jm(d,r,e,t)&&(d="center"),d}function Ps(r,e,t){const n=t.yAlign||e.yAlign||Bm(r,t);return{xAlign:t.xAlign||e.xAlign||Wm(r,e,t,n),yAlign:n}}function Hm(r,e){let{x:t,width:n}=r;return e==="right"?t-=n:e==="center"&&(t-=n/2),t}function $m(r,e,t){let{y:n,height:i}=r;return e==="top"?n+=t:e==="bottom"?n-=i+t:n-=i/2,n}function Ts(r,e,t,n){const{caretSize:i,caretPadding:s,cornerRadius:o}=r,{xAlign:l,yAlign:c}=t,d=i+s,{topLeft:h,topRight:m,bottomLeft:f,bottomRight:g}=yt(o);let b=Hm(e,l);const p=$m(e,c,d);return c==="center"?l==="left"?b+=d:l==="right"&&(b-=d):l==="left"?b-=Math.max(h,f)+i:l==="right"&&(b+=Math.max(m,g)+i),{x:Le(b,0,n.width-e.width),y:Le(p,0,n.height-e.height)}}function Er(r,e,t){const n=me(t.padding);return e==="center"?r.x+r.width/2:e==="right"?r.x+r.width-n.right:r.x+n.left}function Ls(r){return Ae([],$e(r))}function Vm(r,e,t){return lt(r,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Ds(r,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?r.override(t):r}const oo={beforeTitle:We,title(r){if(r.length>0){const e=r[0],t=e.chart.data.labels,n=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return t[e.dataIndex]}return""},afterTitle:We,beforeBody:We,beforeLabel:We,label(r){if(this&&this.options&&this.options.mode==="dataset")return r.label+": "+r.formattedValue||r.formattedValue;let e=r.dataset.label||"";e&&(e+=": ");const t=r.formattedValue;return q(t)||(e+=t),e},labelColor(r){const t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(r){const t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:We,afterBody:We,beforeFooter:We,footer:We,afterFooter:We};function be(r,e,t,n){const i=r[e].call(t,n);return typeof i>"u"?oo[e].call(t,n):i}class Rn extends Fe{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&t.options.animation&&n.animations,s=new Va(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Vm(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:n}=t,i=be(n,"beforeTitle",this,e),s=be(n,"title",this,e),o=be(n,"afterTitle",this,e);let l=[];return l=Ae(l,$e(i)),l=Ae(l,$e(s)),l=Ae(l,$e(o)),l}getBeforeBody(e,t){return Ls(be(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,i=[];return X(e,s=>{const o={before:[],lines:[],after:[]},l=Ds(n,s);Ae(o.before,$e(be(l,"beforeLabel",this,s))),Ae(o.lines,be(l,"label",this,s)),Ae(o.after,$e(be(l,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,t){return Ls(be(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,i=be(n,"beforeFooter",this,e),s=be(n,"footer",this,e),o=be(n,"afterFooter",this,e);let l=[];return l=Ae(l,$e(i)),l=Ae(l,$e(s)),l=Ae(l,$e(o)),l}_createItems(e){const t=this._active,n=this.chart.data,i=[],s=[],o=[];let l=[],c,d;for(c=0,d=t.length;c<d;++c)l.push(Rm(this.chart,t[c]));return e.filter&&(l=l.filter((h,m,f)=>e.filter(h,m,f,n))),e.itemSort&&(l=l.sort((h,m)=>e.itemSort(h,m,n))),X(l,h=>{const m=Ds(e.callbacks,h);i.push(be(m,"labelColor",this,h)),s.push(be(m,"labelPointStyle",this,h)),o.push(be(m,"labelTextColor",this,h))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const l=Zt[n.position].call(this,i,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const c=this._size=Ms(this,n),d=Object.assign({},l,c),h=Ps(this.chart,n,d),m=Ts(n,d,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,s={opacity:1,x:m.x,y:m.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,i){const s=this.getCaretPosition(e,n,i);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,n){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:l}=n,{topLeft:c,topRight:d,bottomLeft:h,bottomRight:m}=yt(l),{x:f,y:g}=e,{width:b,height:p}=t;let x,v,w,N,k,S;return s==="center"?(k=g+p/2,i==="left"?(x=f,v=x-o,N=k+o,S=k-o):(x=f+b,v=x+o,N=k-o,S=k+o),w=x):(i==="left"?v=f+Math.max(c,h)+o:i==="right"?v=f+b-Math.max(d,m)-o:v=this.caretX,s==="top"?(N=g,k=N-o,x=v-o,w=v+o):(N=g+p,k=N+o,x=v+o,w=v-o),S=N),{x1:x,x2:v,x3:w,y1:N,y2:k,y3:S}}drawTitle(e,t,n){const i=this.title,s=i.length;let o,l,c;if(s){const d=At(n.rtl,this.x,this.width);for(e.x=Er(this,n.titleAlign,n),t.textAlign=d.textAlign(n.titleAlign),t.textBaseline="middle",o=le(n.titleFont),l=n.titleSpacing,t.fillStyle=n.titleColor,t.font=o.string,c=0;c<s;++c)t.fillText(i[c],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+l,c+1===s&&(e.y+=n.titleMarginBottom-l)}}_drawColorBox(e,t,n,i,s){const o=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:c,boxWidth:d}=s,h=le(s.bodyFont),m=Er(this,"left",s),f=i.x(m),g=c<h.lineHeight?(h.lineHeight-c)/2:0,b=t.y+g;if(s.usePointStyle){const p={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},x=i.leftForLtr(f,d)+d/2,v=b+c/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,In(e,p,x,v),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,In(e,p,x,v)}else{e.lineWidth=U(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const p=i.leftForLtr(f,d),x=i.leftForLtr(i.xPlus(f,1),d-2),v=yt(o.borderRadius);Object.values(v).some(w=>w!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,dr(e,{x:p,y:b,w:d,h:c,radius:v}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),dr(e,{x,y:b+1,w:d-2,h:c-2,radius:v}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(p,b,d,c),e.strokeRect(p,b,d,c),e.fillStyle=o.backgroundColor,e.fillRect(x,b+1,d-2,c-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:h}=n,m=le(n.bodyFont);let f=m.lineHeight,g=0;const b=At(n.rtl,this.x,this.width),p=function(L){t.fillText(L,b.x(e.x+g),e.y+f/2),e.y+=f+s},x=b.textAlign(o);let v,w,N,k,S,A,E;for(t.textAlign=o,t.textBaseline="middle",t.font=m.string,e.x=Er(this,x,n),t.fillStyle=n.bodyColor,X(this.beforeBody,p),g=l&&x!=="right"?o==="center"?d/2+h:d+2+h:0,k=0,A=i.length;k<A;++k){for(v=i[k],w=this.labelTextColors[k],t.fillStyle=w,X(v.before,p),N=v.lines,l&&N.length&&(this._drawColorBox(t,e,k,b,n),f=Math.max(m.lineHeight,c)),S=0,E=N.length;S<E;++S)p(N[S]),f=m.lineHeight;X(v.after,p)}g=0,f=m.lineHeight,X(this.afterBody,p),e.y-=s}drawFooter(e,t,n){const i=this.footer,s=i.length;let o,l;if(s){const c=At(n.rtl,this.x,this.width);for(e.x=Er(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=c.textAlign(n.footerAlign),t.textBaseline="middle",o=le(n.footerFont),t.fillStyle=n.footerColor,t.font=o.string,l=0;l<s;++l)t.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,t,n,i){const{xAlign:s,yAlign:o}=this,{x:l,y:c}=e,{width:d,height:h}=n,{topLeft:m,topRight:f,bottomLeft:g,bottomRight:b}=yt(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(l+m,c),o==="top"&&this.drawCaret(e,t,n,i),t.lineTo(l+d-f,c),t.quadraticCurveTo(l+d,c,l+d,c+f),o==="center"&&s==="right"&&this.drawCaret(e,t,n,i),t.lineTo(l+d,c+h-b),t.quadraticCurveTo(l+d,c+h,l+d-b,c+h),o==="bottom"&&this.drawCaret(e,t,n,i),t.lineTo(l+g,c+h),t.quadraticCurveTo(l,c+h,l,c+h-g),o==="center"&&s==="left"&&this.drawCaret(e,t,n,i),t.lineTo(l,c+m),t.quadraticCurveTo(l,c,l+m,c),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,i=n&&n.x,s=n&&n.y;if(i||s){const o=Zt[e.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=Ms(this,e),c=Object.assign({},o,this._size),d=Ps(t,e,c),h=Ts(e,c,d,t);(i._to!==h.x||s._to!==h.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=me(t.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&l&&(e.save(),e.globalAlpha=n,this.drawBackground(s,e,i,t),Wa(e,t.textDirection),s.y+=o.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),Ha(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,i=e.map(({datasetIndex:l,index:c})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),s=!Vr(n,i),o=this._positionChanged(i,t);(s||o)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,n=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,t,n),l=this._positionChanged(o,e),c=t||!Vr(o,s)||l;return c&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),c}_getActiveElements(e,t,n,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,n);return s.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:n,caretY:i,options:s}=this,o=Zt[s.position].call(this,e,t);return o!==!1&&(n!==o.x||i!==o.y)}}z(Rn,"positioners",Zt);var Um={id:"tooltip",_element:Rn,positioners:Zt,afterInit(r,e,t){t&&(r.tooltip=new Rn({chart:r,options:t}))},beforeUpdate(r,e,t){r.tooltip&&r.tooltip.initialize(t)},reset(r,e,t){r.tooltip&&r.tooltip.initialize(t)},afterDraw(r){const e=r.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(r.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(r.ctx),r.notifyPlugins("afterTooltipDraw",t)}},afterEvent(r,e){if(r.tooltip){const t=e.replay;r.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(r,e)=>e.bodyFont.size,boxWidth:(r,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:oo},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:r=>r!=="filter"&&r!=="itemSort"&&r!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Ym=(r,e,t,n)=>(typeof e=="string"?(t=r.push(e)-1,n.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function qm(r,e,t,n){const i=r.indexOf(e);if(i===-1)return Ym(r,e,t,n);const s=r.lastIndexOf(e);return i!==s?t:i}const Gm=(r,e)=>r===null?null:Le(Math.round(r),0,e);function As(r){const e=this.getLabels();return r>=0&&r<e.length?e[r]:r}class Bn extends St{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const n=this.getLabels();for(const{index:i,label:s}of t)n[i]===s&&n.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(q(e))return null;const n=this.getLabels();return t=isFinite(t)&&n[t]===e?t:qm(n,e,W(t,e),this._addedLabels),Gm(t,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),t||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,i=[];let s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=t;o++)i.push({value:o});return i}getLabelForValue(e){return As.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}z(Bn,"id","category"),z(Bn,"defaults",{ticks:{callback:As}});function Xm(r,e){const t=[],{bounds:i,step:s,min:o,max:l,precision:c,count:d,maxTicks:h,maxDigits:m,includeBounds:f}=r,g=s||1,b=h-1,{min:p,max:x}=e,v=!q(o),w=!q(l),N=!q(d),k=(x-p)/(m+1);let S=Oi((x-p)/b/g)*g,A,E,L,P;if(S<1e-14&&!v&&!w)return[{value:p},{value:x}];P=Math.ceil(x/S)-Math.floor(p/S),P>b&&(S=Oi(P*S/b/g)*g),q(c)||(A=Math.pow(10,c),S=Math.ceil(S*A)/A),i==="ticks"?(E=Math.floor(p/S)*S,L=Math.ceil(x/S)*S):(E=p,L=x),v&&w&&s&&Sd((l-o)/s,S/1e3)?(P=Math.round(Math.min((l-o)/S,h)),S=(l-o)/P,E=o,L=l):N?(E=v?o:E,L=w?l:L,P=d-1,S=(L-E)/P):(P=(L-E)/S,nr(P,Math.round(P),S/1e3)?P=Math.round(P):P=Math.ceil(P));const M=Math.max(zi(S),zi(E));A=Math.pow(10,q(c)?M:c),E=Math.round(E*A)/A,L=Math.round(L*A)/A;let I=0;for(v&&(f&&E!==o?(t.push({value:o}),E<o&&I++,nr(Math.round((E+I*S)*A)/A,o,Es(o,k,r))&&I++):E<o&&I++);I<P;++I){const D=Math.round((E+I*S)*A)/A;if(w&&D>l)break;t.push({value:D})}return w&&f&&L!==l?t.length&&nr(t[t.length-1].value,l,Es(l,k,r))?t[t.length-1].value=l:t.push({value:l}):(!w||L===l)&&t.push({value:L}),t}function Es(r,e,{horizontal:t,minRotation:n}){const i=nt(n),s=(t?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+r).length;return Math.min(e/s,o)}class Zr extends St{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return q(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this;const o=c=>i=t?i:c,l=c=>s=n?s:c;if(e){const c=ze(i),d=ze(s);c<0&&d<0?l(0):c>0&&d>0&&o(0)}if(i===s){let c=s===0?1:Math.abs(s*.05);l(s+c),e||o(i-c)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:n}=e,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,o=Xm(i,s);return e.bounds==="ticks"&&Ca(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-t)/Math.max(e.length-1,1)/2;t-=i,n+=i}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return ri(e,this.chart.options.locale,this.options.ticks.format)}}class jn extends Zr{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ce(e)?e:0,this.max=ce(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=nt(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}z(jn,"id","linear"),z(jn,"defaults",{ticks:{callback:an.formatters.numeric}});const ur=r=>Math.floor(rt(r)),mt=(r,e)=>Math.pow(10,ur(r)+e);function Is(r){return r/Math.pow(10,ur(r))===1}function Os(r,e,t){const n=Math.pow(10,t),i=Math.floor(r/n);return Math.ceil(e/n)-i}function Km(r,e){const t=e-r;let n=ur(t);for(;Os(r,e,n)>10;)n++;for(;Os(r,e,n)<10;)n--;return Math.min(n,ur(r))}function Zm(r,{min:e,max:t}){e=we(r.min,e);const n=[],i=ur(e);let s=Km(e,t),o=s<0?Math.pow(10,Math.abs(s)):1;const l=Math.pow(10,s),c=i>s?Math.pow(10,i):0,d=Math.round((e-c)*o)/o,h=Math.floor((e-c)/l/10)*l*10;let m=Math.floor((d-h)/Math.pow(10,s)),f=we(r.min,Math.round((c+h+m*Math.pow(10,s))*o)/o);for(;f<t;)n.push({value:f,major:Is(f),significand:m}),m>=10?m=m<15?15:20:m++,m>=20&&(s++,m=2,o=s>=0?1:o),f=Math.round((c+h+m*Math.pow(10,s))*o)/o;const g=we(r.max,f);return n.push({value:g,major:Is(g),significand:m}),n}class zs extends St{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=Zr.prototype.parse.apply(this,[e,t]);if(n===0){this._zero=!0;return}return ce(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ce(e)?Math.max(0,e):null,this.max=ce(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ce(this._userMin)&&(this.min=e===mt(this.min,0)?mt(this.min,-1):mt(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,i=this.max;const s=l=>n=e?n:l,o=l=>i=t?i:l;n===i&&(n<=0?(s(1),o(10)):(s(mt(n,-1)),o(mt(i,1)))),n<=0&&s(mt(i,-1)),i<=0&&o(mt(n,1)),this.min=n,this.max=i}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},n=Zm(t,this);return e.bounds==="ticks"&&Ca(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":ri(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=rt(e),this._valueRange=rt(this.max)-rt(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(rt(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}z(zs,"id","logarithmic"),z(zs,"defaults",{ticks:{callback:an.formatters.logarithmic,major:{enabled:!0}}});function Wn(r){const e=r.ticks;if(e.display&&r.display){const t=me(e.backdropPadding);return W(e.font&&e.font.size,ie.font.size)+t.height}return 0}function Jm(r,e,t){return t=ne(t)?t:[t],{w:$d(r,e.string,t),h:t.length*e.lineHeight}}function Fs(r,e,t,n,i){return r===n||r===i?{start:e-t/2,end:e+t/2}:r<n||r>i?{start:e-t,end:e}:{start:e,end:e+t}}function Qm(r){const e={l:r.left+r._padding.left,r:r.right-r._padding.right,t:r.top+r._padding.top,b:r.bottom-r._padding.bottom},t=Object.assign({},e),n=[],i=[],s=r._pointLabels.length,o=r.options.pointLabels,l=o.centerPointLabels?se/s:0;for(let c=0;c<s;c++){const d=o.setContext(r.getPointLabelContext(c));i[c]=d.padding;const h=r.getPointPosition(c,r.drawingArea+i[c],l),m=le(d.font),f=Jm(r.ctx,m,r._pointLabels[c]);n[c]=f;const g=Te(r.getIndexAngle(c)+l),b=Math.round(Jn(g)),p=Fs(b,h.x,f.w,0,180),x=Fs(b,h.y,f.h,90,270);ef(t,e,g,p,x)}r.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),r._pointLabelItems=nf(r,n,i)}function ef(r,e,t,n,i){const s=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t));let l=0,c=0;n.start<e.l?(l=(e.l-n.start)/s,r.l=Math.min(r.l,e.l-l)):n.end>e.r&&(l=(n.end-e.r)/s,r.r=Math.max(r.r,e.r+l)),i.start<e.t?(c=(e.t-i.start)/o,r.t=Math.min(r.t,e.t-c)):i.end>e.b&&(c=(i.end-e.b)/o,r.b=Math.max(r.b,e.b+c))}function tf(r,e,t){const n=r.drawingArea,{extra:i,additionalAngle:s,padding:o,size:l}=t,c=r.getPointPosition(e,n+i+o,s),d=Math.round(Jn(Te(c.angle+Ne))),h=of(c.y,l.h,d),m=sf(d),f=af(c.x,l.w,m);return{visible:!0,x:c.x,y:h,textAlign:m,left:f,top:h,right:f+l.w,bottom:h+l.h}}function rf(r,e){if(!e)return!0;const{left:t,top:n,right:i,bottom:s}=r;return!(Xe({x:t,y:n},e)||Xe({x:t,y:s},e)||Xe({x:i,y:n},e)||Xe({x:i,y:s},e))}function nf(r,e,t){const n=[],i=r._pointLabels.length,s=r.options,{centerPointLabels:o,display:l}=s.pointLabels,c={extra:Wn(s)/2,additionalAngle:o?se/i:0};let d;for(let h=0;h<i;h++){c.padding=t[h],c.size=e[h];const m=tf(r,h,c);n.push(m),l==="auto"&&(m.visible=rf(m,d),m.visible&&(d=m))}return n}function sf(r){return r===0||r===180?"center":r<180?"left":"right"}function af(r,e,t){return t==="right"?r-=e:t==="center"&&(r-=e/2),r}function of(r,e,t){return t===90||t===270?r-=e/2:(t>270||t<90)&&(r-=e),r}function lf(r,e,t){const{left:n,top:i,right:s,bottom:o}=t,{backdropColor:l}=e;if(!q(l)){const c=yt(e.borderRadius),d=me(e.backdropPadding);r.fillStyle=l;const h=n-d.left,m=i-d.top,f=s-n+d.width,g=o-i+d.height;Object.values(c).some(b=>b!==0)?(r.beginPath(),dr(r,{x:h,y:m,w:f,h:g,radius:c}),r.fill()):r.fillRect(h,m,f,g)}}function cf(r,e){const{ctx:t,options:{pointLabels:n}}=r;for(let i=e-1;i>=0;i--){const s=r._pointLabelItems[i];if(!s.visible)continue;const o=n.setContext(r.getPointLabelContext(i));lf(t,o,s);const l=le(o.font),{x:c,y:d,textAlign:h}=s;Nt(t,r._pointLabels[i],c,d+l.lineHeight/2,l,{color:o.color,textAlign:h,textBaseline:"middle"})}}function lo(r,e,t,n){const{ctx:i}=r;if(t)i.arc(r.xCenter,r.yCenter,e,0,Se);else{let s=r.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let o=1;o<n;o++)s=r.getPointPosition(o,e),i.lineTo(s.x,s.y)}}function df(r,e,t,n,i){const s=r.ctx,o=e.circular,{color:l,lineWidth:c}=e;!o&&!n||!l||!c||t<0||(s.save(),s.strokeStyle=l,s.lineWidth=c,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),lo(r,t,o,n),s.closePath(),s.stroke(),s.restore())}function hf(r,e,t){return lt(r,{label:t,index:e,type:"pointLabel"})}class Ir extends Zr{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=me(Wn(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=ce(e)&&!isNaN(e)?e:0,this.max=ce(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Wn(this.options))}generateTickLabels(e){Zr.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,n)=>{const i=Q(this.options.pointLabels.callback,[t,n],this);return i||i===0?i:""}).filter((t,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?Qm(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,i))}getIndexAngle(e){const t=Se/(this._pointLabels.length||1),n=this.options.startAngle||0;return Te(e*t+nt(n))}getDistanceFromCenterForValue(e){if(q(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(q(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return hf(this.getContext(),e,n)}}getPointPosition(e,t,n=0){const i=this.getIndexAngle(e)-Ne+n;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:i,bottom:s}=this._pointLabelItems[e];return{left:t,top:n,right:i,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),lo(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:i,border:s}=t,o=this._pointLabels.length;let l,c,d;if(t.pointLabels.display&&cf(this,o),i.display&&this.ticks.forEach((h,m)=>{if(m!==0||m===0&&this.min<0){c=this.getDistanceFromCenterForValue(h.value);const f=this.getContext(m),g=i.setContext(f),b=s.setContext(f);df(this,g,c,o,b)}}),n.display){for(e.save(),l=o-1;l>=0;l--){const h=n.setContext(this.getPointLabelContext(l)),{color:m,lineWidth:f}=h;!f||!m||(e.lineWidth=f,e.strokeStyle=m,e.setLineDash(h.borderDash),e.lineDashOffset=h.borderDashOffset,c=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),d=this.getPointPosition(l,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(d.x,d.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((l,c)=>{if(c===0&&this.min>=0&&!t.reverse)return;const d=n.setContext(this.getContext(c)),h=le(d.font);if(s=this.getDistanceFromCenterForValue(this.ticks[c].value),d.showLabelBackdrop){e.font=h.string,o=e.measureText(l.label).width,e.fillStyle=d.backdropColor;const m=me(d.backdropPadding);e.fillRect(-o/2-m.left,-s-h.size/2-m.top,o+m.width,h.size+m.height)}Nt(e,l.label,0,-s,h,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),e.restore()}drawTitle(){}}z(Ir,"id","radialLinear"),z(Ir,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:an.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),z(Ir,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),z(Ir,"descriptors",{angleLines:{_fallback:"grid"}});const cn={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},xe=Object.keys(cn);function Rs(r,e){return r-e}function Bs(r,e){if(q(e))return null;const t=r._adapter,{parser:n,round:i,isoWeekday:s}=r._parseOpts;let o=e;return typeof n=="function"&&(o=n(o)),ce(o)||(o=typeof n=="string"?t.parse(o,n):t.parse(o)),o===null?null:(i&&(o=i==="week"&&(qr(s)||s===!0)?t.startOf(o,"isoWeek",s):t.startOf(o,i)),+o)}function js(r,e,t,n){const i=xe.length;for(let s=xe.indexOf(r);s<i-1;++s){const o=cn[xe[s]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(l*o.size))<=n)return xe[s]}return xe[i-1]}function uf(r,e,t,n,i){for(let s=xe.length-1;s>=xe.indexOf(t);s--){const o=xe[s];if(cn[o].common&&r._adapter.diff(i,n,o)>=e-1)return o}return xe[t?xe.indexOf(t):0]}function mf(r){for(let e=xe.indexOf(r)+1,t=xe.length;e<t;++e)if(cn[xe[e]].common)return xe[e]}function Ws(r,e,t){if(!t)r[e]=!0;else if(t.length){const{lo:n,hi:i}=Qn(t,e),s=t[n]>=e?t[n]:t[i];r[s]=!0}}function ff(r,e,t,n){const i=r._adapter,s=+i.startOf(e[0].value,n),o=e[e.length-1].value;let l,c;for(l=s;l<=o;l=+i.add(l,1,n))c=t[l],c>=0&&(e[c].major=!0);return e}function Hs(r,e,t){const n=[],i={},s=e.length;let o,l;for(o=0;o<s;++o)l=e[o],i[l]=o,n.push({value:l,major:!1});return s===0||!t?n:ff(r,n,i,t)}class Jr extends St{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const n=e.time||(e.time={}),i=this._adapter=new ou._date(e.adapters.date);i.init(t),rr(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Bs(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:l}=this.getUserBounds();function c(d){!o&&!isNaN(d.min)&&(i=Math.min(i,d.min)),!l&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!o||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),i=ce(i)&&!isNaN(i)?i:+t.startOf(Date.now(),n),s=ce(s)&&!isNaN(s)?s:+t.endOf(Date.now(),n)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,l=Ld(i,s,o);return this._unit=t.unit||(n.autoSkip?js(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):uf(this,l.length,t.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:mf(this._unit),this.initOffsets(i),e.reverse&&l.reverse(),Hs(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,n=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?n=s:n=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=Le(t,0,o),n=Le(n,0,o),this._offsets={start:t,end:n,factor:1/(t+1+n)}}_generate(){const e=this._adapter,t=this.min,n=this.max,i=this.options,s=i.time,o=s.unit||js(s.minUnit,t,n,this._getLabelCapacity(t)),l=W(i.ticks.stepSize,1),c=o==="week"?s.isoWeekday:!1,d=qr(c)||c===!0,h={};let m=t,f,g;if(d&&(m=+e.startOf(m,"isoWeek",c)),m=+e.startOf(m,d?"day":o),e.diff(n,t,o)>1e5*l)throw new Error(t+" and "+n+" are too far apart with stepSize of "+l+" "+o);const b=i.ticks.source==="data"&&this.getDataTimestamps();for(f=m,g=0;f<n;f=+e.add(f,l,o),g++)Ws(h,f,b);return(f===n||i.bounds==="ticks"||g===1)&&Ws(h,f,b),Object.keys(h).sort(Rs).map(p=>+p)}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,s=this._unit,o=t||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,t,n,i){const s=this.options,o=s.ticks.callback;if(o)return Q(o,[e,t,n],this);const l=s.time.displayFormats,c=this._unit,d=this._majorUnit,h=c&&l[c],m=d&&l[d],f=n[t],g=d&&m&&f&&f.major;return this._adapter.format(e,i||(g?m:h))}generateTickLabels(e){let t,n,i;for(t=0,n=e.length;t<n;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,i=nt(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(i),o=Math.sin(i),l=this._resolveTickFontOptions(0).size;return{w:n*s+l*o,h:n*o+l*s}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,i=n[t.unit]||n.millisecond,s=this._tickFormatFunction(e,0,Hs(this,[e],this._majorUnit),i),o=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],t,n;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,n=i.length;t<n;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const i=this.getLabels();for(t=0,n=i.length;t<n;++t)e.push(Bs(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Ta(e.sort(Rs))}}z(Jr,"id","time"),z(Jr,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Or(r,e,t){let n=0,i=r.length-1,s,o,l,c;t?(e>=r[n].pos&&e<=r[i].pos&&({lo:n,hi:i}=An(r,"pos",e)),{pos:s,time:l}=r[n],{pos:o,time:c}=r[i]):(e>=r[n].time&&e<=r[i].time&&({lo:n,hi:i}=An(r,"time",e)),{time:s,pos:l}=r[n],{time:o,pos:c}=r[i]);const d=o-s;return d?l+(c-l)*(e-s)/d:l}class $s extends Jr{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Or(t,this.min),this._tableRange=Or(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,i=[],s=[];let o,l,c,d,h;for(o=0,l=e.length;o<l;++o)d=e[o],d>=t&&d<=n&&i.push(d);if(i.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(o=0,l=i.length;o<l;++o)h=i[o+1],c=i[o-1],d=i[o],Math.round((h+c)/2)!==d&&s.push({time:d,pos:o/(l-1)});return s}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(t)||n.length===1)&&n.push(t),n.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return t.length&&n.length?e=this.normalize(t.concat(n)):e=t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Or(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return Or(this._table,n*this._tableRange+this._minPos,!0)}}z($s,"id","timeseries"),z($s,"defaults",Jr.defaults);const co="label";function Vs(r,e){typeof r=="function"?r(e):r&&(r.current=e)}function gf(r,e){const t=r.options;t&&e&&Object.assign(t,e)}function ho(r,e){r.labels=e}function uo(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:co;const n=[];r.datasets=e.map(i=>{const s=r.datasets.find(o=>o[t]===i[t]);return!s||!i.data||n.includes(s)?{...i}:(n.push(s),Object.assign(s,i),s)})}function pf(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:co;const t={labels:[],datasets:[]};return ho(t,r.labels),uo(t,r.datasets,e),t}function bf(r,e){const{height:t=150,width:n=300,redraw:i=!1,datasetIdKey:s,type:o,data:l,options:c,plugins:d=[],fallbackContent:h,updateMode:m,...f}=r,g=y.useRef(null),b=y.useRef(null),p=()=>{g.current&&(b.current=new ln(g.current,{type:o,data:pf(l,s),options:c&&{...c},plugins:d}),Vs(e,b.current))},x=()=>{Vs(e,null),b.current&&(b.current.destroy(),b.current=null)};return y.useEffect(()=>{!i&&b.current&&c&&gf(b.current,c)},[i,c]),y.useEffect(()=>{!i&&b.current&&ho(b.current.config.data,l.labels)},[i,l.labels]),y.useEffect(()=>{!i&&b.current&&l.datasets&&uo(b.current.config.data,l.datasets,s)},[i,l.datasets]),y.useEffect(()=>{b.current&&(i?(x(),setTimeout(p)):b.current.update(m))},[i,c,l.labels,l.datasets,m]),y.useEffect(()=>{b.current&&(x(),setTimeout(p))},[o]),y.useEffect(()=>(p(),()=>x()),[]),K.createElement("canvas",{ref:g,role:"img",height:t,width:n,...f},h)}const xf=y.forwardRef(bf);function yf(r,e){return ln.register(e),y.forwardRef((t,n)=>K.createElement(xf,{...t,ref:n,type:r}))}const Us=yf("bar",Rr);function vf({limit:r=5,className:e}){const[t,n]=y.useState([]),[i,s]=y.useState(!0),[o,l]=y.useState(null);y.useEffect(()=>{(async()=>{try{s(!0),l(null);const d=await fetch("/.netlify/functions/leads?summary=cta_vs_signup_30d&unique=true",{headers:{"Content-Type":"application/json",...Un()}});if(!d.ok)throw new Error(`HTTP ${d.status}`);const h=await d.json();n(Array.isArray(h.rows)?h.rows:[])}catch(d){l((d==null?void 0:d.message)||"Failed to load")}finally{s(!1)}})()},[]);const c=y.useMemo(()=>{const d=(t||[]).map(h=>{const m=h.cta_path||"—",f=h.signup_path||"—",g=typeof h.leads=="string"?parseInt(h.leads,10):h.leads||0;return{label:`${m} → ${f}`,leads:g}});return d.sort((h,m)=>m.leads-h.leads),d.slice(0,Math.max(1,r))},[t,r]);return u("div",{className:`h-full ${e||""}`,children:[a("div",{className:"mb-4",children:u("div",{className:"flex items-center gap-2",children:[a("h3",{className:"text-white font-medium text-sm",children:"Top CTAs ↔ Signup (30d)"}),a("span",{className:"rounded bg-orange-500/20 px-2 py-0.5 text-xs text-orange-200 border border-orange-400/30",children:"Unique leads"})]})}),a("div",{className:"flex-1",children:i?a("div",{className:"h-56 animate-pulse rounded-lg bg-white/10"}):o?u("div",{className:"text-sm text-red-400",children:["Failed to load: ",o]}):c.length===0?a("div",{className:"text-sm text-white/60",children:"No data in the last 30 days."}):a("div",{className:"h-64 w-full",children:a(en,{width:"100%",height:"100%",children:u($n,{data:c,margin:{top:8,right:16,left:8,bottom:40},children:[a(tn,{vertical:!1,strokeDasharray:"3 3"}),a(rn,{dataKey:"label",interval:0,angle:-20,textAnchor:"end",height:48,tick:{fontSize:12}}),a(nn,{allowDecimals:!1,tick:{fontSize:12}}),a(sn,{formatter:d=>[d,"Leads"],labelFormatter:d=>d}),a(Vn,{dataKey:"leads",radius:[6,6,0,0],fill:"#f97316"})]})})})})]})}function wf(r){return a("div",{className:`rounded-lg border bg-white ${r.className||""}`,children:r.children})}function Nf(r){return a("div",{className:`px-4 pt-4 ${r.className||""}`,children:r.children})}function kf(r){return a("h3",{className:`text-lg font-semibold ${r.className||""}`,children:r.children})}function _f(r){return a("div",{className:`px-4 pb-4 ${r.className||""}`,children:r.children})}function Sf({limit:r=5,className:e}){const[t,n]=y.useState([]),[i,s]=y.useState(!0),[o,l]=y.useState(null);y.useEffect(()=>{(async()=>{try{s(!0),l(null);const d=await fetch("/.netlify/functions/leads?summary=landing_vs_signup_30d&unique=true",{headers:{"Content-Type":"application/json",...Un()}});if(!d.ok)throw new Error(`HTTP ${d.status}`);const h=await d.json();n(Array.isArray(h.rows)?h.rows:[])}catch(d){l((d==null?void 0:d.message)||"Failed to load")}finally{s(!1)}})()},[]);const c=y.useMemo(()=>{const d=(t||[]).map(h=>{const m=h.landing_path||"—",f=h.signup_path||"—",g=typeof h.leads=="string"?parseInt(h.leads,10):h.leads||0;return{label:`${m} → ${f}`,leads:g}});return d.sort((h,m)=>m.leads-h.leads),d.slice(0,Math.max(1,r))},[t,r]);return u(wf,{className:e,children:[a(Nf,{className:"pb-0",children:u("div",{className:"flex items-center gap-2",children:[a(kf,{className:"text-base",children:"Top Landing ↔ Signup (30d)"}),a("span",{className:"rounded bg-green-50 px-2 py-0.5 text-xs text-green-700",children:"Unique leads"})]})}),a(_f,{className:"pt-4",children:i?a("div",{className:"h-56 animate-pulse rounded-lg bg-gray-100"}):o?u("div",{className:"text-sm text-red-600",children:["Failed to load: ",o]}):c.length===0?a("div",{className:"text-sm text-gray-500",children:"No data in the last 30 days."}):a("div",{className:"h-64 w-full",children:a(en,{width:"100%",height:"100%",children:u($n,{data:c,margin:{top:8,right:16,left:8,bottom:40},children:[a(tn,{vertical:!1,strokeDasharray:"3 3"}),a(rn,{dataKey:"label",interval:0,angle:-20,textAnchor:"end",height:48,tick:{fontSize:12}}),a(nn,{allowDecimals:!1,tick:{fontSize:12}}),a(sn,{formatter:d=>[d,"Leads"],labelFormatter:d=>d}),a(Vn,{dataKey:"leads",radius:[6,6,0,0],fill:"#10b981"})]})})})})]})}function Cf({className:r}){const[e,t]=y.useState([]),[n,i]=y.useState(!0),[s,o]=y.useState(null);y.useEffect(()=>{(async()=>{try{i(!0),o(null);const c=await fetch("/.netlify/functions/leads?summary=leads_per_day_30d&unique=true",{headers:{"Content-Type":"application/json",...Un()}});if(!c.ok)throw new Error(`HTTP ${c.status}`);const d=await c.json();t(Array.isArray(d.rows)?d.rows:[])}catch(c){o((c==null?void 0:c.message)||"Failed to load")}finally{i(!1)}})()},[]);const l=y.useMemo(()=>(e||[]).map(c=>({date:new Date(c.date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),leads:typeof c.leads=="string"?parseInt(c.leads,10):c.leads||0})),[e]);return u("div",{className:`h-full ${r||""}`,children:[a("div",{className:"mb-4",children:u("div",{className:"flex items-center gap-2",children:[a("h3",{className:"text-white font-medium text-sm",children:"Leads per Day (30d)"}),a("span",{className:"rounded bg-orange-500/20 px-2 py-0.5 text-xs text-orange-200 border border-orange-400/30",children:"Unique leads"})]})}),a("div",{className:"flex-1",children:n?a("div",{className:"h-56 animate-pulse rounded-lg bg-white/10"}):s?u("div",{className:"text-sm text-red-400",children:["Failed to load: ",s]}):l.length===0?a("div",{className:"text-sm text-white/60",children:"No data in the last 30 days."}):a("div",{className:"h-64 w-full",children:a(en,{width:"100%",height:"100%",children:u(ra,{data:l,margin:{top:8,right:16,left:8,bottom:24},children:[a(tn,{strokeDasharray:"3 3"}),a(rn,{dataKey:"date",tick:{fontSize:12}}),a(nn,{allowDecimals:!1,tick:{fontSize:12}}),a(sn,{formatter:c=>[c,"Leads"],labelFormatter:c=>`Date: ${c}`}),a(na,{type:"monotone",dataKey:"leads",stroke:"#f97316",strokeWidth:3,dot:{fill:"#f97316",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#f97316",strokeWidth:2,fill:"#fb923c"}})]})})})})]})}ln.register(Bn,jn,Hr,Fm,Um,Om,Kt,Wr);const Mf=()=>{var v,w,N,k,S,A,E,L,P;const[r,e]=y.useState(null),[t,n]=y.useState([]),[i,s]=y.useState(!0),[o,l]=y.useState(null);y.useEffect(()=>{(async()=>{try{s(!0);const I=localStorage.getItem("authToken"),D=await fetch("/.netlify/functions/leads?summary=true&unique=true",{headers:I?{Authorization:`Bearer ${I}`}:{}});if(!D.ok)throw new Error("Failed to fetch summary data");const V=await D.json();e(V);const j=await fetch("/.netlify/functions/leads?limit=10&unique=true",{headers:I?{Authorization:`Bearer ${I}`}:{}});if(!j.ok)throw new Error("Failed to fetch recent leads");const _=await j.json();n(_.leads||[]);const R=await fetch("/.netlify/functions/leads?summary=cta_vs_signup_30d&unique=true",{headers:I?{Authorization:`Bearer ${I}`}:{}}),Y=R.ok?await R.json():{items:[]};window.__cta_signup_top__=Y.items}catch(I){l(I instanceof Error?I.message:"An error occurred")}finally{s(!1)}})()},[]);const c=M=>new Date(M).toLocaleDateString("en-US",{month:"short",day:"numeric"}),d=M=>({"/":"Home Page","/special-offer":"Special Offer",whatsapp:"WhatsApp",chat:"Live Chat","/crm-import":"CRM Import"})[M]||M,h={labels:((v=r==null?void 0:r.dailySummary)==null?void 0:v.slice(0,14).reverse().map(M=>c(M.date)))||[],datasets:[{label:"Daily Leads",data:((w=r==null?void 0:r.dailySummary)==null?void 0:w.slice(0,14).reverse().map(M=>M.count))||[],backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:2,borderRadius:4,borderSkipped:!1}]},m={labels:((N=r==null?void 0:r.sourceStats)==null?void 0:N.map(M=>d(M.source_page)))||[],datasets:[{label:"Leads by Source",data:((k=r==null?void 0:r.sourceStats)==null?void 0:k.map(M=>M.count))||[],backgroundColor:["rgba(59, 130, 246, 0.8)","rgba(16, 185, 129, 0.8)","rgba(245, 158, 11, 0.8)","rgba(239, 68, 68, 0.8)","rgba(139, 92, 246, 0.8)","rgba(236, 72, 153, 0.8)"],borderColor:["rgba(59, 130, 246, 1)","rgba(16, 185, 129, 1)","rgba(245, 158, 11, 1)","rgba(239, 68, 68, 1)","rgba(139, 92, 246, 1)","rgba(236, 72, 153, 1)"],borderWidth:2}]},f={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"},ticks:{color:"#6B7280"}},x:{grid:{display:!1},ticks:{color:"#6B7280"}}}},g={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0}},title:{display:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"},ticks:{color:"#6B7280"}},x:{grid:{display:!1},ticks:{color:"#6B7280"}}}};if(i)return a("div",{className:"space-y-6",children:u("div",{className:"animate-pulse",children:[u("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a("div",{className:"bg-gray-200 h-32 rounded-lg"}),a("div",{className:"bg-gray-200 h-32 rounded-lg"}),a("div",{className:"bg-gray-200 h-32 rounded-lg"})]}),a("div",{className:"bg-gray-200 h-96 rounded-lg"})]})});if(o)return u("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[a("h3",{className:"text-red-800 font-medium",children:"Error loading leads data"}),a("p",{className:"text-red-600 mt-1",children:o})]});const b=((A=(S=r==null?void 0:r.dailySummary)==null?void 0:S[0])==null?void 0:A.count)||0,p=((L=(E=r==null?void 0:r.dailySummary)==null?void 0:E[1])==null?void 0:L.count)||0,x=b-p;return u("div",{className:"space-y-8",children:[u("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:u("div",{className:"flex items-center",children:[a("div",{className:"flex-shrink-0",children:a(Bc,{className:"h-8 w-8 text-blue-600"})}),u("div",{className:"ml-4",children:[a("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:"Total Leads"}),a("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:(r==null?void 0:r.totalLeads)||0}),a("p",{className:"text-sm text-gray-600 mt-1",children:"All time"})]})]})}),a("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:u("div",{className:"flex items-center",children:[a("div",{className:"flex-shrink-0",children:a(Sc,{className:"h-8 w-8 text-green-600"})}),u("div",{className:"ml-4",children:[a("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:"Today's Leads"}),a("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:b}),x!==0&&u("p",{className:`text-sm mt-1 ${x>0?"text-green-600":"text-red-600"}`,children:[x>0?"+":"",x," from yesterday"]})]})]})}),a("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:u("div",{className:"flex items-center",children:[a("div",{className:"flex-shrink-0",children:a(Pc,{className:"h-8 w-8 text-purple-600"})}),u("div",{className:"ml-4",children:[a("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:"Top Source"}),((P=r==null?void 0:r.sourceStats)==null?void 0:P[0])&&u(Oe,{children:[a("p",{className:"text-lg font-bold text-gray-900 mt-1",children:d(r.sourceStats[0].source_page)}),u("p",{className:"text-sm text-gray-600 mt-1",children:[r.sourceStats[0].count," leads"]})]})]})]})})]}),u("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[u("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:[a("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Daily Leads - Last 14 Days"}),a("div",{className:"h-80",children:a(Us,{data:h,options:f})})]}),u("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:[a("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Leads by Source"}),a("div",{className:"h-80",children:a(Us,{data:m,options:g})})]})]}),u("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a(vf,{limit:5}),a(Sf,{limit:5})]}),a(Cf,{}),u("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:[a("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Recent Leads"}),a("div",{className:"overflow-x-auto",children:u("table",{className:"min-w-full divide-y divide-gray-200",children:[a("thead",{className:"bg-gray-50",children:u("tr",{children:[a("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),a("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),a("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Source"}),a("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),a("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(M=>u("tr",{className:"hover:bg-gray-50",children:[a("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:M.full_name}),a("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:M.email}),a("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:M.phone||"-"}),a("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:d(M.source_page)}),a("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(M.created_at).toLocaleDateString()})]},M.id))})]})}),t.length===0&&a("div",{className:"text-center py-8",children:a("p",{className:"text-gray-500",children:"No leads found"})})]})]})};class Pf{constructor(){this.sessionId=this.getOrCreateSessionId()}getOrCreateSessionId(){let e=sessionStorage.getItem("admin_session_id");return e||(e=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,sessionStorage.setItem("admin_session_id",e)),e}setUserId(e){this.userId=e}async logAction(e,t,n){try{const i={user_id:this.userId,session_id:this.sessionId,action_type:e,context:t,page_url:window.location.href,details:n||{},user_agent:navigator.userAgent,timestamp:new Date().toISOString()};await this.sendToBackend(i),console.log("🔍 Action logged:",{type:e,context:t,details:n,timestamp:i.timestamp})}catch(i){console.error("Failed to log action:",i)}}async sendToBackend(e){}async logNavigation(e,t,n="click"){await this.logAction("navigation",`${e} -> ${t}`,{from_page:e,to_page:t,method:n})}async logButtonClick(e,t,n){await this.logAction("button_click",t,{button_name:e,...n})}async logFormSubmit(e,t){await this.logAction("form_submit",e,{form_fields:Object.keys(t||{}),...t})}async logDataView(e,t,n){await this.logAction("data_view",`viewing_${e}`,{data_type:e,filters:t,result_count:n})}async logError(e,t,n){await this.logAction("error_occurred",e,{error_message:t,stack_trace:n,url:window.location.href,timestamp:new Date().toISOString()})}async logPageLoad(e,t){await this.logAction("page_load",e,{page_name:e,load_time:t,referrer:document.referrer})}}const he=new Pf,Tf=()=>({logAction:he.logAction.bind(he),logNavigation:he.logNavigation.bind(he),logButtonClick:he.logButtonClick.bind(he),logFormSubmit:he.logFormSubmit.bind(he),logDataView:he.logDataView.bind(he),logError:he.logError.bind(he),logPageLoad:he.logPageLoad.bind(he),setUserId:he.setUserId.bind(he)}),Ys=()=>{const{user:r}=fr(),{logPageLoad:e,setUserId:t}=Tf(),[n,i]=y.useState(!1),[s,o]=y.useState(!1);y.useEffect(()=>{r!=null&&r.id&&t(r.id)},[r,t]),y.useEffect(()=>{e("admin_dashboard_overview")},[e]);const l=()=>{localStorage.removeItem("authToken"),window.location.href="/login"};return!r||r.role!=="admin"?a("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u("div",{className:"text-center",children:[a("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),a("p",{className:"text-gray-600 mb-4",children:"You need admin privileges to access this page."}),a(Z,{to:"/login",className:"text-blue-600 hover:text-blue-800",children:"Go to Login"})]})}):n?a("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a(gr,{})}):u("div",{className:"h-screen bg-gradient-to-br from-black via-gray-900 to-black flex relative overflow-hidden",children:[a("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url('/spectra-system-on-colorbar.png')"}}),a("div",{className:"absolute inset-0 bg-black opacity-70"}),a("div",{className:"absolute inset-0 bg-gradient-to-br from-black/15 via-transparent to-black/25"}),a("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-transparent"}),a(yc,{user:r,collapsed:s,onToggle:()=>o(!s),onLogout:l}),a("div",{className:`flex-1 flex flex-col relative z-10 transition-all duration-200 ${s?"ml-[72px]":"ml-[260px]"}`,children:a("main",{className:"flex-1 overflow-y-auto overflow-x-hidden overscroll-none",children:a("div",{className:"p-6 sm:p-8 lg:p-10",children:u("div",{className:"space-y-6",children:[a("h2",{className:"text-2xl font-bold text-white mb-6",children:"Dashboard Overview"}),a(Mf,{}),u("div",{className:"bg-white/10 backdrop-blur-lg border border-white/20 rounded-lg p-6",children:[a("h3",{className:"text-lg font-semibold text-white mb-4",children:"2-Table Architecture Summary"}),u("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u("div",{className:"bg-blue-500/20 p-4 rounded-lg border border-blue-400/30",children:[a("h4",{className:"font-semibold text-blue-200",children:"Leads Table"}),a("p",{className:"text-sm text-blue-300 mt-1",children:"4-stage funnel: CTA → Account → Address → Payment Viewed"})]}),u("div",{className:"bg-green-500/20 p-4 rounded-lg border border-green-400/30",children:[a("h4",{className:"font-semibold text-green-200",children:"Subscribers Table"}),a("p",{className:"text-sm text-green-300 mt-1",children:"Completed subscriptions with secure payment integration"})]})]})]})]})})})})]})},qs=({children:r,showNavigation:e=!0,showFooter:t=!0,className:n=""})=>{const[i,s]=y.useState(!1);return u("div",{className:`min-h-screen flex flex-col bg-white ${n}`,children:[e&&a(qn,{isMobileMenuOpen:i,setIsMobileMenuOpen:s}),a("main",{className:"flex-1 w-full",children:r}),t&&a(va,{})]})},Lf=()=>{const r=kt(),{user:e,loading:t,refreshUser:n}=fr(),{addToast:i}=fa(),[s,o]=y.useState(!1),[l,c]=y.useState(!1),[d,h]=y.useState(!1),[m,f]=y.useState({full_name:(e==null?void 0:e.full_name)||"",phone:(e==null?void 0:e.phone)||"",email:(e==null?void 0:e.email)||""}),[g,b]=y.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[p,x]=y.useState(!1),[v,w]=y.useState(!1),[N,k]=y.useState(!1);if(K.useEffect(()=>{e&&f({full_name:e.full_name||"",phone:e.phone||"",email:e.email||""})},[e]),t)return a(qs,{children:a("div",{className:"min-h-screen flex items-center justify-center",children:a(gr,{})})});if(!e)return r("/login"),null;const S=async P=>{P.preventDefault(),x(!0);try{await Ie.updateProfile({full_name:m.full_name,phone:m.phone}),await n(),i({type:"success",message:"Profile updated successfully!",duration:4e3}),o(!1)}catch(M){console.error("Profile update error:",M),i({type:"error",message:M.message||"Failed to update profile",duration:5e3})}finally{x(!1)}},A=async P=>{if(P.preventDefault(),g.newPassword!==g.confirmPassword){i({type:"error",message:"New passwords do not match",duration:4e3});return}if(g.newPassword.length<8){i({type:"error",message:"Password must be at least 8 characters long",duration:4e3});return}w(!0);try{await new Promise(M=>setTimeout(M,1e3)),i({type:"success",message:"Password updated successfully!",duration:4e3}),b({currentPassword:"",newPassword:"",confirmPassword:""}),c(!1)}catch(M){i({type:"error",message:M.message||"Failed to update password",duration:5e3})}finally{w(!1)}},E=async()=>{k(!0);try{await new Promise(P=>setTimeout(P,1e3)),localStorage.removeItem("auth_token"),sessionStorage.removeItem("auth_token"),i({type:"info",message:"Account deleted successfully",duration:4e3}),r("/")}catch(P){i({type:"error",message:P.message||"Failed to delete account",duration:5e3})}finally{k(!1),h(!1)}},L=P=>new Date(P).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return u(qs,{children:[a("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-white py-8",children:u("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[a("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",children:u("div",{className:"flex items-center justify-between",children:[u("div",{className:"flex items-center gap-4",children:[a("div",{className:"w-16 h-16 bg-gradient-to-br from-[#EAB776] to-[#B18059] rounded-full flex items-center justify-center text-white text-xl font-bold",children:e.full_name?e.full_name.charAt(0).toUpperCase():e.email.charAt(0).toUpperCase()}),u("div",{children:[a("h1",{className:"text-2xl font-bold text-gray-900",children:e.full_name||"User Profile"}),a("p",{className:"text-gray-600",children:e.email}),u("div",{className:"flex items-center gap-2 mt-1",children:[a("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:e.role==="admin"?"👑 Admin":"👤 User"}),u("span",{className:"text-xs text-gray-500",children:["Joined ",L(e.created_at)]})]})]})]}),a(oe,{onClick:()=>o(!0),variant:"outline",children:"Edit Profile"})]})}),u("div",{className:"grid gap-6 md:grid-cols-2",children:[u("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[a("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Personal Information"}),u("div",{className:"space-y-4",children:[u("div",{children:[a("label",{className:"block text-sm font-medium text-gray-500",children:"Full Name"}),a("p",{className:"mt-1 text-gray-900",children:e.full_name||"Not provided"})]}),u("div",{children:[a("label",{className:"block text-sm font-medium text-gray-500",children:"Email"}),a("p",{className:"mt-1 text-gray-900",children:e.email})]}),u("div",{children:[a("label",{className:"block text-sm font-medium text-gray-500",children:"Phone"}),a("p",{className:"mt-1 text-gray-900",children:e.phone||"Not provided"})]})]})]}),u("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[a("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Settings"}),u("div",{className:"space-y-4",children:[a(oe,{onClick:()=>c(!0),variant:"outline",className:"w-full justify-start",children:"🔐 Change Password"}),u("div",{className:"pt-4 border-t border-gray-100",children:[a("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Danger Zone"}),a(oe,{onClick:()=>h(!0),variant:"destructive",size:"sm",children:"Delete Account"}),a("p",{className:"text-xs text-gray-500 mt-1",children:"This action cannot be undone"})]})]})]})]})]})}),a(Pn,{isOpen:s,onClose:()=>o(!1),title:"Edit Profile",size:"md",children:u("form",{onSubmit:S,className:"space-y-4",children:[u("div",{children:[a("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),a("input",{type:"text",value:m.full_name,onChange:P=>f(M=>({...M,full_name:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#B18059] focus:border-transparent",placeholder:"Enter your full name"})]}),u("div",{children:[a("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),a("input",{type:"tel",value:m.phone,onChange:P=>f(M=>({...M,phone:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#B18059] focus:border-transparent",placeholder:"Enter your phone number"})]}),u("div",{children:[a("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),a("input",{type:"email",value:m.email,onChange:P=>f(M=>({...M,email:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#B18059] focus:border-transparent",disabled:!0}),a("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),u("div",{className:"flex gap-3 justify-end pt-4",children:[a(oe,{type:"button",variant:"outline",onClick:()=>o(!1),disabled:p,children:"Cancel"}),a(oe,{type:"submit",disabled:p,children:p?"Saving...":"Save Changes"})]})]})}),a(Pn,{isOpen:l,onClose:()=>c(!1),title:"Change Password",size:"md",children:u("form",{onSubmit:A,className:"space-y-4",children:[u("div",{children:[a("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),a("input",{type:"password",value:g.currentPassword,onChange:P=>b(M=>({...M,currentPassword:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#B18059] focus:border-transparent",required:!0})]}),u("div",{children:[a("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),a("input",{type:"password",value:g.newPassword,onChange:P=>b(M=>({...M,newPassword:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#B18059] focus:border-transparent",minLength:8,required:!0})]}),u("div",{children:[a("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),a("input",{type:"password",value:g.confirmPassword,onChange:P=>b(M=>({...M,confirmPassword:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#B18059] focus:border-transparent",minLength:8,required:!0})]}),u("div",{className:"flex gap-3 justify-end pt-4",children:[a(oe,{type:"button",variant:"outline",onClick:()=>c(!1),disabled:v,children:"Cancel"}),a(oe,{type:"submit",disabled:v,children:v?"Updating...":"Update Password"})]})]})}),a(ua,{isOpen:d,onClose:()=>h(!1),onConfirm:E,title:"Delete Account",message:"Are you sure you want to delete your account? This action cannot be undone and will permanently remove all your data.",confirmText:"Yes, Delete Account",cancelText:"Cancel",variant:"destructive",loading:N})]})};function Ve({className:r,...e}){return a("div",{className:J("rounded-lg border bg-card text-card-foreground shadow-sm",r),...e})}function Ue({className:r,...e}){return a("div",{className:J("flex flex-col space-y-1.5 p-6",r),...e})}function Ye({className:r,...e}){return a("h3",{className:J("text-2xl font-semibold leading-none tracking-tight",r),...e})}function zr({className:r,...e}){return a("p",{className:J("text-sm text-muted-foreground",r),...e})}function qe({className:r,...e}){return a("div",{className:J("p-6 pt-0",r),...e})}const hi=K.createContext({}),mo=K.forwardRef(({className:r,defaultValue:e,value:t,onValueChange:n,...i},s)=>{const[o,l]=K.useState(e||""),c=t!==void 0?t:o,d=h=>{t===void 0&&l(h),n==null||n(h)};return a(hi.Provider,{value:{value:c,onValueChange:d},children:a("div",{ref:s,className:J("w-full",r),...i})})});mo.displayName="Tabs";const fo=K.forwardRef(({className:r,...e},t)=>a("div",{ref:t,className:J("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...e}));fo.displayName="TabsList";const Jt=K.forwardRef(({className:r,value:e,...t},n)=>{const{value:i,onValueChange:s}=K.useContext(hi);return a("button",{ref:n,className:J("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",i===e?"bg-background text-foreground shadow-sm":"",r),onClick:()=>s==null?void 0:s(e),...t})});Jt.displayName="TabsTrigger";const Qt=K.forwardRef(({className:r,value:e,...t},n)=>{const{value:i}=K.useContext(hi);return i!==e?null:a("div",{ref:n,className:J("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...t})});Qt.displayName="TabsContent";class fe{static async getPayments(e={}){const t=new URLSearchParams;e.client&&t.append("client",e.client),e.currency&&t.append("currency",e.currency),e.country&&t.append("country",e.country),e.startDate&&t.append("startDate",e.startDate),e.endDate&&t.append("endDate",e.endDate),e.limit&&t.append("limit",e.limit.toString()),e.offset&&t.append("offset",e.offset.toString());const n=await fetch(`${this.baseUrl}/get-payments?${t}`);if(!n.ok)throw new Error("Failed to fetch payments");return n.json()}static async getSummary(){const e=await fetch(`${this.baseUrl}/get-payments-summary`);if(!e.ok)throw new Error("Failed to fetch payment summary");return e.json()}static formatCurrency(e,t){return new Intl.NumberFormat("he-IL",{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}static formatDate(e){return new Date(e).toLocaleDateString("he-IL",{year:"numeric",month:"short",day:"numeric"})}static formatMonth(e){return new Date(e+"-01").toLocaleDateString("he-IL",{year:"numeric",month:"long"})}}fe.baseUrl="/.netlify/functions";const er=K.forwardRef(({className:r,type:e,...t},n)=>a("input",{type:e,className:J("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:n,...t}));er.displayName="Input";const ui=K.createContext({}),go=K.forwardRef(({className:r,value:e,onValueChange:t,children:n,...i},s)=>a(ui.Provider,{value:{value:e,onValueChange:t},children:a("div",{ref:s,className:J("relative",r),...i,children:n})}));go.displayName="Select";const po=K.forwardRef(({className:r,children:e,...t},n)=>a("button",{ref:n,className:J("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...t,children:e}));po.displayName="SelectTrigger";const bo=K.forwardRef(({className:r,placeholder:e,...t},n)=>{const{value:i}=K.useContext(ui);return a("span",{ref:n,className:J("",r),...t,children:i||e})});bo.displayName="SelectValue";const xo=K.forwardRef(({className:r,children:e,...t},n)=>a("div",{ref:n,className:J("absolute top-full z-50 mt-1 w-full rounded-md border bg-popover p-1 text-popover-foreground shadow-md",r),...t,children:e}));xo.displayName="SelectContent";const $r=K.forwardRef(({className:r,children:e,value:t,...n},i)=>{const{onValueChange:s}=K.useContext(ui);return a("div",{ref:i,className:J("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none hover:bg-accent hover:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),onClick:()=>s==null?void 0:s(t),...n,children:e})});$r.displayName="SelectItem";const yo=K.forwardRef(({className:r,...e},t)=>a("div",{className:"relative w-full overflow-auto",children:a("table",{ref:t,className:J("w-full caption-bottom text-sm",r),...e})}));yo.displayName="Table";const vo=K.forwardRef(({className:r,...e},t)=>a("thead",{ref:t,className:J("[&_tr]:border-b",r),...e}));vo.displayName="TableHeader";const wo=K.forwardRef(({className:r,...e},t)=>a("tbody",{ref:t,className:J("[&_tr:last-child]:border-0",r),...e}));wo.displayName="TableBody";const Df=K.forwardRef(({className:r,...e},t)=>a("tfoot",{ref:t,className:J("bg-primary font-medium text-primary-foreground",r),...e}));Df.displayName="TableFooter";const tr=K.forwardRef(({className:r,...e},t)=>a("tr",{ref:t,className:J("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...e}));tr.displayName="TableRow";const Lt=K.forwardRef(({className:r,...e},t)=>a("th",{ref:t,className:J("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...e}));Lt.displayName="TableHead";const Qe=K.forwardRef(({className:r,...e},t)=>a("td",{ref:t,className:J("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...e}));Qe.displayName="TableCell";const Af=K.forwardRef(({className:r,...e},t)=>a("caption",{ref:t,className:J("mt-4 text-sm text-muted-foreground",r),...e}));Af.displayName="TableCaption";const Ef=({filters:r={}})=>{const[e,t]=y.useState([]),[n,i]=y.useState({total:0,limit:20,offset:0,pages:0}),[s,o]=y.useState(!0),[l,c]=y.useState(r),[d,h]=y.useState(""),[m,f]=y.useState(!1),g=y.useCallback(async(w=0)=>{try{o(!0);const N=await fe.getPayments({...l,client:d||l.client,limit:n.limit,offset:w});t(N.payments),i(N.pagination)}catch(N){console.error("Error loading payments:",N)}finally{o(!1)}},[l,d,n.limit]);y.useEffect(()=>{g(0)},[l,d]);const b=w=>{g(w)},p=(w,N)=>{c(k=>({...k,[w]:N}))},x=()=>{c({}),h("")},v=Math.floor(n.offset/n.limit)+1;return u(Ve,{children:[a(Ue,{children:u("div",{className:"flex items-center justify-between",children:[a(Ye,{children:"Payment Transactions"}),u("div",{className:"flex items-center gap-2",children:[u("div",{className:"relative",children:[a(fc,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),a(er,{placeholder:"Search client...",value:d,onChange:w=>h(w.target.value),className:"pl-8 w-64"})]}),u(oe,{variant:"outline",size:"sm",onClick:()=>f(!m),children:[a(oc,{className:"h-4 w-4 mr-2"}),"Filters"]})]})]})}),u(qe,{children:[m&&u("div",{className:"mb-4 p-4 border rounded-lg bg-muted/50",children:[u("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u("div",{children:[a("label",{className:"text-sm font-medium mb-1 block",children:"Currency"}),u(go,{value:l.currency,onValueChange:w=>p("currency",w),children:[a(po,{children:a(bo,{placeholder:"All currencies"})}),u(xo,{children:[a($r,{value:"all",children:"All currencies"}),a($r,{value:"ILS",children:"ILS"}),a($r,{value:"USD",children:"USD"})]})]})]}),u("div",{children:[a("label",{className:"text-sm font-medium mb-1 block",children:"Country"}),a(er,{placeholder:"Filter by country",value:l.country||"",onChange:w=>p("country",w.target.value)})]}),u("div",{children:[a("label",{className:"text-sm font-medium mb-1 block",children:"Start Date"}),a(er,{type:"date",value:l.startDate||"",onChange:w=>p("startDate",w.target.value)})]}),u("div",{children:[a("label",{className:"text-sm font-medium mb-1 block",children:"End Date"}),a(er,{type:"date",value:l.endDate||"",onChange:w=>p("endDate",w.target.value)})]})]}),a("div",{className:"flex justify-end mt-4",children:u(oe,{variant:"ghost",size:"sm",onClick:x,children:[a(xc,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})})]}),a("div",{className:"rounded-md border",children:u(yo,{children:[a(vo,{children:u(tr,{children:[a(Lt,{children:"Client"}),a(Lt,{children:"Date"}),a(Lt,{children:"Country"}),a(Lt,{children:"Currency"}),a(Lt,{className:"text-right",children:"Amount"})]})}),a(wo,{children:s?a(tr,{children:a(Qe,{colSpan:5,className:"text-center py-8",children:a("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"})})}):e.length===0?a(tr,{children:a(Qe,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"No payments found"})}):e.map(w=>u(tr,{children:[a(Qe,{className:"font-medium",children:w.client}),a(Qe,{children:fe.formatDate(w.payment_date)}),a(Qe,{children:w.country}),a(Qe,{children:a("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${w.currency==="ILS"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:w.currency})}),a(Qe,{className:"text-right font-medium",children:fe.formatCurrency(w.amount,w.currency)})]},w.id))})]})}),!s&&e.length>0&&u("div",{className:"flex items-center justify-between mt-4",children:[u("p",{className:"text-sm text-muted-foreground",children:["Showing ",n.offset+1," to ",Math.min(n.offset+n.limit,n.total)," of ",n.total," payments"]}),u("div",{className:"flex items-center gap-2",children:[u(oe,{variant:"outline",size:"sm",onClick:()=>b(Math.max(0,n.offset-n.limit)),disabled:n.offset===0,children:[a(tc,{className:"h-4 w-4"}),"Previous"]}),u("span",{className:"text-sm",children:["Page ",v," of ",n.pages]}),u(oe,{variant:"outline",size:"sm",onClick:()=>b(n.offset+n.limit),disabled:v>=n.pages,children:["Next",a(Tn,{className:"h-4 w-4"})]})]})]})]})]})},If=({data:r,type:e="line"})=>{const t=(l,c)=>{const d=c;return fe.formatCurrency(l,d)},n=l=>fe.formatMonth(l),i=({active:l,payload:c,label:d})=>l&&c&&c.length?u("div",{className:"bg-background border rounded-lg shadow-lg p-3",children:[a("p",{className:"font-medium mb-2",children:n(d)}),c.map(h=>u("p",{className:"text-sm",style:{color:h.color},children:[h.name,": ",t(h.value,h.name)]},h.name))]}):null,s=e==="line"?ra:$n,o=e==="line"?na:Vn;return a(en,{width:"100%",height:350,children:u(s,{data:r,margin:{top:5,right:30,left:20,bottom:5},children:[a(tn,{strokeDasharray:"3 3",className:"opacity-30"}),a(rn,{dataKey:"month",tickFormatter:n,className:"text-xs"}),a(nn,{className:"text-xs",tickFormatter:l=>new Intl.NumberFormat("he-IL",{notation:"compact",compactDisplay:"short"}).format(l)}),a(sn,{content:a(i,{})}),a(Ho,{}),a(o,{type:"monotone",dataKey:"ILS",stroke:"#3B82F6",fill:"#3B82F6",strokeWidth:2,name:"ILS"}),a(o,{type:"monotone",dataKey:"USD",stroke:"#10B981",fill:"#10B981",strokeWidth:2,name:"USD"})]})})},No=6048e5,Of=864e5,Gs=Symbol.for("constructDateFrom");function ot(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&Gs in r?r[Gs](e):r instanceof Date?new r.constructor(e):new Date(e)}function De(r,e){return ot(e||r,r)}let zf={};function dn(){return zf}function mr(r,e){var l,c,d,h;const t=dn(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??t.weekStartsOn??((h=(d=t.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,i=De(r,e==null?void 0:e.in),s=i.getDay(),o=(s<n?7:0)+s-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Qr(r,e){return mr(r,{...e,weekStartsOn:1})}function ko(r,e){const t=De(r,e==null?void 0:e.in),n=t.getFullYear(),i=ot(t,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const s=Qr(i),o=ot(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=Qr(o);return t.getTime()>=s.getTime()?n+1:t.getTime()>=l.getTime()?n:n-1}function Xs(r){const e=De(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function Ff(r,...e){const t=ot.bind(null,r||e.find(n=>typeof n=="object"));return e.map(t)}function Ks(r,e){const t=De(r,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function Rf(r,e,t){const[n,i]=Ff(t==null?void 0:t.in,r,e),s=Ks(n),o=Ks(i),l=+s-Xs(s),c=+o-Xs(o);return Math.round((l-c)/Of)}function Bf(r,e){const t=ko(r,e),n=ot((e==null?void 0:e.in)||r,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Qr(n)}function jf(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function Wf(r){return!(!jf(r)&&typeof r!="number"||isNaN(+De(r)))}function Hf(r,e){const t=De(r,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const $f={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Vf=(r,e,t)=>{let n;const i=$f[r];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function _n(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const Uf={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Yf={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qf={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Gf={date:_n({formats:Uf,defaultWidth:"full"}),time:_n({formats:Yf,defaultWidth:"full"}),dateTime:_n({formats:qf,defaultWidth:"full"})},Xf={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Kf=(r,e,t,n)=>Xf[r];function Ut(r){return(e,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let i;if(n==="formatting"&&r.formattingValues){const o=r.defaultFormattingWidth||r.defaultWidth,l=t!=null&&t.width?String(t.width):o;i=r.formattingValues[l]||r.formattingValues[o]}else{const o=r.defaultWidth,l=t!=null&&t.width?String(t.width):r.defaultWidth;i=r.values[l]||r.values[o]}const s=r.argumentCallback?r.argumentCallback(e):e;return i[s]}}const Zf={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Jf={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Qf={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},eg={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},tg={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},rg={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ng=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},ig={ordinalNumber:ng,era:Ut({values:Zf,defaultWidth:"wide"}),quarter:Ut({values:Jf,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Ut({values:Qf,defaultWidth:"wide"}),day:Ut({values:eg,defaultWidth:"wide"}),dayPeriod:Ut({values:tg,defaultWidth:"wide",formattingValues:rg,defaultFormattingWidth:"wide"})};function Yt(r){return(e,t={})=>{const n=t.width,i=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],l=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],c=Array.isArray(l)?ag(l,m=>m.test(o)):sg(l,m=>m.test(o));let d;d=r.valueCallback?r.valueCallback(c):c,d=t.valueCallback?t.valueCallback(d):d;const h=e.slice(o.length);return{value:d,rest:h}}}function sg(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function ag(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function og(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const i=n[0],s=e.match(r.parsePattern);if(!s)return null;let o=r.valueCallback?r.valueCallback(s[0]):s[0];o=t.valueCallback?t.valueCallback(o):o;const l=e.slice(i.length);return{value:o,rest:l}}}const lg=/^(\d+)(th|st|nd|rd)?/i,cg=/\d+/i,dg={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},hg={any:[/^b/i,/^(a|c)/i]},ug={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},mg={any:[/1/i,/2/i,/3/i,/4/i]},fg={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},gg={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},pg={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},bg={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},xg={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},yg={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},vg={ordinalNumber:og({matchPattern:lg,parsePattern:cg,valueCallback:r=>parseInt(r,10)}),era:Yt({matchPatterns:dg,defaultMatchWidth:"wide",parsePatterns:hg,defaultParseWidth:"any"}),quarter:Yt({matchPatterns:ug,defaultMatchWidth:"wide",parsePatterns:mg,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Yt({matchPatterns:fg,defaultMatchWidth:"wide",parsePatterns:gg,defaultParseWidth:"any"}),day:Yt({matchPatterns:pg,defaultMatchWidth:"wide",parsePatterns:bg,defaultParseWidth:"any"}),dayPeriod:Yt({matchPatterns:xg,defaultMatchWidth:"any",parsePatterns:yg,defaultParseWidth:"any"})},wg={code:"en-US",formatDistance:Vf,formatLong:Gf,formatRelative:Kf,localize:ig,match:vg,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ng(r,e){const t=De(r,e==null?void 0:e.in);return Rf(t,Hf(t))+1}function kg(r,e){const t=De(r,e==null?void 0:e.in),n=+Qr(t)-+Bf(t);return Math.round(n/No)+1}function _o(r,e){var h,m,f,g;const t=De(r,e==null?void 0:e.in),n=t.getFullYear(),i=dn(),s=(e==null?void 0:e.firstWeekContainsDate)??((m=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(f=i.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,o=ot((e==null?void 0:e.in)||r,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const l=mr(o,e),c=ot((e==null?void 0:e.in)||r,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const d=mr(c,e);return+t>=+l?n+1:+t>=+d?n:n-1}function _g(r,e){var l,c,d,h;const t=dn(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??t.firstWeekContainsDate??((h=(d=t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,i=_o(r,e),s=ot((e==null?void 0:e.in)||r,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),mr(s,e)}function Sg(r,e){const t=De(r,e==null?void 0:e.in),n=+mr(t,e)-+_g(t,e);return Math.round(n/No)+1}function G(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const Ze={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return G(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):G(t+1,2)},d(r,e){return G(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return G(r.getHours()%12||12,e.length)},H(r,e){return G(r.getHours(),e.length)},m(r,e){return G(r.getMinutes(),e.length)},s(r,e){return G(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),i=Math.trunc(n*Math.pow(10,t-3));return G(i,e.length)}},Tt={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Zs={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),i=n>0?n:1-n;return t.ordinalNumber(i,{unit:"year"})}return Ze.y(r,e)},Y:function(r,e,t,n){const i=_o(r,n),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return G(o,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):G(s,e.length)},R:function(r,e){const t=ko(r);return G(t,e.length)},u:function(r,e){const t=r.getFullYear();return G(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return G(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return G(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return Ze.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return G(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const i=Sg(r,n);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):G(i,e.length)},I:function(r,e,t){const n=kg(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):G(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):Ze.d(r,e)},D:function(r,e,t){const n=Ng(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):G(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const i=r.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return G(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const i=r.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return G(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return G(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const i=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let i;switch(n===12?i=Tt.noon:n===0?i=Tt.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let i;switch(n>=17?i=Tt.evening:n>=12?i=Tt.afternoon:n>=4?i=Tt.morning:i=Tt.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return Ze.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):Ze.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):G(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):G(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):Ze.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):Ze.s(r,e)},S:function(r,e){return Ze.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return Qs(n);case"XXXX":case"XX":return pt(n);case"XXXXX":case"XXX":default:return pt(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return Qs(n);case"xxxx":case"xx":return pt(n);case"xxxxx":case"xxx":default:return pt(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Js(n,":");case"OOOO":default:return"GMT"+pt(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Js(n,":");case"zzzz":default:return"GMT"+pt(n,":")}},t:function(r,e,t){const n=Math.trunc(+r/1e3);return G(n,e.length)},T:function(r,e,t){return G(+r,e.length)}};function Js(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=Math.trunc(n/60),s=n%60;return s===0?t+String(i):t+String(i)+e+G(s,2)}function Qs(r,e){return r%60===0?(r>0?"-":"+")+G(Math.abs(r)/60,2):pt(r,e)}function pt(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=G(Math.trunc(n/60),2),s=G(n%60,2);return t+i+e+s}const ea=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},So=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Cg=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],i=t[2];if(!i)return ea(r,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",ea(n,e)).replace("{{time}}",So(i,e))},Mg={p:So,P:Cg},Pg=/^D+$/,Tg=/^Y+$/,Lg=["D","DD","YY","YYYY"];function Dg(r){return Pg.test(r)}function Ag(r){return Tg.test(r)}function Eg(r,e,t){const n=Ig(r,e,t);if(console.warn(n),Lg.includes(r))throw new RangeError(n)}function Ig(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Og=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,zg=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Fg=/^'([^]*?)'?$/,Rg=/''/g,Bg=/[a-zA-Z]/;function ta(r,e,t){var h,m,f,g,b,p,x,v;const n=dn(),i=(t==null?void 0:t.locale)??n.locale??wg,s=(t==null?void 0:t.firstWeekContainsDate)??((m=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((g=(f=n.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,o=(t==null?void 0:t.weekStartsOn)??((p=(b=t==null?void 0:t.locale)==null?void 0:b.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((v=(x=n.locale)==null?void 0:x.options)==null?void 0:v.weekStartsOn)??0,l=De(r,t==null?void 0:t.in);if(!Wf(l))throw new RangeError("Invalid time value");let c=e.match(zg).map(w=>{const N=w[0];if(N==="p"||N==="P"){const k=Mg[N];return k(w,i.formatLong)}return w}).join("").match(Og).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const N=w[0];if(N==="'")return{isToken:!1,value:jg(w)};if(Zs[N])return{isToken:!0,value:w};if(N.match(Bg))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const d={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return c.map(w=>{if(!w.isToken)return w.value;const N=w.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&Ag(N)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&Dg(N))&&Eg(N,e,String(r));const k=Zs[N[0]];return k(l,N,i.localize,d)}).join("")}function jg(r){const e=r.match(Fg);return e?e[1].replace(Rg,"'"):r}const Wg=()=>{var g,b,p,x;const[r,e]=y.useState(null),[t,n]=y.useState([]),[i,s]=y.useState(!0),[o,l]=y.useState({});y.useState({startDate:ta(new Date(new Date().setMonth(new Date().getMonth()-3)),"yyyy-MM-dd"),endDate:ta(new Date,"yyyy-MM-dd")}),y.useEffect(()=>{c()},[]);const c=async()=>{try{s(!0);const v=await fe.getSummary();e(v.summary),n(v.charts.monthlyTrends)}catch(v){console.error("Error loading dashboard data:",v)}finally{s(!1)}},d=()=>{console.log("Exporting data...")};if(i)return a("div",{className:"flex items-center justify-center h-96",children:u("div",{className:"text-center",children:[a("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),a("p",{className:"mt-4 text-muted-foreground",children:"Loading payment data..."})]})});const h=((g=r==null?void 0:r.totalsByCurrency.find(v=>v.currency==="ILS"))==null?void 0:g.total_amount)||0,m=((b=r==null?void 0:r.totalsByCurrency.find(v=>v.currency==="USD"))==null?void 0:b.total_amount)||0,f=(r==null?void 0:r.totalsByCurrency.reduce((v,w)=>v+w.unique_clients,0))||0;return r!=null&&r.totalsByCurrency.reduce((v,w)=>v+w.transaction_count,0),u("div",{className:"space-y-6",children:[u("div",{className:"flex justify-between items-center",children:[u("div",{children:[a("h1",{className:"text-3xl font-bold",children:"Payments Dashboard"}),a("p",{className:"text-muted-foreground",children:"Track and analyze Spectra/Booksy payments"})]}),u(oe,{onClick:d,variant:"outline",children:[a(sc,{className:"h-4 w-4 mr-2"}),"Export Data"]})]}),u("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u(Ve,{children:[u(Ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a(Ye,{className:"text-sm font-medium",children:"Total Revenue (ILS)"}),a(_i,{className:"h-4 w-4 text-muted-foreground"})]}),u(qe,{children:[a("div",{className:"text-2xl font-bold",children:fe.formatCurrency(h,"ILS")}),u("p",{className:"text-xs text-muted-foreground",children:[((p=r==null?void 0:r.totalsByCurrency.find(v=>v.currency==="ILS"))==null?void 0:p.transaction_count)||0," transactions"]})]})]}),u(Ve,{children:[u(Ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a(Ye,{className:"text-sm font-medium",children:"Total Revenue (USD)"}),a(_i,{className:"h-4 w-4 text-muted-foreground"})]}),u(qe,{children:[a("div",{className:"text-2xl font-bold",children:fe.formatCurrency(m,"USD")}),u("p",{className:"text-xs text-muted-foreground",children:[((x=r==null?void 0:r.totalsByCurrency.find(v=>v.currency==="USD"))==null?void 0:x.transaction_count)||0," transactions"]})]})]}),u(Ve,{children:[u(Ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a(Ye,{className:"text-sm font-medium",children:"Total Clients"}),a(pc,{className:"h-4 w-4 text-muted-foreground"})]}),u(qe,{children:[a("div",{className:"text-2xl font-bold",children:f}),a("p",{className:"text-xs text-muted-foreground",children:"Active paying clients"})]})]}),u(Ve,{children:[u(Ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a(Ye,{className:"text-sm font-medium",children:"Countries"}),a(cc,{className:"h-4 w-4 text-muted-foreground"})]}),u(qe,{children:[a("div",{className:"text-2xl font-bold",children:(r==null?void 0:r.countrySummary.length)||0}),a("p",{className:"text-xs text-muted-foreground",children:"Global presence"})]})]})]}),u(mo,{defaultValue:"overview",className:"space-y-4",children:[u(fo,{children:[a(Jt,{value:"overview",children:"Overview"}),a(Jt,{value:"payments",children:"Payments"}),a(Jt,{value:"clients",children:"Top Clients"}),a(Jt,{value:"countries",children:"Countries"})]}),u(Qt,{value:"overview",className:"space-y-4",children:[u(Ve,{children:[u(Ue,{children:[a(Ye,{children:"Monthly Revenue Trends"}),a(zr,{children:"Revenue breakdown by currency over time"})]}),a(qe,{children:a(If,{data:t})})]}),u(Ve,{children:[u(Ue,{children:[a(Ye,{children:"Recent Payments"}),a(zr,{children:"Latest 5 transactions"})]}),a(qe,{children:a("div",{className:"space-y-4",children:r==null?void 0:r.recentPayments.map((v,w)=>u("div",{className:"flex items-center justify-between p-2 hover:bg-muted/50 rounded",children:[u("div",{children:[a("p",{className:"font-medium",children:v.client}),u("p",{className:"text-sm text-muted-foreground",children:[fe.formatDate(v.payment_date)," • ",v.country]})]}),a("div",{className:"text-right",children:a("p",{className:"font-medium",children:fe.formatCurrency(v.amount,v.currency)})})]},w))})})]})]}),a(Qt,{value:"payments",children:a(Ef,{filters:o})}),a(Qt,{value:"clients",className:"space-y-4",children:u(Ve,{children:[u(Ue,{children:[a(Ye,{children:"Top Paying Clients"}),a(zr,{children:"Clients with highest total payments"})]}),a(qe,{children:a("div",{className:"space-y-4",children:r==null?void 0:r.topClients.map((v,w)=>u("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[u("div",{className:"space-y-1",children:[a("p",{className:"font-medium",children:v.client}),u("div",{className:"flex gap-4 text-sm text-muted-foreground",children:[u("span",{children:[v.payment_count," payments"]}),u("span",{children:["Avg: ",fe.formatCurrency(v.avg_amount,v.currency)]}),u("span",{children:["Last: ",fe.formatDate(v.last_payment)]})]})]}),a("div",{className:"text-right",children:a("p",{className:"text-lg font-bold",children:fe.formatCurrency(v.total_amount,v.currency)})})]},w))})})]})}),a(Qt,{value:"countries",className:"space-y-4",children:u(Ve,{children:[u(Ue,{children:[a(Ye,{children:"Revenue by Country"}),a(zr,{children:"Geographic distribution of payments"})]}),a(qe,{children:a("div",{className:"space-y-4",children:r==null?void 0:r.countrySummary.map((v,w)=>u("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[u("div",{className:"space-y-1",children:[a("p",{className:"font-medium",children:v.country}),u("div",{className:"flex gap-4 text-sm text-muted-foreground",children:[u("span",{children:[v.unique_clients," clients"]}),u("span",{children:[v.transaction_count," transactions"]}),u("span",{children:["Currency: ",v.currency]})]})]}),a("div",{className:"text-right",children:a("p",{className:"text-lg font-bold",children:fe.formatCurrency(v.total_amount,v.currency)})})]},w))})})]})})]})]})},Fr=({children:r,requiredRole:e,requireAuth:t=!0})=>{const{user:n,loading:i,isAuthenticated:s,isAdmin:o}=fr(),l=Hn();if(i)return a("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-amber-50 via-white to-orange-50",children:u("div",{className:"text-center",children:[a(gr,{}),a("p",{className:"mt-4 text-gray-600",children:"Checking permissions..."})]})});if(t&&!s)return console.log("🔐 Not authenticated, redirecting to login"),a(mi,{to:"/login",state:{from:l},replace:!0});if(e){if(!n)return console.log("🔐 No user found, redirecting to login"),a(mi,{to:"/login",state:{from:l},replace:!0});switch(e){case"admin":if(!o)return console.log("🔐 User is not admin, access denied"),a(Sn,{});break;case"user":if(n.role!=="user"&&n.role!=="admin")return a(Sn,{});break;case"partner":if(n.role!=="partner"&&n.role!=="admin")return a(Sn,{});break}}return console.log("✅ Access granted for user:",n==null?void 0:n.email,"role:",n==null?void 0:n.role),a(Oe,{children:r})},Sn=()=>a("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-amber-50 via-white to-orange-50 px-4",children:a("div",{className:"max-w-md w-full text-center",children:u("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-8",children:[a("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),a("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),a("p",{className:"text-gray-600 mb-6",children:"You don't have permission to access this page. Please contact an administrator if you believe this is an error."}),u("div",{className:"space-y-3",children:[a("button",{onClick:()=>window.history.back(),className:"w-full bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 transform hover:scale-[1.02]",children:"Go Back"}),a("button",{onClick:()=>window.location.href="/",className:"w-full text-gray-700 hover:text-amber-600 font-medium py-3 px-6 rounded-xl border border-gray-200 hover:border-amber-600 transition-all duration-200",children:"Return to Homepage"})]})]})})});const Co=y.createContext(void 0),Hg=()=>{const r=y.useContext(Co);if(!r)throw new Error("useNotifications must be used within NotificationProvider");return r},$g=({children:r})=>{const[e,t]=y.useState([]),n=y.useCallback(o=>{const l=Math.random().toString(36).substr(2,9),c={...o,id:l,duration:o.duration??5e3};t(d=>[...d,c]),c.duration&&c.duration>0&&setTimeout(()=>{i(l)},c.duration)},[]),i=y.useCallback(o=>{t(l=>l.filter(c=>c.id!==o))},[]),s=y.useCallback(()=>{t([])},[]);return u(Co.Provider,{value:{notifications:e,addNotification:n,removeNotification:i,clearAll:s},children:[r,a(Vg,{})]})},Vg=()=>{const{notifications:r,removeNotification:e}=Hg();return r.length===0?null:a("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-sm",children:r.map(t=>a(Ug,{notification:t,onClose:()=>e(t.id)},t.id))})},Ug=({notification:r,onClose:e})=>{const t=()=>{switch(r.type){case"success":return a(Dc,{className:"w-6 h-6 text-green-400"});case"error":return a(Hc,{className:"w-6 h-6 text-red-400"});case"warning":return a(Ic,{className:"w-6 h-6 text-yellow-400"});case"info":return a(Mi,{className:"w-6 h-6 text-blue-400"});case"chat":return a(Nc,{className:"w-6 h-6 text-purple-400"});default:return a(Mi,{className:"w-6 h-6 text-gray-400"})}};return a("div",{className:`${(()=>{switch(r.type){case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";case"warning":return"bg-yellow-50 border-yellow-200";case"info":return"bg-blue-50 border-blue-200";case"chat":return"bg-purple-50 border-purple-200";default:return"bg-gray-50 border-gray-200"}})()} border rounded-lg p-4 shadow-lg transform transition-all duration-300 animate-in slide-in-from-right-full`,children:u("div",{className:"flex items-start",children:[a("div",{className:"flex-shrink-0",children:t()}),u("div",{className:"ml-3 flex-1",children:[a("h3",{className:"text-sm font-medium text-gray-900",children:r.title}),r.message&&a("p",{className:"mt-1 text-sm text-gray-600",children:r.message}),r.metadata&&u("div",{className:"mt-2 text-xs text-gray-500",children:[r.metadata.clientName&&u("p",{children:["From: ",r.metadata.clientName]}),r.metadata.messagePreview&&u("p",{className:"italic",children:['"',r.metadata.messagePreview,'"']}),r.metadata.channel&&u("p",{children:["Channel: ",r.metadata.channel]})]}),r.action&&a("div",{className:"mt-3",children:a("button",{onClick:r.action.onClick,className:"text-sm font-medium text-blue-600 hover:text-blue-800 transition-colors",children:r.action.label})})]}),a("div",{className:"ml-4 flex-shrink-0",children:a("button",{onClick:e,className:"inline-flex text-gray-400 hover:text-gray-600 transition-colors",children:a(Uc,{className:"w-5 h-5"})})})]})})},Mo=new et;Mo.startTiming("app-init");async function Yg(){try{if(console.log("🔌 Testing API connection..."),window.location.hostname==="localhost"){console.log("⚠️ Preview mode - API functions not available");return}const r=await fetch("/.netlify/functions/db-check");console.log("📡 API Response Status:",r.status),r.ok?console.log("✅ API Connection: Working"):console.log("⚠️ API Connection: Limited (some functions may not be available)")}catch(r){console.log("❌ API Connection Failed:",r)}}Yg();function qg(){const r=Hn();return y.useEffect(()=>{Mo.endTiming("app-init"),console.log(`🌐 Navigated to: ${r.pathname}`),typeof window<"u"&&window.gtag&&window.gtag("config","GA_MEASUREMENT_ID",{page_path:r.pathname})},[r]),null}function Gg(){return y.useEffect(()=>{console.log("🚀 Spectra Salon App Started")},[]),a(y.StrictMode,{children:a(jo,{children:a(Uo,{children:a($g,{children:u(vl,{children:[a(qg,{}),u(Wo,{children:[a(pe,{path:"/",element:a(Dl,{})}),a(pe,{path:"/about",element:a(Il,{})}),a(pe,{path:"/payments",element:a(Ol,{})}),a(pe,{path:"/lead-capture",element:a(zl,{})}),a(pe,{path:"/ugc-offer",element:a(jl,{})}),a(pe,{path:"/login",element:a(Wl,{})}),a(pe,{path:"/signup",element:a(Ul,{})}),a(pe,{path:"/forgot-password",element:a(Yl,{})}),a(pe,{path:"/reset-password",element:a(ql,{})}),a(pe,{path:"/profile",element:a(Fr,{children:a(Lf,{})})}),a(pe,{path:"/dashboard",element:a(Fr,{requiredRole:"admin",children:a(Wg,{})})}),a(pe,{path:"/admin",element:a(Fr,{requiredRole:"admin",children:a(Ys,{})})}),a(pe,{path:"/admin/*",element:a("div",{children:"Redirecting to admin overview..."})}),a(pe,{path:"/admin-old",element:a(Fr,{requiredRole:"admin",children:a(Ys,{})})})]})]})})})})})}const Xg=ia(document.getElementById("root"));Xg.render(a(Gg,{}));
//# sourceMappingURL=index-e500bc72.js.map
