var wf=Object.defineProperty;var Nf=(t,e,n)=>e in t?wf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var B=(t,e,n)=>(Nf(t,typeof e!="symbol"?e+"":e,n),n);import{j as l,a as f,F as Qe,A as kf,u as _f}from"./maps-83a5aac1.js";import{a as Sf,r as v,u as nn,L as G,R as Z,b as Cf,d as Kr,N as Pf,e as Qa,B as Mf,f as Tf,h as Se}from"./vendor-ed221528.js";import{R as ks,B as Xr,C as _s,X as Ss,Y as Cs,T as Ps,a as Zr,L as sd,b as rd,c as Af}from"./charts-e1f6428d.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();var ad,eo=Sf;{var to=eo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;ad=function(t,e){to.usingClientEntryPoint=!0;try{return eo.createRoot(t,e)}finally{to.usingClientEntryPoint=!1}}}const Df="/.netlify/functions";class Ef{constructor(){this.token=null,this.token=localStorage.getItem("token")}async request(e,n={}){const i=`${Df}${e}`,s={"Content-Type":"application/json",...this.token&&{Authorization:`Bearer ${this.token}`},...n.headers};try{const r=await fetch(i,{...n,headers:s});if(!r.ok){const a=await r.json().catch(()=>({}));throw new Error(a.error||`HTTP ${r.status}`)}return r.json()}catch(r){throw e==="/me"?new Error("No authenticated user (preview mode)"):(console.warn(`API call failed (preview mode): ${e}`,r),r)}}async signup(e){const n=await this.request("/signup",{method:"POST",body:JSON.stringify(e)});return n.token?(this.token=n.token,localStorage.setItem("token",n.token)):this.token=localStorage.getItem("token"),n}async login(e,n){const i=await this.request("/login",{method:"POST",body:JSON.stringify({email:e,password:n})});return i.token?(this.token=i.token,localStorage.setItem("token",i.token)):this.token=localStorage.getItem("token"),i}async logout(){console.log("ðŸ” Starting logout - Environment:",{hostname:window.location.hostname,protocol:window.location.protocol,isProd:!window.location.hostname.includes("localhost")});try{const e=await this.request("/auth/logout",{method:"POST"});console.log("âœ… Server logout successful:",e)}catch(e){console.warn("âŒ Server logout failed, continuing with local logout:",e)}finally{this.token=null,localStorage.removeItem("token"),sessionStorage.removeItem("token"),["token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",`token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; domain=${window.location.hostname};`,`token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; domain=.${window.location.hostname};`].forEach(n=>{document.cookie=n}),console.log("ðŸšª Logout cleanup completed - all tokens cleared")}}async getCurrentUser(){return this.request("/me")}isAuthenticated(){return!!this.token}getToken(){return this.token}async forgotPassword(e){return this.request("/forgot-password",{method:"POST",body:JSON.stringify({email:e})})}async resetPassword(e,n){return this.request("/reset-password",{method:"POST",body:JSON.stringify({token:e,password:n})})}async sendEmail(e){return this.request("/send-email",{method:"POST",body:JSON.stringify(e)})}async createLead(e){return this.request("/leads",{method:"POST",body:JSON.stringify(e)})}async getLeads(e={}){const n=new URLSearchParams(e).toString();return this.request(`/leads?${n}`)}async trackCTA(e){return this.request("/cta-tracking",{method:"POST",body:JSON.stringify(e)})}async updateProfile(e){return this.request("/update-profile",{method:"PUT",body:JSON.stringify(e)})}async getUsers(){return this.request("/get-users")}async checkDatabaseHealth(){return this.request("/db-check")}}const Je=new Ef;function Jr(){try{const t=localStorage.getItem("token")||localStorage.getItem("authToken");return t?{Authorization:`Bearer ${t}`}:{}}catch{return{}}}const od=v.createContext(void 0);function Lf({children:t}){const[e,n]=v.useState(null),[i,s]=v.useState(!0),r=async()=>{try{s(!0);const d=await Je.getCurrentUser();n(d.user)}catch(d){console.log("No authenticated user:",d),n(null)}finally{s(!1)}},a=async()=>{try{s(!0),await Je.logout(),n(null),localStorage.removeItem("token"),window.location.hostname.includes("localhost")||setTimeout(()=>{window.location.reload()},100)}catch(d){console.error("Logout error:",d),n(null)}finally{s(!1)}},o=async(d,h)=>{try{s(!0),console.log("ðŸ”‘ Attempting login for:",d);const{token:u,user:m}=await Je.login(d,h);console.log("âœ… Login API response:",{token:u,user:m}),localStorage.setItem("token",u),Je.token=u,await r();const g=await Je.getCurrentUser();return n(g),console.log("ðŸ‘¤ User loaded:",g),{token:u,user:m}}catch(u){throw console.error("âŒ Login error:",u),n(null),u}finally{s(!1)}};v.useEffect(()=>{r();const d=h=>{h.key==="token"&&(Je.token=h.newValue,h.newValue?r():n(null))};return window.addEventListener("storage",d),()=>{window.removeEventListener("storage",d)}},[]);const c={user:e,loading:i,isAuthenticated:!!e,isAdmin:(e==null?void 0:e.role)==="admin",hasRole:d=>(e==null?void 0:e.role)===d,refreshUser:r,logout:a,login:o};return l(od.Provider,{value:c,children:t})}function vi(){const t=v.useContext(od);if(t===void 0)throw new Error("useUserContext must be used within a UserProvider");return t}function ld(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=ld(t[e]))&&(i&&(i+=" "),i+=n);else for(e in t)t[e]&&(i&&(i+=" "),i+=e);return i}function zn(){for(var t,e,n=0,i="";n<arguments.length;)(t=arguments[n++])&&(e=ld(t))&&(i&&(i+=" "),i+=e);return i}function If(){for(var t=0,e,n,i="";t<arguments.length;)(e=arguments[t++])&&(n=cd(e))&&(i&&(i+=" "),i+=n);return i}function cd(t){if(typeof t=="string")return t;for(var e,n="",i=0;i<t.length;i++)t[i]&&(e=cd(t[i]))&&(n&&(n+=" "),n+=e);return n}var Qr="-";function Of(t){var e=Ff(t),n=t.conflictingClassGroups,i=t.conflictingClassGroupModifiers,s=i===void 0?{}:i;function r(o){var c=o.split(Qr);return c[0]===""&&c.length!==1&&c.shift(),dd(c,e)||Rf(o)}function a(o,c){var d=n[o]||[];return c&&s[o]?[].concat(d,s[o]):d}return{getClassGroupId:r,getConflictingClassGroupIds:a}}function dd(t,e){var a;if(t.length===0)return e.classGroupId;var n=t[0],i=e.nextPart.get(n),s=i?dd(t.slice(1),i):void 0;if(s)return s;if(e.validators.length!==0){var r=t.join(Qr);return(a=e.validators.find(function(o){var c=o.validator;return c(r)}))==null?void 0:a.classGroupId}}var no=/^\[(.+)\]$/;function Rf(t){if(no.test(t)){var e=no.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function Ff(t){var e=t.theme,n=t.prefix,i={nextPart:new Map,validators:[]},s=Vf(Object.entries(t.classGroups),n);return s.forEach(function(r){var a=r[0],o=r[1];hr(o,i,a,e)}),i}function hr(t,e,n,i){t.forEach(function(s){if(typeof s=="string"){var r=s===""?e:io(e,s);r.classGroupId=n;return}if(typeof s=="function"){if(Bf(s)){hr(s(i),e,n,i);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(a){var o=a[0],c=a[1];hr(c,io(e,o),n,i)})})}function io(t,e){var n=t;return e.split(Qr).forEach(function(i){n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n}function Bf(t){return t.isThemeGetter}function Vf(t,e){return e?t.map(function(n){var i=n[0],s=n[1],r=s.map(function(a){return typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(function(o){var c=o[0],d=o[1];return[e+c,d]})):a});return[i,r]}):t}function jf(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,i=new Map;function s(r,a){n.set(r,a),e++,e>t&&(e=0,i=n,n=new Map)}return{get:function(a){var o=n.get(a);if(o!==void 0)return o;if((o=i.get(a))!==void 0)return s(a,o),o},set:function(a,o){n.has(a)?n.set(a,o):s(a,o)}}}var hd="!";function zf(t){var e=t.separator||":",n=e.length===1,i=e[0],s=e.length;return function(a){for(var o=[],c=0,d=0,h,u=0;u<a.length;u++){var m=a[u];if(c===0){if(m===i&&(n||a.slice(u,u+s)===e)){o.push(a.slice(d,u)),d=u+s;continue}if(m==="/"){h=u;continue}}m==="["?c++:m==="]"&&c--}var g=o.length===0?a:a.substring(d),p=g.startsWith(hd),b=p?g.substring(1):g,y=h&&h>d?h-d:void 0;return{modifiers:o,hasImportantModifier:p,baseClassName:b,maybePostfixModifierPosition:y}}}function Wf(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(i){var s=i[0]==="[";s?(e.push.apply(e,n.sort().concat([i])),n=[]):n.push(i)}),e.push.apply(e,n.sort()),e}function Hf(t){return{cache:jf(t.cacheSize),splitModifiers:zf(t),...Of(t)}}var $f=/\s+/;function Uf(t,e){var n=e.splitModifiers,i=e.getClassGroupId,s=e.getConflictingClassGroupIds,r=new Set;return t.trim().split($f).map(function(a){var o=n(a),c=o.modifiers,d=o.hasImportantModifier,h=o.baseClassName,u=o.maybePostfixModifierPosition,m=i(u?h.substring(0,u):h),g=!!u;if(!m){if(!u)return{isTailwindClass:!1,originalClassName:a};if(m=i(h),!m)return{isTailwindClass:!1,originalClassName:a};g=!1}var p=Wf(c).join(":"),b=d?p+hd:p;return{isTailwindClass:!0,modifierId:b,classGroupId:m,originalClassName:a,hasPostfixModifier:g}}).reverse().filter(function(a){if(!a.isTailwindClass)return!0;var o=a.modifierId,c=a.classGroupId,d=a.hasPostfixModifier,h=o+c;return r.has(h)?!1:(r.add(h),s(c,d).forEach(function(u){return r.add(o+u)}),!0)}).reverse().map(function(a){return a.originalClassName}).join(" ")}function Yf(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i,s,r,a=o;function o(d){var h=e[0],u=e.slice(1),m=u.reduce(function(g,p){return p(g)},h());return i=Hf(m),s=i.cache.get,r=i.cache.set,a=c,c(d)}function c(d){var h=s(d);if(h)return h;var u=Uf(d,i);return r(d,u),u}return function(){return a(If.apply(null,arguments))}}function ne(t){var e=function(i){return i[t]||[]};return e.isThemeGetter=!0,e}var ud=/^\[(?:([a-z-]+):)?(.+)\]$/i,Gf=/^\d+\/\d+$/,qf=new Set(["px","full","screen"]),Kf=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Xf=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Zf=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function He(t){return Yt(t)||qf.has(t)||Gf.test(t)||ur(t)}function ur(t){return sn(t,"length",im)}function Jf(t){return sn(t,"size",fd)}function Qf(t){return sn(t,"position",fd)}function em(t){return sn(t,"url",sm)}function Ti(t){return sn(t,"number",Yt)}function Yt(t){return!Number.isNaN(Number(t))}function tm(t){return t.endsWith("%")&&Yt(t.slice(0,-1))}function An(t){return so(t)||sn(t,"number",so)}function $(t){return ud.test(t)}function Dn(){return!0}function xt(t){return Kf.test(t)}function nm(t){return sn(t,"",rm)}function sn(t,e,n){var i=ud.exec(t);return i?i[1]?i[1]===e:n(i[2]):!1}function im(t){return Xf.test(t)}function fd(){return!1}function sm(t){return t.startsWith("url(")}function so(t){return Number.isInteger(Number(t))}function rm(t){return Zf.test(t)}function am(){var t=ne("colors"),e=ne("spacing"),n=ne("blur"),i=ne("brightness"),s=ne("borderColor"),r=ne("borderRadius"),a=ne("borderSpacing"),o=ne("borderWidth"),c=ne("contrast"),d=ne("grayscale"),h=ne("hueRotate"),u=ne("invert"),m=ne("gap"),g=ne("gradientColorStops"),p=ne("gradientColorStopPositions"),b=ne("inset"),y=ne("margin"),x=ne("opacity"),N=ne("padding"),w=ne("saturate"),k=ne("scale"),_=ne("sepia"),C=ne("skew"),D=ne("space"),S=ne("translate"),M=function(){return["auto","contain","none"]},P=function(){return["auto","hidden","clip","visible","scroll"]},I=function(){return["auto",$,e]},L=function(){return[$,e]},U=function(){return["",He]},W=function(){return["auto",Yt,$]},T=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},j=function(){return["solid","dashed","dotted","double","none"]},F=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},J=function(){return["start","end","center","between","around","evenly","stretch"]},de=function(){return["","0",$]},ke=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},Oe=function(){return[Yt,Ti]},Ee=function(){return[Yt,$]};return{cacheSize:500,theme:{colors:[Dn],spacing:[He],blur:["none","",xt,$],brightness:Oe(),borderColor:[t],borderRadius:["none","","full",xt,$],borderSpacing:L(),borderWidth:U(),contrast:Oe(),grayscale:de(),hueRotate:Ee(),invert:de(),gap:L(),gradientColorStops:[t],gradientColorStopPositions:[tm,ur],inset:I(),margin:I(),opacity:Oe(),padding:L(),saturate:Oe(),scale:Oe(),sepia:de(),skew:Ee(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",$]}],container:["container"],columns:[{columns:[xt]}],"break-after":[{"break-after":ke()}],"break-before":[{"break-before":ke()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(T(),[$])}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",An]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$]}],grow:[{grow:de()}],shrink:[{shrink:de()}],order:[{order:["first","last","none",An]}],"grid-cols":[{"grid-cols":[Dn]}],"col-start-end":[{col:["auto",{span:["full",An]},$]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[Dn]}],"row-start-end":[{row:["auto",{span:[An]},$]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal"].concat(J())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(J(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(J(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[N]}],px:[{px:[N]}],py:[{py:[N]}],ps:[{ps:[N]}],pe:[{pe:[N]}],pt:[{pt:[N]}],pr:[{pr:[N]}],pb:[{pb:[N]}],pl:[{pl:[N]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[D]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[D]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",$,e]}],"min-w":[{"min-w":["min","max","fit",$,He]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[xt]},xt,$]}],h:[{h:[$,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",$,He]}],"max-h":[{"max-h":[$,e,"min","max","fit"]}],"font-size":[{text:["base",xt,ur]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ti]}],"font-family":[{font:[Dn]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$]}],"line-clamp":[{"line-clamp":["none",Yt,Ti]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",$,He]}],"list-image":[{"list-image":["none",$]}],"list-style-type":[{list:["none","disc","decimal",$]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(j(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",He]}],"underline-offset":[{"underline-offset":["auto",$,He]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(T(),[Qf])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Jf]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},em]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[].concat(j(),["hidden"])}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:j()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(j())}],"outline-offset":[{"outline-offset":[$,He]}],"outline-w":[{outline:[He]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[He]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",xt,nm]}],"shadow-color":[{shadow:[Dn]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":F()}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[i]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",xt,$]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[u]}],saturate:[{saturate:[w]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$]}],duration:[{duration:Ee()}],ease:[{ease:["linear","in","out","in-out",$]}],delay:[{delay:Ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",$]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[An,$]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[He,Ti]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var om=Yf(am);function Q(...t){return om(zn(t))}const fr=({isOpen:t,onClose:e,title:n,children:i,size:s="md",showCloseButton:r=!0})=>(v.useEffect(()=>{const o=c=>{c.key==="Escape"&&e()};return t&&(document.addEventListener("keydown",o),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",o),document.body.style.overflow="unset"}},[t,e]),t?f("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[l("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:e}),f("div",{className:Q("relative w-full mx-4 bg-white rounded-xl shadow-2xl border border-gray-100",{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl"}[s]),onClick:o=>o.stopPropagation(),children:[(n||r)&&f("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[n&&l("h2",{className:"text-xl font-semibold text-gray-900",children:n}),r&&l("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Close modal",children:l("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l("div",{className:"p-6",children:i})]})]}):null),me=v.forwardRef(({className:t,variant:e="default",size:n="default",asChild:i=!1,...s},r)=>{const a="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50",o={default:"bg-blue-600 text-white hover:bg-blue-700",destructive:"bg-red-600 text-white hover:bg-red-700",outline:"border border-gray-300 bg-white hover:bg-gray-50",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200",ghost:"hover:bg-gray-100",link:"text-blue-600 underline hover:no-underline"},c={default:"h-10 px-4 py-2",sm:"h-9 px-3",lg:"h-11 px-6",icon:"h-10 w-10"};return i?v.cloneElement(v.Children.only(s.children),{className:Q(a,o[e],c[n],t),ref:r,...s}):l("button",{className:Q(a,o[e],c[n],t),ref:r,...s})});me.displayName="Button";const md=({isOpen:t,onClose:e,onConfirm:n,title:i,message:s,confirmText:r="Confirm",cancelText:a="Cancel",variant:o="default",loading:c=!1})=>l(fr,{isOpen:t,onClose:e,title:i,size:"sm",children:f("div",{className:"space-y-6",children:[l("p",{className:"text-gray-600 leading-relaxed",children:s}),f("div",{className:"flex gap-3 justify-end",children:[l(me,{variant:"outline",onClick:e,disabled:c,children:a}),l(me,{variant:o,onClick:n,disabled:c,children:c?f("div",{className:"flex items-center gap-2",children:[l("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Loading..."]}):r})]})]})}),gd=v.createContext(void 0),lm=({children:t})=>{const[e,n]=v.useState([]),i=v.useCallback(r=>{const a=Math.random().toString(36).substring(7),o={...r,id:a};n(c=>[...c,o]),setTimeout(()=>{n(c=>c.filter(d=>d.id!==a))},r.duration||5e3)},[]),s=v.useCallback(r=>{n(a=>a.filter(o=>o.id!==r))},[]);return f(gd.Provider,{value:{addToast:i,removeToast:s},children:[t,l(cm,{toasts:e,removeToast:s})]})},cm=({toasts:t,removeToast:e})=>t.length===0?null:l("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:t.map(n=>l(dm,{toast:n,onRemove:()=>e(n.id)},n.id))}),dm=({toast:t,onRemove:e})=>{const n={success:"bg-green-50 border-green-200 text-green-800",error:"bg-red-50 border-red-200 text-red-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800",info:"bg-blue-50 border-blue-200 text-blue-800"},i={success:"âœ…",error:"âŒ",warning:"âš ï¸",info:"â„¹ï¸"};return f("div",{className:Q("flex items-center gap-3 p-4 rounded-lg border shadow-lg min-w-80 animate-in slide-in-from-right",n[t.type]),children:[l("span",{className:"text-lg",children:i[t.type]}),l("span",{className:"flex-1 font-medium",children:t.message}),l("button",{onClick:e,className:"text-current opacity-70 hover:opacity-100 transition-opacity",children:"Ã—"})]})},pd=()=>{const t=v.useContext(gd);if(!t)throw new Error("useToast must be used within ToastProvider");return t},ea=()=>{var m;const{user:t,isAuthenticated:e,isAdmin:n,logout:i}=vi();nn();const[s,r]=v.useState(!1),[a,o]=v.useState(!1),[c,d]=v.useState(!1),{addToast:h}=pd(),u=async()=>{o(!0);try{await i(),h({type:"success",message:"Successfully logged out",duration:3e3})}catch(g){console.error("Sign out error:",g),h({type:"error",message:"Error during logout. Please try again.",duration:5e3}),localStorage.removeItem("auth_token"),sessionStorage.removeItem("auth_token"),window.location.href="/"}finally{o(!1),r(!1)}};return f("nav",{className:"bg-white/95 backdrop-blur-md shadow-lg border-b border-gray-100/50 sticky top-0 z-50",children:[l("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f("div",{className:"flex items-center justify-between h-16 sm:h-18 lg:h-20",children:[l("div",{className:"flex items-center",children:l(G,{to:"/",className:"flex-shrink-0 group",children:f("div",{className:"relative flex items-center justify-center",children:[l("div",{className:"absolute inset-0 bg-gradient-to-r from-[#EAB776]/20 via-[#B18059]/20 to-[#EAB776]/20 rounded-xl blur-lg group-hover:blur-xl transition-all duration-300 opacity-0 group-hover:opacity-100"}),l("img",{className:"relative h-6 w-auto sm:h-7 lg:h-8 transition-all duration-300 group-hover:scale-105",src:"/spectra-logo-new.png",alt:"Spectra - AI-Powered Color Intelligence",loading:"eager",decoding:"async",onError:g=>{console.log("New logo failed to load, using fallback"),g.currentTarget.src="/spectra_logo.png"}})]})})}),l("div",{className:"hidden md:block",children:f("div",{className:"ml-10 flex items-baseline space-x-4",children:[l(G,{to:"/",className:"text-gray-600 hover:text-[#B18059] px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 hover:bg-[#EAB776]/10",children:"Home"}),l(G,{to:"/about",className:"text-gray-600 hover:text-[#B18059] px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 hover:bg-[#EAB776]/10",children:"About"}),l(G,{to:"/ugc-offer",className:"text-gray-600 hover:text-[#B18059] px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 hover:bg-[#EAB776]/10",children:"Special Offer"}),l(G,{to:"/investors",className:"text-gray-600 hover:text-[#B18059] px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 hover:bg-[#EAB776]/10",children:"Investors"})]})}),l("div",{className:"md:hidden",children:l("button",{type:"button","aria-label":"Toggle menu","aria-expanded":c,onClick:()=>d(g=>!g),className:"inline-flex items-center justify-center rounded-md p-2 text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-300",children:c?l("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}):l("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})})}),l("div",{className:"hidden md:flex items-center gap-3",children:e?f("div",{className:"flex items-center gap-3",children:[f(G,{to:"/profile",className:"flex items-center gap-2 text-gray-700 hover:text-[#B18059] px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 hover:bg-[#EAB776]/10",children:[l("span",{children:"ðŸ‘¤"}),l("span",{className:"hidden sm:inline",children:(t==null?void 0:t.full_name)||((m=t==null?void 0:t.email)==null?void 0:m.split("@")[0])})]}),n&&f(G,{to:"/admin",className:"flex items-center gap-2 text-purple-600 hover:text-purple-700 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 hover:bg-purple-50",children:[l("span",{children:"ðŸ‘‘"}),l("span",{className:"hidden sm:inline",children:"Dashboard"})]}),f("button",{onClick:()=>r(!0),className:"flex items-center gap-2 text-red-600 hover:text-red-700 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 hover:bg-red-50",children:[l("span",{children:"ðŸšª"}),l("span",{className:"hidden sm:inline",children:"Sign Out"})]})]}):f(Qe,{children:[l(G,{to:"/login",className:"text-gray-600 hover:text-[#B18059] px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 hover:bg-[#EAB776]/10",children:"Sign In"}),l(G,{to:"/signup?trial=true",className:"bg-gradient-to-r from-[#EAB776] to-[#B18059] text-white px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 hover:from-[#B18059] hover:to-[#8B5D44] shadow-md hover:shadow-lg",children:"Sign Up"})]})})]})}),l("div",{className:`md:hidden ${c?"block":"hidden"}`,children:l("div",{className:"px-4 pb-4 border-t border-gray-100 bg-white/95 backdrop-blur-md shadow",children:f("div",{className:"flex flex-col gap-2 py-3",children:[l(G,{to:"/",onClick:()=>d(!1),className:"px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-100",children:"Home"}),l(G,{to:"/about",onClick:()=>d(!1),className:"px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-100",children:"About"}),l(G,{to:"/ugc-offer",onClick:()=>d(!1),className:"px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-100",children:"Special Offer"}),l(G,{to:"/investors",onClick:()=>d(!1),className:"px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-100",children:"Investors"}),l("div",{className:"border-t border-gray-100 my-2"}),e?f(Qe,{children:[l(G,{to:"/profile",onClick:()=>d(!1),className:"px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-100",children:"Profile"}),n&&l(G,{to:"/admin",onClick:()=>d(!1),className:"px-3 py-2 rounded-lg text-purple-700 hover:bg-purple-50",children:"Dashboard"}),l("button",{onClick:()=>{r(!0),d(!1)},className:"text-left px-3 py-2 rounded-lg text-red-600 hover:bg-red-50",children:"Sign Out"})]}):f(Qe,{children:[l(G,{to:"/login",onClick:()=>d(!1),className:"px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-100",children:"Sign In"}),l(G,{to:"/signup?trial=true",onClick:()=>d(!1),className:"px-3 py-2 rounded-md text-white bg-gradient-to-r from-[#EAB776] to-[#B18059]",children:"Sign Up"})]})]})})}),l(md,{isOpen:s,onClose:()=>r(!1),onConfirm:u,title:"Confirm Logout",message:"Are you sure you want to log out?",confirmText:"Yes, Log Out",cancelText:"Cancel",variant:"destructive",loading:a})]})};class kt{constructor(){this.metrics=new Map,this.callbacks=[]}static getInstance(){return kt.instance||(kt.instance=new kt),kt.instance}onUpdate(e){this.callbacks.push(e)}notify(e,n,i){this.callbacks.forEach(s=>s(e,n,i))}startTiming(e){this.metrics.set(e,performance.now()),this.notify("performance",`â±ï¸ Started timing: ${e}`)}endTiming(e){const n=this.metrics.get(e);if(!n){const r=`No start time found for: ${e}`;return console.warn(r),this.notify("warning",`âš ï¸ ${r}`),0}const i=performance.now()-n,s=`âš¡ ${e}: ${i.toFixed(2)}ms`;return console.log(s),this.notify("performance",s,{label:e,duration:i}),this.metrics.delete(e),i}measureChunkLoading(){const e=new PerformanceObserver(n=>{for(const i of n.getEntries())if(i.name.includes("chunk")||i.name.includes(".js")||i.name.includes(".css")){const s=`ðŸ“¦ Resource loaded: ${i.name.split("/").pop()} (${i.duration.toFixed(2)}ms)`;console.log(s),this.notify("performance",s,i)}});typeof window<"u"&&"PerformanceObserver"in window&&e.observe({entryTypes:["navigation","resource"]})}logBundleSize(){if("navigator"in window&&"connection"in navigator){const e=navigator.connection,n=`ðŸŒ Network: ${e.effectiveType}, Downlink: ${e.downlink}Mbps`;console.log(n),this.notify("info",n,e)}}logComponentRender(e,n){const i=n?`ðŸ”„ ${e} rendered in ${n.toFixed(2)}ms`:`ðŸ”„ ${e} rendered`;console.log(i),this.notify("info",i,{componentName:e,renderTime:n})}logError(e,n){const i=`âŒ Error${n?` in ${n}`:""}: ${e}`;console.error(i),this.notify("error",i,{error:e,context:n})}logApiCall(e,n,i,s){const r=i?`ðŸŒ API ${n} ${e} - ${s} (${i.toFixed(2)}ms)`:`ðŸŒ API ${n} ${e} started`;console.log(r),this.notify("info",r,{url:e,method:n,duration:i,status:s})}}if(typeof window<"u"){const t=kt.getInstance();t.measureChunkLoading(),t.logBundleSize(),window.addEventListener("error",e=>{t.logError(e.error||e.message,"Global Error Handler")}),window.addEventListener("unhandledrejection",e=>{t.logError(e.reason,"Unhandled Promise Rejection")})}const hm=()=>{const[t,e]=v.useState(!1),[n,i]=v.useState([]),[s,r]=v.useState("all"),a=v.useRef(null);kt.getInstance(),v.useEffect(()=>{a.current&&(a.current.scrollTop=a.current.scrollHeight)},[n]),v.useEffect(()=>{},[]),v.useEffect(()=>{const m=console.log,g=console.error,p=console.warn;return console.log=(...b)=>{var y,x,N;((y=b[0])!=null&&y.includes("âš¡")||(x=b[0])!=null&&x.includes("ðŸ“¦")||(N=b[0])!=null&&N.includes("ðŸŒ"))&&o("performance",b.join(" ")),m.apply(console,b)},console.error=(...b)=>{o("error",b.join(" "),b),g.apply(console,b)},console.warn=(...b)=>{o("warning",b.join(" "),b),p.apply(console,b)},()=>{console.log=m,console.error=g,console.warn=p}},[]);const o=(m,g,p)=>{const b={id:Date.now().toString(),timestamp:new Date,type:m,message:g,details:p};i(y=>[...y.slice(-99),b])},c=()=>i([]),d=n.filter(m=>s==="all"||m.type===s),h=m=>{switch(m){case"error":return"text-red-400";case"warning":return"text-yellow-400";case"success":return"text-green-400";case"performance":return"text-blue-400";default:return"text-gray-300"}},u=m=>{switch(m){case"error":return"âŒ";case"warning":return"âš ï¸";case"success":return"âœ…";case"performance":return"âš¡";default:return"â„¹ï¸"}};return f(Qe,{children:[l("button",{onClick:()=>e(!t),className:"fixed bottom-4 right-4 z-50 bg-gray-900 text-white p-3 rounded-full shadow-lg hover:bg-gray-800 transition-colors",title:"Open/Close Dev Terminal",children:t?"ðŸ“Ÿ":"ðŸ”§"}),t&&f("div",{className:"fixed bottom-16 right-4 z-40 w-96 h-96 bg-gray-900 border border-gray-700 rounded-lg shadow-2xl flex flex-col",children:[l("div",{className:"bg-gray-800 p-3 rounded-t-lg border-b border-gray-700",children:f("div",{className:"flex items-center justify-between",children:[l("h3",{className:"text-white font-mono text-sm",children:"ðŸ”§ Dev Terminal"}),f("div",{className:"flex gap-2",children:[f("select",{value:s,onChange:m=>r(m.target.value),className:"bg-gray-700 text-white text-xs px-2 py-1 rounded",children:[l("option",{value:"all",children:"All"}),l("option",{value:"info",children:"Info"}),l("option",{value:"performance",children:"Performance"}),l("option",{value:"warning",children:"Warnings"}),l("option",{value:"error",children:"Errors"}),l("option",{value:"success",children:"Success"})]}),l("button",{onClick:c,className:"bg-red-600 hover:bg-red-700 text-white text-xs px-2 py-1 rounded",children:"Clear"})]})]})}),l("div",{ref:a,className:"flex-1 overflow-y-auto p-2 bg-gray-900 font-mono text-xs",children:d.length===0?l("div",{className:"text-gray-500 text-center mt-8",children:"No logs to display..."}):d.map(m=>f("div",{className:"mb-2 leading-tight",children:[f("div",{className:"flex items-start gap-2",children:[l("span",{className:"text-gray-500 shrink-0",children:m.timestamp.toLocaleTimeString("he-IL")}),l("span",{className:"shrink-0",children:u(m.type)}),l("span",{className:`flex-1 ${h(m.type)}`,children:m.message})]}),m.details&&l("div",{className:"text-gray-400 text-xs mt-1 mr-16 bg-gray-800 p-1 rounded",children:JSON.stringify(m.details,null,2)})]},m.id))}),l("div",{className:"bg-gray-800 p-2 rounded-b-lg border-t border-gray-700 text-xs text-gray-400",children:f("div",{className:"flex justify-between",children:[f("span",{children:["Logs: ",d.length]}),f("span",{children:["HMR: ","ðŸ”´"]}),l("span",{children:"Mode: Dev"})]})})]})]})},um="modulepreload",fm=function(t,e){return new URL(t,e).href},ro={},mm=function(e,n,i){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(r=>{if(r=fm(r,i),r in ro)return;ro[r]=!0;const a=r.endsWith(".css"),o=a?'[rel="stylesheet"]':"";if(!!i)for(let h=s.length-1;h>=0;h--){const u=s[h];if(u.href===r&&(!a||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${o}`))return;const d=document.createElement("link");if(d.rel=a?"stylesheet":um,a||(d.as="script",d.crossOrigin=""),d.href=r,document.head.appendChild(d),a)return new Promise((h,u)=>{d.addEventListener("load",h),d.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>e()).catch(r=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=r,window.dispatchEvent(a),!a.defaultPrevented)throw r})},wi=({className:t=""})=>l("div",{className:`animate-spin rounded-full h-6 w-6 border-b-2 border-white ${t}`}),bd=()=>{const t=g=>{try{typeof window<"u"&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push(g),console.log("ðŸ“Š GTM Event pushed:",g))}catch(p){console.warn("Failed to push GTM event:",p)}};return{pushEvent:t,trackLeadSubmission:g=>{t({event:"lead_submission",event_category:"Lead Generation",event_action:"Form Submit",event_label:g.source_page,lead_source:g.utm_source||"direct",lead_page:g.source_page,user_email:g.email,utm_source:g.utm_source,utm_medium:g.utm_medium,utm_campaign:g.utm_campaign,company_name:g.company_name,full_name:g.full_name})},trackPageView:(g,p)=>{t({event:"page_view",page_path:g,page_title:p||document.title})},trackCTAClick:(g,p,b)=>{t({event:"cta_click",event_category:"CTA",event_action:"Click",event_label:g,cta_location:p,cta_path:b});try{const y={full_name:"CTA Click",email:"cta@spectra.local",phone:void 0,company_name:void 0,message:`cta=${g}; location=${p}; path=${b||""}`,source_page:typeof window<"u"?window.location.pathname:"unknown",utm_source:typeof window<"u"&&new URLSearchParams(window.location.search).get("utm_source")||void 0,utm_medium:typeof window<"u"&&new URLSearchParams(window.location.search).get("utm_medium")||void 0,utm_campaign:typeof window<"u"&&new URLSearchParams(window.location.search).get("utm_campaign")||void 0};fetch("/.netlify/functions/leads",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y),keepalive:!0}).catch(()=>{})}catch{}},trackVideoPlay:(g,p)=>{t({event:"video_play",event_category:"Video",event_action:"Play",event_label:g,video_location:p})},trackVideoPause:(g,p)=>{t({event:"video_pause",event_category:"Video",event_action:"Pause",event_label:g,video_current_time:p})},trackDemoBooking:g=>{t({event:"demo_booking",event_category:"Conversion",event_action:"Demo Book",event_label:g,value:1})},trackTrialSignup:g=>{t({event:"trial_signup",event_category:"Conversion",event_action:"Trial Start",event_label:g,value:1})},trackFeatureView:g=>{t({event:"feature_view",event_category:"Feature",event_action:"View",event_label:g})},trackSocialClick:(g,p)=>{t({event:"social_click",event_category:"Social",event_action:p,event_label:g})},trackScrollDepth:(g,p)=>{t({event:"scroll_depth",event_category:"Engagement",event_action:"Scroll",event_label:`${g}%`,page_path:p,scroll_depth:g})},trackDownload:(g,p)=>{t({event:"file_download",event_category:"Download",event_action:p,event_label:g})},trackError:(g,p,b)=>{t({event:"error",event_category:"Error",event_action:g,event_label:p,page_path:b})}}},gm=v.lazy(()=>mm(()=>Promise.resolve().then(()=>Sm),void 0,import.meta.url).then(t=>({default:t.ClientCarousel}))),pm=()=>{const[t,e]=v.useState(!1),n=nn(),{trackCTAClick:i,trackPageView:s}=bd();v.useEffect(()=>{const a="ugc_popup_shown",o="ugc_popup_closed_at",c="ugc_current_page",d="ugc_left_home_page",h=localStorage.getItem(a),u=localStorage.getItem(o),m=localStorage.getItem(d);localStorage.setItem(c,"home");let g=2e4,p=!0;if(h&&u&&(m?(g=4e4,localStorage.removeItem(d)):p=!1),!p)return;const b=setTimeout(()=>{e(!0),localStorage.setItem(a,"true")},g);return()=>clearTimeout(b)},[]),v.useEffect(()=>{const a=()=>{localStorage.getItem("ugc_current_page")==="home"&&localStorage.setItem("ugc_left_home_page","true")},o=()=>{document.hidden&&localStorage.getItem("ugc_current_page")==="home"&&localStorage.setItem("ugc_left_home_page","true")};return window.addEventListener("beforeunload",a),document.addEventListener("visibilitychange",o),()=>{window.removeEventListener("beforeunload",a),document.removeEventListener("visibilitychange",o)}},[]);const r=()=>{e(!1),localStorage.setItem("ugc_popup_closed_at",Date.now().toString())};return f(Qe,{children:[f("section",{className:"relative pt-20 pb-8 sm:pt-24 sm:pb-12 lg:pt-32 lg:pb-16 overflow-hidden min-h-[90vh] sm:min-h-screen",children:[l("div",{className:"absolute inset-0 gradient-bg-hero"}),l("div",{className:"absolute inset-0 opacity-[0.015]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='80' height='80' viewBox='0 0 80 80' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23c79c6d' fill-opacity='1'%3E%3Ccircle cx='40' cy='40' r='0.8'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),l("div",{className:"relative max-w-6xl mx-auto px-4 sm:px-8 lg:px-16",children:f("div",{className:"text-center",children:[f("div",{className:"flex items-center justify-center gap-2 sm:gap-3 mb-8 sm:mb-12",children:[l("div",{className:"w-1 h-1 sm:w-1.5 sm:h-1.5 bg-gradient-to-r from-spectra-gold-light to-spectra-gold rounded-full shadow-sm"}),l("span",{className:"text-spectra-gold-dark text-[10px] sm:text-xs font-semibold uppercase tracking-[0.2em] sm:tracking-[0.25em] opacity-90 px-2 text-center",children:"Trusted by 1,500+ Hair Professionals"}),l("div",{className:"w-1 h-1 sm:w-1.5 sm:h-1.5 bg-gradient-to-r from-spectra-gold to-spectra-gold-dark rounded-full shadow-sm"})]}),f("div",{className:"mb-10 sm:mb-14 lg:mb-20 transform scale-[0.9]",children:[l("h1",{className:"text-5xl sm:text-6xl md:text-7xl lg:text-8xl xl:text-9xl font-extralight text-spectra-charcoal mb-4 sm:mb-5 lg:mb-7 leading-[0.9] tracking-[-0.02em]",children:"Stop Losing"}),l("h1",{className:"text-5xl sm:text-6xl md:text-7xl lg:text-8xl xl:text-9xl font-extralight text-spectra-charcoal mb-4 sm:mb-5 lg:mb-7 leading-[0.9] tracking-[-0.02em]",children:"Money on"}),l("h1",{className:"text-5xl sm:text-6xl md:text-7xl lg:text-8xl xl:text-9xl font-light text-transparent bg-clip-text bg-gradient-to-r from-spectra-gold-light via-spectra-gold to-spectra-gold-dark leading-[0.9] tracking-[-0.02em]",children:"Wasted Hair Color"})]}),f("p",{className:"transform scale-[0.9] text-lg sm:text-xl md:text-2xl lg:text-3xl xl:text-4xl text-spectra-charcoal-light mb-12 sm:mb-16 lg:mb-20 leading-[1.3] sm:leading-[1.2] font-light max-w-xs sm:max-w-2xl lg:max-w-5xl mx-auto tracking-[-0.01em] px-2 sm:px-0",children:["Spectra's"," ",l("span",{className:"font-semibold text-gradient-spectra",children:"AI-powered platform"})," ","cuts color waste byÂ ",l("span",{className:"font-semibold text-gradient-spectra",children:"85%"})," ","and saves salons",f("span",{className:"font-semibold text-gradient-spectra",children:[" ","up toÂ $10,000+ a year"]}),". Get set up in"," ",l("span",{className:"font-semibold text-gradient-spectra",children:"5Â minutes"}),"."]}),f("div",{className:"transform scale-[0.85] flex flex-col sm:flex-row gap-4 sm:gap-6 justify-center items-center mb-16 sm:mb-20 lg:mb-24 px-4 sm:px-0",children:[l(G,{to:"/signup?trial=true",className:"inline-block px-8 py-4 bg-blue-500 hover:bg-blue-600 text-white font-semibold text-lg rounded-full transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02] text-center min-w-fit",onClick:()=>i("Start Free Trial","Hero Section"),children:"Start Free Trial"}),f("button",{className:"group flex items-center gap-3 sm:gap-4 text-spectra-charcoal-light hover:text-spectra-gold font-medium text-base sm:text-lg transition-all duration-300 px-4 sm:px-8 py-3 sm:py-4 justify-center min-w-fit",onClick:()=>i("Watch Demo","Hero Section"),children:[l("div",{className:"w-12 h-12 sm:w-14 sm:h-14 bg-gradient-to-br from-spectra-cream-dark to-spectra-cream group-hover:from-spectra-gold/10 group-hover:to-spectra-gold-light/10 rounded-full flex items-center justify-center transition-all duration-300 shadow-sm hover:shadow-md border border-spectra-gold/10 group-hover:border-spectra-gold/20 flex-shrink-0",children:l("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 ml-0.5 sm:ml-1",fill:"currentColor",viewBox:"0 0 20 20",children:l("path",{d:"M8 5v10l8-5-8-5z"})})}),f("div",{className:"text-left",children:[l("div",{className:"font-semibold",children:"Watch Demo"}),l("div",{className:"text-sm text-spectra-gold-dark",children:"2 minutes"})]})]})]}),l("div",{className:"mb-6 sm:mb-8",children:l("p",{className:"text-base sm:text-lg text-spectra-charcoal-light font-light px-4 sm:px-0",children:"Don't just take our word for it..."})}),l("div",{className:"mb-8 sm:mb-12 -mx-4 sm:mx-0",children:l(v.Suspense,{fallback:l(wi,{}),children:l(gm,{})})}),f("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-2 sm:gap-4 mb-6 sm:mb-8 px-4 sm:px-0",children:[l("div",{className:"flex gap-1",children:[...Array(5)].map((a,o)=>l("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-spectra-gold drop-shadow-sm",fill:"currentColor",viewBox:"0 0 20 20",children:l("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},o))}),l("span",{className:"text-spectra-charcoal-light text-sm sm:text-base font-medium text-center",children:"4.9 from 650+ reviews"})]}),f("div",{className:"text-center px-4 sm:px-0",children:[l("p",{className:"text-base sm:text-lg text-spectra-charcoal-light font-light mb-4 sm:mb-6",children:"Ready to see it in action?"}),l("div",{className:"w-px h-6 sm:h-8 bg-gradient-to-b from-spectra-gold/50 to-transparent mx-auto"})]})]})})]}),t&&l("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/60 px-2 py-4",children:f("div",{className:"relative w-full max-w-sm bg-white rounded-2xl shadow-2xl p-4 flex flex-col",children:[l("button",{onClick:r,className:"absolute top-3 right-3 w-8 h-8 flex items-center justify-center text-gray-500 hover:text-black","aria-label":"Close",children:l("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),f("div",{className:"mb-4 text-center",children:[l("span",{className:"inline-block bg-pink-100 text-pink-600 text-xs font-bold rounded-full px-3 py-1 mb-2",children:"AMAZING OPPORTUNITY"}),l("h2",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Join Our Content"}),l("h3",{className:"text-lg font-semibold text-pink-500 mb-2",children:"Creators Plan"}),l("p",{className:"text-gray-600 text-sm mb-2",children:"An incredible opportunity to join our content creators program with tons of amazing gifts!"})]}),f("div",{className:"space-y-4 mb-6",children:[f("div",{className:"flex flex-col items-center",children:[l("div",{className:"w-8 h-8 bg-pink-100 rounded-full flex items-center justify-center mb-1",children:l("svg",{className:"w-4 h-4 text-pink-500",fill:"currentColor",viewBox:"0 0 20 20",children:l("circle",{cx:"10",cy:"10",r:"10"})})}),l("span",{className:"text-gray-700 text-sm text-center",children:"Free professional equipment worth $2,000+"})]}),f("div",{className:"flex flex-col items-center",children:[l("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center mb-1",children:l("svg",{className:"w-4 h-4 text-purple-500",fill:"currentColor",viewBox:"0 0 20 20",children:l("circle",{cx:"10",cy:"10",r:"10"})})}),l("span",{className:"text-gray-700 text-sm text-center",children:"Exclusive brand partnerships & collaborations"})]}),f("div",{className:"flex flex-col items-center",children:[l("div",{className:"w-8 h-8 bg-amber-100 rounded-full flex items-center justify-center mb-1",children:l("svg",{className:"w-4 h-4 text-amber-500",fill:"currentColor",viewBox:"0 0 20 20",children:l("circle",{cx:"10",cy:"10",r:"10"})})}),l("span",{className:"text-gray-700 text-sm text-center",children:"Monthly surprise gift packages"})]}),f("div",{className:"flex flex-col items-center",children:[l("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mb-1",children:l("svg",{className:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:l("circle",{cx:"10",cy:"10",r:"10"})})}),l("span",{className:"text-gray-700 text-sm text-center",children:"VIP access to new products & features"})]})]}),f("div",{className:"mt-auto space-y-3",children:[l("button",{className:"w-full bg-gradient-to-r from-pink-500 to-purple-500 text-white font-bold py-3 rounded-xl shadow-lg text-base",onClick:()=>{n("/ugc-offer"),r()},children:"ðŸš€ I Want to Join & Get Gifts!"}),l("button",{className:"w-full border border-gray-300 text-gray-700 font-medium py-3 rounded-xl bg-white",children:"Tell Me More"})]})]})})]})},xd=()=>l("section",{className:"pt-16 pb-24 bg-gradient-to-b from-transparent via-spectra-cream/5 to-white",children:f("div",{className:"max-w-6xl mx-auto px-8 sm:px-12 lg:px-16",children:[f("div",{className:"text-center mb-16",children:[f("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-light text-spectra-charcoal mb-4",children:["See Spectra In"," ",l("span",{className:"text-gradient-spectra font-semibold",children:"Action"})]}),l("p",{className:"text-lg text-spectra-charcoal-light max-w-2xl mx-auto",children:"Watch a complete walkthrough of how Spectra transforms your daily workflow"})]}),l("div",{className:"flex justify-center mb-16",children:l("div",{className:"relative max-w-5xl w-full",children:f("div",{className:"relative group gpu",children:[l("div",{className:"absolute -inset-12 bg-gradient-to-br from-spectra-gold/15 via-spectra-gold-light/8 to-transparent rounded-[4rem] blur-2xl group-hover:blur-3xl transition-all duration-700 will-change-transform"}),f("div",{className:"relative",children:[f("div",{className:"bg-gradient-to-b from-gray-800 via-gray-900 to-gray-800 rounded-t-3xl p-3 shadow-2xl",children:[l("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 w-6 h-6 opacity-30",children:l("div",{className:"w-full h-full bg-gradient-to-br from-gray-300 to-gray-500 rounded-lg"})}),f("div",{className:"bg-black rounded-2xl overflow-hidden relative shadow-inner",children:[l("div",{className:"aspect-video relative z-20",children:l("iframe",{className:"w-full h-full rounded-2xl relative z-30",src:"https://www.youtube.com/embed/VA6F3PjUEX8?autoplay=0&mute=0&controls=1&modestbranding=1&rel=0&showinfo=0",title:"Spectra Hair Salon Demo",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0,loading:"eager"})}),l("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 via-transparent to-transparent z-10 rounded-2xl pointer-events-none"})]})]}),f("div",{className:"bg-gradient-to-b from-gray-200 to-gray-300 rounded-b-3xl h-12 shadow-xl relative",children:[l("div",{className:"absolute top-3 left-1/2 transform -translate-x-1/2 w-40 h-6 bg-gradient-to-b from-gray-100 to-gray-200 rounded-xl shadow-inner border border-gray-200"}),l("div",{className:"absolute top-2 left-12 right-12 h-2 bg-gradient-to-r from-transparent via-gray-300/30 to-transparent rounded-full"})]})]}),l("div",{className:"absolute -bottom-8 left-1/2 transform -translate-x-1/2 w-4/5 h-8 bg-gradient-to-b from-black/10 to-transparent rounded-full blur-xl"}),l("div",{className:"absolute top-1/4 -left-6 w-3 h-1/2 bg-gradient-to-r from-spectra-gold/15 to-transparent blur-lg"}),l("div",{className:"absolute top-1/4 -right-6 w-3 h-1/2 bg-gradient-to-l from-spectra-gold-light/15 to-transparent blur-lg"})]})})}),l("div",{className:"text-center mb-12",children:l("p",{className:"text-lg text-spectra-charcoal-light font-light",children:"Here's what you can expect:"})}),l("div",{className:"flex justify-center mb-16",children:l("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-8 max-w-4xl",children:[{value:"85%",label:"Less Waste",color:"from-green-500 to-green-400",accent:"border-green-500/20",desc:"Reduce color waste dramatically"},{value:"40%",label:"More Profit",color:"from-blue-500 to-blue-400",accent:"border-blue-500/20",desc:"Increase your bottom line"},{value:"5min",label:"Setup",color:"from-orange-500 to-yellow-400",accent:"border-orange-500/20",desc:"Quick and easy installation"}].map((t,e)=>l("div",{className:"group relative",children:f("div",{className:`card-glass p-8 border ${t.accent} hover:scale-105 text-center`,children:[l("div",{className:`text-4xl lg:text-5xl font-light bg-gradient-to-r ${t.color} bg-clip-text text-transparent mb-3 drop-shadow-sm`,children:t.value}),l("div",{className:"text-sm text-spectra-gold-dark font-semibold uppercase tracking-wider mb-2",children:t.label}),l("div",{className:"text-xs text-spectra-charcoal-light",children:t.desc})]})},e))})}),f("div",{className:"text-center",children:[l("p",{className:"text-spectra-charcoal-light font-light text-lg mb-8",children:"Experience the technology behind the magic"}),l("div",{className:"w-px h-12 bg-gradient-to-b from-spectra-gold/50 to-transparent mx-auto"})]})]})}),Rs=[{title:"Check In",description:"Client arrives and checks in using our simple interface",image:"/stap 1 chack in.jpeg",alt:"Client checking in at salon reception"},{title:"Select Service",description:"Choose the hair service and color treatment needed",image:"/stepn 2 select service.jpeg",alt:"Selecting hair service on tablet"},{title:"Scan Tube",description:"Scan the hair color tube to track usage automatically",image:"/step 3 scan tube.jpeg",alt:"Scanning hair color tube with barcode scanner"},{title:"Squeeze Color",description:"Dispense the exact amount needed - no waste, perfect results",image:"/step 4 squiz the color.jpeg",alt:"Dispensing hair color from tube"},{title:"Track & Save",description:"System automatically tracks usage and calculates savings",image:"/step_5.jpg",alt:"Final step showing tracking and savings dashboard"}],ao=[{id:"inventory-tracking",title:"Real-Time Inventory",description:"Track every tube in real-time. Know exactly what you have and when to reorder.",image:"/inventory.png",position:"top-left"},{id:"color-matching",title:"Smart Color Matching",description:"AI-powered color analysis for perfect matches every time.",image:"/assets/Smart Color Tracking.png",position:"top-right"},{id:"trend-analytics",title:"Trend Analytics",description:"Stay ahead with real-time trend analysis and predictions.",image:"/assets/ai-featuer.png",position:"bottom-left"},{id:"client-history",title:"Client History",description:"Complete client profiles with color history and preferences.",image:"/profile-kendall.jpg",position:"bottom-right"}],bm=()=>{const[t,e]=v.useState(null);return l("section",{className:"py-16 bg-gradient-to-br from-gray-50 to-white overflow-hidden",children:f("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f("div",{className:"text-center mb-16",children:[l("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Smart Color Intelligence"}),l("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Revolutionary AI-powered system that transforms how salons manage colors, track inventory, and delight clients."})]}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-16",children:ao.map(n=>f("div",{className:`bg-white rounded-xl shadow-sm border border-gray-100 p-6 cursor-pointer transition-all duration-300 hover:shadow-lg hover:scale-105 ${t===n.id?"ring-2 ring-blue-500 shadow-lg scale-105":""}`,onClick:()=>e(t===n.id?null:n.id),children:[l("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center mb-4",children:l("span",{className:"text-2xl",children:"ðŸŽ¨"})}),l("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:n.title}),l("p",{className:"text-gray-600 text-sm",children:n.description})]},n.id))}),t&&l("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-8 transition-all duration-500",children:ao.filter(n=>n.id===t).map(n=>f("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[f("div",{children:[l("h3",{className:"text-3xl font-bold text-gray-900 mb-4",children:n.title}),l("p",{className:"text-lg text-gray-600 mb-6",children:n.description}),f("div",{className:"space-y-4",children:[f("div",{className:"flex items-center space-x-3",children:[l("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),l("span",{className:"text-gray-700",children:"Real-time updates"})]}),f("div",{className:"flex items-center space-x-3",children:[l("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),l("span",{className:"text-gray-700",children:"AI-powered insights"})]}),f("div",{className:"flex items-center space-x-3",children:[l("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),l("span",{className:"text-gray-700",children:"Mobile-friendly interface"})]})]})]}),l("div",{className:"relative",children:l("img",{src:n.image,alt:n.title,className:"w-full h-64 object-cover rounded-xl shadow-lg"})})]},n.id))})]})})},yd=({backgroundImage:t="https://images.unsplash.com/photo-1521590832167-7bcbfaa6381f?q=80&w=2940&auto=format&fit=crop",title:e="Ready to",subtitle:n="Connect?",description:i="Let's transform your salon together. We're here to help you succeed."})=>{const{trackSocialClick:s,trackDemoBooking:r}=bd();return f("section",{className:"relative py-20 lg:py-32 overflow-hidden max-w-full",children:[l("div",{className:"absolute inset-0 z-0",style:{backgroundImage:`
            linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.8)),
            url('${t}')
          `,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed"}}),f("div",{className:"absolute inset-0 overflow-hidden",children:[l("div",{className:"absolute top-20 left-20 w-96 h-96 bg-gradient-to-br from-white/5 to-transparent rounded-full blur-3xl animate-pulse"}),l("div",{className:"absolute bottom-32 right-16 w-80 h-80 bg-gradient-to-br from-blue-400/10 to-purple-500/10 rounded-full blur-3xl animate-pulse delay-1000"}),l("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-72 h-72 bg-gradient-to-br from-amber-400/8 to-orange-500/8 rounded-full blur-3xl animate-pulse delay-500"}),l("div",{className:"absolute top-10 right-32 w-64 h-64 bg-gradient-to-br from-pink-400/5 to-purple-400/5 rounded-full blur-2xl animate-pulse delay-2000"}),l("div",{className:"absolute bottom-10 left-32 w-48 h-48 bg-gradient-to-br from-cyan-400/8 to-blue-400/8 rounded-full blur-2xl animate-pulse delay-3000"})]}),f("div",{className:"relative z-10 max-w-7xl mx-auto px-8 sm:px-12 lg:px-16",children:[f("div",{className:"text-center mb-16",children:[f("div",{className:"inline-flex items-center gap-4 bg-white/10 backdrop-blur-3xl rounded-full px-8 py-4 mb-8 border border-white/20 shadow-2xl",children:[l("div",{className:"w-2 h-2 bg-gradient-to-r from-white to-gray-300 rounded-full animate-pulse"}),l("span",{className:"text-white/90 text-sm font-semibold uppercase tracking-[0.3em]",children:"Get In Touch"}),l("div",{className:"w-2 h-2 bg-gradient-to-r from-blue-400 to-cyan-300 rounded-full animate-pulse"})]}),l("h2",{className:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-extralight text-white mb-6 leading-[0.9] tracking-[-0.02em]",children:e}),l("h2",{className:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-light text-transparent bg-clip-text bg-gradient-to-r from-blue-300 via-purple-300 to-pink-300 leading-[0.9] tracking-[-0.02em] drop-shadow-2xl mb-8",children:n}),l("p",{className:"text-xl lg:text-2xl text-white/80 max-w-4xl mx-auto leading-relaxed font-light",children:i})]}),l("div",{className:"mb-16 px-4",children:l("div",{className:"relative max-w-4xl mx-auto",children:f("div",{className:"relative p-4 sm:p-8 lg:p-12 bg-white/15 backdrop-blur-3xl rounded-[2rem] sm:rounded-[3rem] border border-white/25 shadow-2xl overflow-hidden",children:[l("div",{className:"absolute top-6 right-8 w-16 h-16 bg-gradient-to-br from-orange-400/20 to-red-500/20 rounded-full blur-xl animate-pulse"}),l("div",{className:"absolute bottom-6 left-8 w-12 h-12 bg-gradient-to-br from-purple-400/20 to-pink-300/20 rounded-full blur-xl animate-pulse delay-1000"}),l("div",{className:"absolute top-1/2 left-1/4 w-8 h-8 bg-gradient-to-br from-amber-400/20 to-orange-500/20 rounded-full blur-lg animate-pulse delay-500"}),f("div",{className:"relative z-10 text-center",children:[l("div",{className:"w-20 h-20 bg-gradient-to-br from-orange-400 to-red-500 rounded-3xl flex items-center justify-center shadow-2xl backdrop-blur-xl border border-white/30 mx-auto mb-6 group-hover:scale-110 transition-transform duration-500",children:l("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),l("h3",{className:"text-3xl lg:text-4xl font-light text-white mb-4 leading-tight tracking-[-0.02em]",children:"Book Your Demo"}),l("p",{className:"text-lg text-white/80 mb-8 leading-relaxed font-light max-w-2xl mx-auto",children:"See Spectra in action with a personalized walkthrough"}),f("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl p-6 mb-8 border border-white/20",children:[l("h4",{className:"text-white font-semibold mb-4",children:"Available This Week:"}),f("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[f("div",{className:"bg-white/15 backdrop-blur-xl rounded-xl p-3 border border-white/20 hover:bg-white/20 transition-all duration-300 cursor-pointer group",children:[l("div",{className:"text-white/90 text-sm font-medium",children:"Today"}),l("div",{className:"text-white/70 text-xs",children:"2:00 PM"}),l("div",{className:"w-2 h-2 bg-green-400 rounded-full mt-2 group-hover:scale-125 transition-transform"})]}),f("div",{className:"bg-white/15 backdrop-blur-xl rounded-xl p-3 border border-white/20 hover:bg-white/20 transition-all duration-300 cursor-pointer group",children:[l("div",{className:"text-white/90 text-sm font-medium",children:"Tomorrow"}),l("div",{className:"text-white/70 text-xs",children:"10:00 AM"}),l("div",{className:"w-2 h-2 bg-green-400 rounded-full mt-2 group-hover:scale-125 transition-transform"})]}),f("div",{className:"bg-white/15 backdrop-blur-xl rounded-xl p-3 border border-white/20 hover:bg-white/20 transition-all duration-300 cursor-pointer group",children:[l("div",{className:"text-white/90 text-sm font-medium",children:"Wed"}),l("div",{className:"text-white/70 text-xs",children:"3:30 PM"}),l("div",{className:"w-2 h-2 bg-green-400 rounded-full mt-2 group-hover:scale-125 transition-transform"})]}),f("div",{className:"bg-white/15 backdrop-blur-xl rounded-xl p-3 border border-white/20 hover:bg-white/20 transition-all duration-300 cursor-pointer group",children:[l("div",{className:"text-white/90 text-sm font-medium",children:"Thu"}),l("div",{className:"text-white/70 text-xs",children:"1:00 PM"}),l("div",{className:"w-2 h-2 bg-green-400 rounded-full mt-2 group-hover:scale-125 transition-transform"})]})]})]}),f("a",{href:"/signup?trial=true",className:"group relative inline-flex items-center gap-3 px-10 py-5 bg-gradient-to-r from-[#FF9500] to-[#E6850E] hover:from-[#E6850E] hover:to-[#CC7A0D] text-white font-semibold text-lg rounded-full transition-all duration-300 shadow-2xl hover:shadow-3xl transform hover:scale-[1.02] border border-[#FF9500]/20",onClick:()=>r("trial-cta"),children:[l("span",{className:"relative z-10",children:"Start Free Trial"}),l("svg",{className:"w-5 h-5 relative z-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})}),l("div",{className:"absolute inset-0 bg-gradient-to-r from-[#E6850E] to-[#CC7A0D] rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]})]})})}),f("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6 mb-16 max-w-4xl mx-auto px-4",children:[f("div",{className:"group relative",children:[l("div",{className:"absolute -inset-4 rounded-[2.5rem] blur-xl opacity-0 group-hover:opacity-50 transition-all duration-700 ease-out pointer-events-none bg-gradient-to-r from-green-400/40 to-green-500/40"}),f("a",{href:"https://wa.me/972504322680?text=Hi! I'm interested in learning more about Spectra",target:"_blank",rel:"noopener noreferrer",className:"relative bg-white/15 backdrop-blur-3xl rounded-[2rem] border border-white/25 shadow-2xl hover:shadow-3xl transition-all duration-500 p-8 block group-hover:scale-[1.02] group-hover:border-white/40 h-full",onClick:()=>s("WhatsApp","whatsapp"),children:[l("div",{className:"absolute inset-1 rounded-[1.8rem] bg-gradient-to-br from-white/10 to-transparent pointer-events-none"}),f("div",{className:"relative flex flex-col items-center text-center h-full justify-center",children:[l("div",{className:"w-16 h-16 bg-gradient-to-br from-green-400 to-green-500 rounded-2xl flex items-center justify-center shadow-2xl backdrop-blur-xl border border-white/30 group-hover:scale-110 transition-transform duration-500 mb-4",children:l("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:l("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})})}),l("h3",{className:"text-xl font-bold text-white mb-2 tracking-tight",children:"WhatsApp"}),l("p",{className:"text-white/70 text-sm",children:"Instant support"})]})]})]}),f("div",{className:"group relative",children:[l("div",{className:"absolute -inset-4 rounded-[2.5rem] blur-xl opacity-0 group-hover:opacity-50 transition-all duration-700 ease-out pointer-events-none bg-gradient-to-r from-pink-400/40 to-purple-500/40"}),f("button",{className:"relative bg-white/15 backdrop-blur-3xl rounded-[2rem] border border-white/25 shadow-2xl hover:shadow-3xl transition-all duration-500 p-8 w-full group-hover:scale-[1.02] group-hover:border-white/40 h-full",onClick:()=>{const a="Hi! I'm interested in learning more about Spectra. Can you help me get started?";navigator.clipboard.writeText(a),window.open("https://www.instagram.com/spectra.ci/","_blank");const o=document.createElement("div");o.innerHTML=`
                  <div class="flex items-center gap-2">
                    <svg class="w-5 h-5 text-green-400" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    <span>Message copied! Paste it in Instagram DM</span>
                  </div>
                `,o.className="fixed top-4 right-4 bg-gray-900 text-white px-4 py-3 rounded-lg shadow-xl z-50 border border-gray-700",document.body.appendChild(o),setTimeout(()=>o.remove(),4e3)},children:[l("div",{className:"absolute inset-1 rounded-[1.8rem] bg-gradient-to-br from-white/10 to-transparent pointer-events-none"}),f("div",{className:"relative flex flex-col items-center text-center h-full justify-center",children:[l("div",{className:"w-16 h-16 bg-gradient-to-br from-pink-400 via-purple-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-2xl backdrop-blur-xl border border-white/30 group-hover:scale-110 transition-transform duration-500 mb-4",children:l("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 48 48",children:l("path",{d:"M24.0001 0.0955811C10.5343 0.0955811 0.0957031 9.95949 0.0957031 23.2828C0.0957031 30.2524 2.9518 36.2734 7.60264 40.4337C7.99371 40.7827 8.22893 41.2733 8.24519 41.7963L8.37522 46.0494C8.41634 47.4052 9.81809 48.2878 11.0583 47.7399L15.8028 45.6449C16.2053 45.468 16.6557 45.4345 17.0793 45.5522C19.2603 46.1517 21.58 46.471 23.9991 46.471C37.4649 46.471 47.9035 36.6071 47.9035 23.2838C47.9035 9.96044 37.4659 0.0955811 24.0001 0.0955811ZM38.8132 17.0954L30.4906 29.9579C30.068 30.611 29.1969 30.7974 28.5438 30.3748L20.8342 25.3864C20.5359 25.1933 20.1496 25.199 19.857 25.4008L11.1673 31.3941C9.89937 32.268 8.34941 30.7639 9.18606 29.4712L17.5096 16.6087C17.9322 15.9557 18.8033 15.7692 19.4554 16.1918L27.1669 21.1812C27.4653 21.3743 27.8516 21.3686 28.1441 21.1668L36.832 15.1745C38.0998 14.2996 39.6498 15.8046 38.8132 17.0973V17.0954Z"})})}),l("h3",{className:"text-xl font-bold text-white mb-2 tracking-tight",children:"Instagram DM"}),l("p",{className:"text-white/70 text-sm",children:"Direct message"})]})]})]}),f("div",{className:"group relative",children:[l("div",{className:"absolute -inset-4 rounded-[2.5rem] blur-xl opacity-0 group-hover:opacity-40 transition-all duration-700 ease-out pointer-events-none bg-gradient-to-r from-purple-400/30 to-pink-300/30"}),f("a",{href:"mailto:office@spectra-ci.com",className:"relative bg-white/15 backdrop-blur-3xl rounded-[2rem] border border-white/25 shadow-2xl hover:shadow-3xl transition-all duration-500 p-8 block group-hover:scale-[1.02] group-hover:border-white/40 h-full",children:[l("div",{className:"absolute inset-1 rounded-[1.8rem] bg-gradient-to-br from-white/10 to-transparent pointer-events-none"}),f("div",{className:"relative flex flex-col items-center text-center h-full justify-center",children:[l("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-400 to-pink-300 rounded-2xl flex items-center justify-center shadow-2xl backdrop-blur-xl border border-white/30 group-hover:scale-110 transition-transform duration-500 mb-4",children:l("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),l("h3",{className:"text-xl font-semibold text-white mb-2 tracking-tight",children:"Email Us"}),l("p",{className:"text-white/70 text-sm",children:"office@spectra-ci.com"})]})]})]}),f("div",{className:"group relative",children:[l("div",{className:"absolute -inset-4 rounded-[2.5rem] blur-xl opacity-0 group-hover:opacity-40 transition-all duration-700 ease-out pointer-events-none bg-gradient-to-r from-green-400/30 to-emerald-300/30"}),f("a",{href:"tel:+972504322680",className:"relative bg-white/15 backdrop-blur-3xl rounded-[2rem] border border-white/25 shadow-2xl hover:shadow-3xl transition-all duration-500 p-8 block group-hover:scale-[1.02] group-hover:border-white/40 h-full",children:[l("div",{className:"absolute inset-1 rounded-[1.8rem] bg-gradient-to-br from-white/10 to-transparent pointer-events-none"}),f("div",{className:"relative flex flex-col items-center text-center h-full justify-center",children:[l("div",{className:"w-16 h-16 bg-gradient-to-br from-green-400 to-emerald-300 rounded-2xl flex items-center justify-center shadow-2xl backdrop-blur-xl border border-white/30 group-hover:scale-110 transition-transform duration-500 mb-4",children:l("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),l("h3",{className:"text-xl font-semibold text-white mb-2 tracking-tight",children:"Call Us"}),l("p",{className:"text-white/70 text-sm",children:"+972-50-432-2680"})]})]})]})]}),f("div",{className:"flex justify-center items-center gap-6 mb-16",children:[l("a",{href:"https://www.youtube.com/@spectracolorintelligence",target:"_blank",rel:"noopener noreferrer",className:"group relative w-14 h-14 bg-red-500/20 backdrop-blur-xl rounded-2xl border border-white/20 shadow-xl hover:shadow-2xl transition-all duration-300 flex items-center justify-center hover:scale-110",children:l("svg",{className:"w-7 h-7 text-red-400",fill:"currentColor",viewBox:"0 0 24 24",children:l("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})}),l("a",{href:"https://www.linkedin.com/company/spectra-ci",target:"_blank",rel:"noopener noreferrer",className:"group relative w-14 h-14 bg-blue-500/20 backdrop-blur-xl rounded-2xl border border-white/20 shadow-xl hover:shadow-2xl transition-all duration-300 flex items-center justify-center hover:scale-110",children:l("svg",{className:"w-7 h-7 text-blue-400",fill:"currentColor",viewBox:"0 0 24 24",children:l("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})}),l("a",{href:"https://www.facebook.com/share/1CFHR3osmZ/?mibextid=wwXIfr",target:"_blank",rel:"noopener noreferrer",className:"group relative w-14 h-14 bg-blue-600/20 backdrop-blur-xl rounded-2xl border border-white/20 shadow-xl hover:shadow-2xl transition-all duration-300 flex items-center justify-center hover:scale-110",children:l("svg",{className:"w-7 h-7 text-blue-500",fill:"currentColor",viewBox:"0 0 24 24",children:l("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.367-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),l("a",{href:"https://www.instagram.com/spectra.ci/",target:"_blank",rel:"noopener noreferrer",className:"group relative w-14 h-14 bg-pink-500/20 backdrop-blur-xl rounded-2xl border border-white/20 shadow-xl hover:shadow-2xl transition-all duration-300 flex items-center justify-center hover:scale-110",children:l("svg",{className:"w-7 h-7 text-pink-400",fill:"currentColor",viewBox:"0 0 24 24",children:l("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})})]}),l("div",{className:"text-center",children:l("div",{className:"relative max-w-2xl mx-auto",children:l("div",{className:"relative p-8 bg-white/10 backdrop-blur-3xl rounded-[2rem] border border-white/20 shadow-2xl overflow-hidden",children:f("div",{className:"relative z-10",children:[l("h3",{className:"text-2xl lg:text-3xl font-light text-white mb-4 leading-tight tracking-[-0.02em]",children:"Ready to Start Your Revolution?"}),l("p",{className:"text-lg text-white/80 mb-8 leading-relaxed font-light",children:"Join thousands of salon professionals transforming their business"}),f("a",{href:"https://app.spectra-ci.com/signup?trial=true",target:"_blank",rel:"noopener noreferrer",className:"group relative inline-flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-[#FF9500] to-[#E6850E] hover:from-[#E6850E] hover:to-[#CC7A0D] text-white font-semibold text-base rounded-full transition-all duration-300 shadow-2xl hover:shadow-3xl transform hover:scale-[1.02] border border-[#FF9500]/20",children:[l("span",{className:"relative z-10",children:"Start Free Trial"}),l("div",{className:"absolute inset-0 bg-gradient-to-r from-[#E6850E] to-[#CC7A0D] rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]})})})})]})]})},vd={yourCustomSalon:"https://static.showit.co/800/urJrB1F2QqWXp97Gk9z2WA/75110/bm_12.jpg",modernSalon:"https://images.unsplash.com/photo-1521590832167-7bcbfaa6381f?q=80&w=2940&auto=format&fit=crop",luxurySalon:"https://images.unsplash.com/photo-1560066984-138dadb4c035?q=80&w=2940&auto=format&fit=crop",elegantSalon:"https://images.unsplash.com/photo-1522337360788-8b13dee7a37e?q=80&w=2940&auto=format&fit=crop",professionalSalon:"https://images.unsplash.com/photo-1633681926022-84c23e8cb2d6?q=80&w=2940&auto=format&fit=crop",colorStation:"https://images.unsplash.com/photo-1562322140-8baeececf3df?q=80&w=2940&auto=format&fit=crop",hairColorPalette:"https://images.unsplash.com/photo-1552693673-1bf958298935?q=80&w=2940&auto=format&fit=crop",colorTubes:"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?q=80&w=2940&auto=format&fit=crop",boutiqueSalon:"https://images.unsplash.com/photo-1559599101-f09722fb4948?q=80&w=2940&auto=format&fit=crop",minimalistSalon:"https://images.unsplash.com/photo-1580618672591-eb180b1a973f?q=80&w=2940&auto=format&fit=crop"},xm=()=>f(Qe,{children:[f("section",{className:"py-16 lg:py-24 bg-gradient-to-br from-slate-50 to-white relative overflow-hidden",children:[f("div",{className:"absolute inset-0 opacity-40",children:[l("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-blue-100 rounded-full blur-3xl"}),l("div",{className:"absolute bottom-1/4 right-1/4 w-48 h-48 bg-purple-100 rounded-full blur-2xl"})]}),f("div",{className:"relative max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[f("div",{className:"text-center mb-12",children:[f("div",{className:"inline-flex items-center gap-2 bg-white/80 rounded-full px-4 py-2 mb-6 border border-gray-200",children:[l("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),l("span",{className:"text-gray-700 text-sm font-medium uppercase tracking-wider",children:"The Journey"})]}),l("h2",{className:"text-4xl lg:text-6xl font-light text-gray-900 mb-4",children:"Five Revolutionary"}),l("h2",{className:"text-4xl lg:text-6xl font-light bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-6",children:"Steps"}),l("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"From chaos to perfection. Experience the future of salon management."})]}),f("div",{className:"mb-16",children:[l("div",{className:"overflow-x-auto pb-4",children:l("div",{className:"flex gap-6 lg:gap-8 w-max",children:Rs.map((t,e)=>{const i=[{bg:"bg-white",accent:"bg-gradient-to-r from-cyan-500 to-blue-500",text:"text-cyan-600"},{bg:"bg-white",accent:"bg-gradient-to-r from-orange-500 to-pink-500",text:"text-orange-600"},{bg:"bg-white",accent:"bg-gradient-to-r from-rose-500 to-purple-500",text:"text-rose-600"},{bg:"bg-white",accent:"bg-gradient-to-r from-teal-500 to-emerald-500",text:"text-teal-600"},{bg:"bg-white",accent:"bg-gradient-to-r from-violet-500 to-purple-500",text:"text-violet-600"}][e];return l("div",{className:"group flex-shrink-0 w-80 lg:w-96",children:f("div",{className:`relative ${i.bg} rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-200 transform hover:-translate-y-2 h-full`,children:[l("div",{className:"relative h-64 lg:h-80 overflow-hidden bg-gray-100",children:l("img",{src:e===4?"/step_5.jpg":t.image,alt:t.alt,loading:e<2?"eager":"lazy",decoding:"async",className:"w-full h-full object-cover transition-transform duration-200 group-hover:scale-105",onError:s=>{const r=s.target;e===4?r.src="https://images.unsplash.com/photo-1562322140-8baeececf3df?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80":r.src=`https://images.unsplash.com/photo-158${8e6+e}?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80`}})}),f("div",{className:"p-4 lg:p-6",children:[l("h3",{className:`text-lg lg:text-xl font-bold ${i.text} mb-2 lg:mb-3 tracking-tight`,children:t.title}),l("p",{className:"text-gray-700 text-sm leading-relaxed mb-3 lg:mb-4 font-medium",children:t.description}),f("div",{className:"flex items-center gap-3",children:[l("div",{className:"flex-1 h-2 bg-gray-100 rounded-full overflow-hidden shadow-inner",children:l("div",{className:`h-full ${i.accent} rounded-full transition-all duration-500 shadow-sm`,style:{width:`${(e+1)/Rs.length*100}%`}})}),f("span",{className:`text-xs ${i.text} font-bold px-2 py-1 bg-white/80 rounded-full shadow-sm`,children:[e+1,"/",Rs.length]})]})]})]})},e)})})}),l("div",{className:"text-center mt-4",children:f("p",{className:"text-gray-500 text-sm flex items-center justify-center gap-2",children:[l("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16l-4-4m0 0l4-4m-4 4h18"})}),"Scroll horizontally to see all steps",l("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})]}),f("div",{className:"text-center",children:[l("p",{className:"text-lg text-gray-600 mb-8 max-w-xl mx-auto",children:"Experience all five revolutionary steps and transform your salon today"}),f("a",{href:"/signup?trial=true",className:"inline-flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold rounded-full transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",children:["Start Free Trial",l("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})]})]}),l(xd,{}),l(bm,{}),l(yd,{backgroundImage:vd.yourCustomSalon,title:"Ready to",subtitle:"Transform?",description:"Join thousands of salon professionals who've revolutionized their business with Spectra."})]}),ym=()=>f("div",{className:"bg-white w-full min-h-screen font-sans antialiased overflow-x-hidden",children:[l(ea,{}),l(pm,{}),l(xd,{}),l(xm,{}),l(hm,{})]}),vm=[{name:"Maor Ganon",age:37,title:"Co-founder & CEO",description:"Professional hair colorist with 20+ years of experience. Founded Spectra to revolutionize salon operations through AI-powered intelligence.",image:"/team/maor-ganon.jpg",fallback:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=400&q=80"},{name:"Danny Michaeli",age:37,title:"Co-founder & CTO",description:"Technology expert with extensive experience in global development teams. Architect of the Spectra platform and AI systems.",image:"/team/danny-michaeli.jpg",fallback:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=400&q=80"},{name:"Elad Gotlib",age:47,title:"Co-founder & COO",description:"Business operations specialist focused on scaling technology solutions. Drives strategic growth and operational excellence.",image:"/team/elad-gotlib.jpg",fallback:"https://images.unsplash.com/photo-1560250097-0b93528c311a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=400&q=80"},{name:"Mika Bachur",age:42,title:"VP of Operations & Strategic Partnerships",description:"Leads operational excellence and strategic business development. Ensures seamless platform scaling for our growing artist community.",image:"/team/mika-bachur.jpg",fallback:"https://images.unsplash.com/photo-1494790108755-2616b612b97c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=400&q=80"},{name:"Yaar Ben-Jay",age:23,title:"Head of Customer Success & Data Intelligence",description:"Drives customer satisfaction through data insights and user experience optimization. Ensures maximum platform value for every artist.",image:"/team/yaar-ben-jay.jpg",fallback:"https://images.unsplash.com/photo-1519345182560-3f2917c472ef?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=400&q=80"}],wm=[{name:"Roy Gefen",title:"Marketing Director",description:"Former CMO at accessiBe with over a decade of experience in marketing and brand leadership for global technology companies.",image:"/team/roy-gefen.jpg",fallback:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=400&q=80"},{name:"Nava Ravid",title:"Strategic Director",description:"Former CEO of L'OrÃ©al Israel with 24 years in beauty industry leadership. Expert in market growth and strategic business development.",image:"/team/nava-ravid.jpg",fallback:"https://images.unsplash.com/photo-1580489944761-15a19d654956?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=400&q=80"},{name:"Brian Cooper",title:"Technology Director",description:"Founder of Retailx with proven expertise in scaling retail technology solutions. Acquired by NCR for $650M, bringing deep industry insights.",image:"/team/brian-cooper.jpg",fallback:"https://images.unsplash.com/photo-1556157382-97eda2d62296?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=400&q=80"}],Nm=()=>(v.useState(!1),Z.useEffect(()=>{localStorage.setItem("ugc_current_page","about"),localStorage.setItem("ugc_left_home_page","true")},[]),f("div",{className:"bg-white w-full min-h-screen font-sans antialiased",children:[l(ea,{}),f("section",{className:"relative pt-24 pb-20 lg:pt-32 lg:pb-28 overflow-hidden",children:[f("div",{className:"absolute inset-0",children:[l("div",{className:"absolute inset-0 bg-gradient-to-br from-white/95 via-spectra-cream/30 to-spectra-gold/20 z-10"}),l("div",{className:"w-full h-full opacity-10",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23d4c4a8' fill-opacity='0.3'%3E%3Cpath d='M50 15c19.33 0 35 15.67 35 35 0 19.33-15.67 35-35 35-19.33 0-35-15.67-35-35 0-19.33 15.67-35 35-35zm0 5c-16.569 0-30 13.431-30 30s13.431 30 30 30 30-13.431 30-30-13.431-30-30-30z'/%3E%3Ccircle cx='50' cy='25' r='2'/%3E%3Ccircle cx='25' cy='50' r='2'/%3E%3Ccircle cx='75' cy='50' r='2'/%3E%3Ccircle cx='50' cy='75' r='2'/%3E%3C/g%3E%3C/svg%3E")`,backgroundSize:"150px 150px",backgroundPosition:"0 0, 75px 75px"}})]}),f("div",{className:"relative max-w-5xl mx-auto px-6 sm:px-8 lg:px-12 text-center z-20",children:[f("div",{className:"inline-flex items-center gap-2 bg-white/60 backdrop-blur-md rounded-full px-6 py-3 mb-10 border border-spectra-gold/30 shadow-sm",children:[l("div",{className:"w-1.5 h-1.5 bg-spectra-gold rounded-full animate-pulse"}),l("span",{className:"text-spectra-gold-dark text-sm font-medium uppercase tracking-wider",children:"Our Story"})]}),l("h1",{className:"text-5xl sm:text-6xl lg:text-7xl font-extralight text-spectra-charcoal mb-8 leading-[0.85] tracking-tight",children:"For Every Artist"}),l("h1",{className:"text-5xl sm:text-6xl lg:text-7xl font-light text-transparent bg-clip-text bg-gradient-to-r from-spectra-gold-light via-spectra-gold to-spectra-gold-dark leading-[0.85] tracking-tight mb-12",children:"Who Dreams in Color"}),l("p",{className:"text-2xl lg:text-3xl text-spectra-charcoal-light max-w-4xl mx-auto leading-relaxed font-light mb-8",children:"You pour your heart into every shade, every formula, every client's transformation."}),l("p",{className:"text-xl text-spectra-charcoal/70 max-w-3xl mx-auto leading-relaxed",children:"We're here to honor that artistry with tools that understand your craft as deeply as you do."})]})]}),f("section",{className:"py-32 lg:py-40 bg-gradient-to-br from-slate-50 to-white relative overflow-hidden",children:[f("div",{className:"absolute inset-0",children:[l("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-gradient-to-br from-spectra-gold/5 to-rose-100/10 rounded-full blur-3xl animate-pulse",style:{animationDuration:"6s"}}),l("div",{className:"absolute bottom-1/4 right-1/4 w-80 h-80 bg-gradient-to-br from-blue-100/10 to-spectra-cream/15 rounded-full blur-3xl animate-pulse",style:{animationDuration:"8s",animationDelay:"2s"}})]}),f("div",{className:"relative max-w-7xl mx-auto px-6 sm:px-8 lg:px-12",children:[f("div",{className:"text-center mb-20",children:[f("h2",{className:"text-5xl lg:text-7xl font-extralight text-slate-800 mb-6 tracking-[-0.02em]",children:["We See"," ",l("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-spectra-gold via-rose-400 to-blue-400 font-light",children:"You"})]}),l("div",{className:"w-24 h-0.5 bg-gradient-to-r from-transparent via-slate-300 to-transparent mx-auto"})]}),l("div",{className:"relative h-96 lg:h-[500px]",children:l("div",{className:"absolute inset-0 flex items-center justify-center",children:f("div",{className:"relative w-full max-w-6xl h-full",style:{perspective:"1200px",transformStyle:"preserve-3d"},children:[l("div",{className:"absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 z-30",style:{transform:"translate(-50%, -50%) translateZ(50px)",animation:"float 6s ease-in-out infinite"},children:f("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl p-8 lg:p-12 shadow-[0_25px_80px_rgba(0,0,0,0.1)] border border-white/40 max-w-lg text-center",children:[l("div",{className:"text-3xl mb-6",children:"âœ¨"}),f("h3",{className:"text-2xl lg:text-3xl font-light text-slate-800 mb-6 leading-tight",children:["The Artist Behind ",l("br",{}),l("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-spectra-gold to-rose-400",children:"Every Formula"})]}),l("p",{className:"text-slate-600 leading-relaxed font-light",children:"Whether you're perfecting that signature blonde or building your dream salon"})]})}),l("div",{className:"absolute left-8 top-1/2 transform -translate-y-1/2 z-20",style:{transform:"translateY(-50%) translateZ(-20px) rotateY(15deg)",animation:"floatLeft 8s ease-in-out infinite"},children:f("div",{className:"relative group",children:[l("div",{className:"absolute -inset-4 bg-gradient-to-r from-rose-200/30 to-orange-200/30 rounded-3xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),l("div",{className:"absolute -inset-2 bg-gradient-to-r from-white/50 to-rose-50/50 rounded-3xl blur-lg"}),f("div",{className:"relative w-72 h-80 rounded-3xl overflow-hidden shadow-[0_20px_60px_rgba(0,0,0,0.15)] border-2 border-white/60",children:[l("img",{src:"/hair_colorist_in_a_color_bar.png",alt:"Professional hair colorist",className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105",onError:t=>{const e=t.target;e.src="https://images.unsplash.com/photo-1595476108010-b4d1f102b1b1?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"}}),l("div",{className:"absolute inset-0 bg-gradient-to-t from-black/10 via-transparent to-transparent"}),l("div",{className:"absolute bottom-4 left-4 right-4",children:l("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl px-4 py-3 border border-white/40",children:l("p",{className:"text-slate-700 font-light text-sm",children:"Behind every perfect color"})})})]})]})}),l("div",{className:"absolute right-8 top-1/2 transform -translate-y-1/2 z-20",style:{transform:"translateY(-50%) translateZ(-20px) rotateY(-15deg)",animation:"floatRight 8s ease-in-out infinite 2s"},children:f("div",{className:"relative group",children:[l("div",{className:"absolute -inset-4 bg-gradient-to-r from-blue-200/30 to-purple-200/30 rounded-3xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),l("div",{className:"absolute -inset-2 bg-gradient-to-r from-white/50 to-blue-50/50 rounded-3xl blur-lg"}),f("div",{className:"relative w-72 h-80 rounded-3xl overflow-hidden shadow-[0_20px_60px_rgba(0,0,0,0.15)] border-2 border-white/60",children:[l("img",{src:"https://i.pinimg.com/1200x/32/3d/05/323d05c8e81ea3e3508f2ec0177b98e6.jpg",alt:"Professional salon workspace",className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),l("div",{className:"absolute inset-0 bg-gradient-to-t from-black/10 via-transparent to-transparent"}),l("div",{className:"absolute bottom-4 left-4 right-4",children:l("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl px-4 py-3 border border-white/40",children:l("p",{className:"text-slate-700 font-light text-sm",children:"Your creative sanctuary"})})})]})]})}),l("div",{className:"absolute top-16 left-1/3 w-20 h-20 bg-gradient-to-br from-spectra-gold/20 to-rose-200/20 rounded-full blur-xl animate-pulse",style:{animationDelay:"1s"}}),l("div",{className:"absolute bottom-16 right-1/3 w-16 h-16 bg-gradient-to-br from-blue-200/20 to-purple-200/20 rounded-full blur-xl animate-pulse",style:{animationDelay:"3s"}}),l("div",{className:"absolute top-1/3 right-12 w-12 h-12 bg-gradient-to-br from-rose-200/20 to-orange-200/20 rounded-full blur-lg animate-pulse",style:{animationDelay:"2s"}})]})})}),l("div",{className:"text-center mt-20",children:l("p",{className:"text-xl lg:text-2xl text-slate-600 font-light max-w-4xl mx-auto leading-relaxed",children:"Solo artist or salon owner, every stroke of genius deserves tools that understand your vision"})})]}),l("style",{children:`
          @keyframes float {
            0%, 100% { transform: translate(-50%, -50%) translateZ(50px) translateY(0px); }
            50% { transform: translate(-50%, -50%) translateZ(50px) translateY(-20px); }
          }
          
          @keyframes floatLeft {
            0%, 100% { transform: translateY(-50%) translateZ(-20px) rotateY(15deg) translateX(0px); }
            50% { transform: translateY(-50%) translateZ(-20px) rotateY(15deg) translateX(-10px); }
          }
          
          @keyframes floatRight {
            0%, 100% { transform: translateY(-50%) translateZ(-20px) rotateY(-15deg) translateX(0px); }
            50% { transform: translateY(-50%) translateZ(-20px) rotateY(-15deg) translateX(10px); }
          }
        `})]}),l("section",{className:"py-20 lg:py-28 bg-white",children:f("div",{className:"max-w-6xl mx-auto px-6 sm:px-8 lg:px-12",children:[f("div",{className:"text-center mb-20",children:[f("h2",{className:"text-4xl sm:text-5xl font-extralight text-spectra-charcoal mb-16 leading-tight tracking-wide",children:["We See"," ",f("span",{className:"text-gradient-spectra font-light relative",children:["You",l("div",{className:"absolute -bottom-2 left-0 right-0 h-px bg-gradient-to-r from-transparent via-spectra-gold/60 to-transparent"})]})]}),l("div",{className:"max-w-6xl mx-auto",children:f("div",{className:"grid lg:grid-cols-3 gap-8 items-center",children:[l("div",{className:"relative order-1",children:f("div",{className:"relative w-full max-w-sm mx-auto",children:[l("div",{className:"absolute inset-0 bg-gradient-to-br from-rose-100/20 to-rose-200/30 rounded-[2rem] blur-3xl opacity-60 scale-110"}),l("div",{className:"absolute inset-0 bg-gradient-to-br from-white/50 to-rose-50/40 rounded-[2rem] blur-2xl scale-105"}),f("div",{className:"relative rounded-[2rem] overflow-hidden border-2 border-white/60 shadow-[0_20px_60px_rgba(212,196,168,0.2)]",children:[l("img",{src:"/hair_colorist_in_a_color_bar.png",alt:"Professional hair colorist working at color bar",className:"w-full h-auto object-cover",onError:t=>{const e=t.target;e.src="https://images.unsplash.com/photo-1595476108010-b4d1f102b1b1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80"}}),l("div",{className:"absolute inset-0 bg-gradient-to-t from-black/5 via-transparent to-transparent"}),l("div",{className:"absolute top-6 right-6 w-3 h-3 bg-rose-300/30 rounded-full blur-sm animate-pulse"}),l("div",{className:"absolute bottom-8 left-8 w-2 h-2 bg-white/40 rounded-full blur-sm animate-pulse",style:{animationDelay:"1s"}})]}),l("div",{className:"absolute -bottom-4 left-1/2 transform -translate-x-1/2 bg-white/90 backdrop-blur-sm rounded-full px-4 py-2 border border-spectra-gold/20 shadow-lg",children:l("p",{className:"text-xs text-spectra-charcoal font-light tracking-wide",children:"ðŸŽ¨ Your artistry in action"})})]})}),f("div",{className:"relative order-3 lg:order-2",children:[l("div",{className:"absolute -top-8 -left-8 w-32 h-32 bg-spectra-gold/5 rounded-full blur-2xl"}),l("div",{className:"absolute -bottom-8 -right-8 w-24 h-24 bg-spectra-cream/40 rounded-full blur-xl"}),f("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-[2rem] p-8 lg:p-10 border border-spectra-gold/15 shadow-[0_8px_40px_rgba(212,196,168,0.12)]",children:[l("div",{className:"text-5xl text-spectra-gold/30 font-serif leading-none mb-4",children:'"'}),f("blockquote",{className:"text-lg lg:text-xl text-spectra-charcoal/90 leading-relaxed mb-6 font-light tracking-wide",children:["You're the artist who opens early and closes late. The one who remembers exactly how Mrs. Chen likes her highlights, who stays up researching the perfect formula for a challenging color correction.",l("br",{}),l("br",{}),"You're building something beautifulâ€”whether it's a solo practice or a growing salonâ€”and every decision matters."]}),f("div",{className:"flex items-center justify-center mb-6",children:[l("div",{className:"w-6 h-px bg-gradient-to-r from-transparent via-spectra-gold/40 to-transparent"}),l("div",{className:"w-1.5 h-1.5 bg-spectra-gold/50 rounded-full mx-3"}),l("div",{className:"w-6 h-px bg-gradient-to-r from-transparent via-spectra-gold/40 to-transparent"})]}),l("p",{className:"text-base text-spectra-charcoal/70 italic font-light leading-relaxed",children:"This is for youâ€”the passionate professional who deserves tools as dedicated as you are."}),l("div",{className:"text-5xl text-spectra-gold/30 font-serif leading-none text-right mt-4",children:'"'})]})]}),l("div",{className:"relative order-2 lg:order-3",children:f("div",{className:"relative w-full max-w-sm mx-auto",children:[l("div",{className:"absolute inset-0 bg-gradient-to-br from-spectra-gold/10 to-spectra-gold/20 rounded-[2rem] blur-3xl opacity-60 scale-110"}),l("div",{className:"absolute inset-0 bg-gradient-to-br from-white/50 to-spectra-cream/30 rounded-[2rem] blur-2xl scale-105"}),f("div",{className:"relative rounded-[2rem] overflow-hidden border-2 border-white/60 shadow-[0_20px_60px_rgba(212,196,168,0.2)]",children:[l("img",{src:"/your-custom-salon.jpg",alt:"Beautiful salon workspace",className:"w-full h-auto object-cover",onError:t=>{const e=t.target;e.src="https://i.pinimg.com/1200x/32/3d/05/323d05c8e81ea3e3508f2ec0177b98e6.jpg"}}),l("div",{className:"absolute inset-0 bg-gradient-to-t from-black/5 via-transparent to-transparent"}),l("div",{className:"absolute top-6 left-6 w-2 h-2 bg-spectra-gold/30 rounded-full blur-sm animate-pulse",style:{animationDelay:"0.5s"}}),l("div",{className:"absolute bottom-6 right-6 w-3 h-3 bg-spectra-gold/20 rounded-full blur-sm animate-pulse",style:{animationDelay:"2s"}})]}),l("div",{className:"absolute -bottom-4 left-1/2 transform -translate-x-1/2 bg-white/90 backdrop-blur-sm rounded-full px-4 py-2 border border-spectra-gold/20 shadow-lg",children:l("p",{className:"text-xs text-spectra-charcoal font-light tracking-wide",children:"âœ¨ Your professional space"})})]})})]})})]}),f("div",{className:"grid lg:grid-cols-3 gap-10 mt-20",children:[f("div",{className:"text-center group",children:[f("div",{className:"relative mb-8",children:[l("div",{className:"w-16 h-16 bg-gradient-to-br from-spectra-gold/20 to-spectra-gold/10 rounded-full flex items-center justify-center mx-auto border border-spectra-gold/20 group-hover:scale-110 group-hover:shadow-lg transition-all duration-500",children:l("span",{className:"text-2xl",children:"âœ¨"})}),l("div",{className:"absolute inset-0 w-16 h-16 bg-spectra-gold/10 rounded-full blur-xl mx-auto opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),l("h3",{className:"text-xl font-light text-spectra-charcoal mb-5 tracking-wide",children:"Solo Artists"}),l("p",{className:"text-spectra-charcoal-light leading-relaxed font-light",children:"Whether you're building your dream chair rental or independent studio, every formula matters, every client is precious."})]}),f("div",{className:"text-center group",children:[f("div",{className:"relative mb-8",children:[l("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-100 to-blue-50 rounded-full flex items-center justify-center mx-auto border border-blue-200/30 group-hover:scale-110 group-hover:shadow-lg transition-all duration-500",children:l("span",{className:"text-2xl",children:"ðŸ’«"})}),l("div",{className:"absolute inset-0 w-16 h-16 bg-blue-200/10 rounded-full blur-xl mx-auto opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),l("h3",{className:"text-xl font-light text-spectra-charcoal mb-5 tracking-wide",children:"Salon Leaders"}),l("p",{className:"text-spectra-charcoal-light leading-relaxed font-light",children:"You're guiding talented artists, ensuring consistency while nurturing creativity. You need systems that work as hard as you do."})]}),f("div",{className:"text-center group",children:[f("div",{className:"relative mb-8",children:[l("div",{className:"w-16 h-16 bg-gradient-to-br from-rose-100 to-rose-50 rounded-full flex items-center justify-center mx-auto border border-rose-200/30 group-hover:scale-110 group-hover:shadow-lg transition-all duration-500",children:l("span",{className:"text-2xl",children:"ðŸŒ±"})}),l("div",{className:"absolute inset-0 w-16 h-16 bg-rose-200/10 rounded-full blur-xl mx-auto opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),l("h3",{className:"text-xl font-light text-spectra-charcoal mb-5 tracking-wide",children:"Growing Dreams"}),l("p",{className:"text-spectra-charcoal-light leading-relaxed font-light",children:"From your first client to your tenth stylist, we grow with you. Intelligence that scales from artistry to mastery."})]})]})]})}),l("section",{className:"py-20 lg:py-28 bg-gradient-to-b from-white to-spectra-cream/20",children:f("div",{className:"max-w-5xl mx-auto px-6 sm:px-8 lg:px-12",children:[l("div",{className:"text-center mb-16",children:f("h2",{className:"text-4xl sm:text-5xl font-extralight text-spectra-charcoal mb-8 tracking-wide",children:["A Story of"," ",f("span",{className:"text-gradient-spectra font-light relative",children:["Passion & Purpose",l("div",{className:"absolute -bottom-2 left-0 right-0 h-px bg-gradient-to-r from-transparent via-spectra-gold/60 to-transparent"})]})]})}),f("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[l("div",{className:"order-2 lg:order-1",children:f("div",{className:"relative",children:[l("div",{className:"absolute -top-6 -left-6 w-20 h-20 bg-spectra-gold/5 rounded-full blur-xl"}),l("div",{className:"absolute -bottom-6 -right-6 w-16 h-16 bg-spectra-cream/30 rounded-full blur-lg"}),f("div",{className:"relative bg-white/90 backdrop-blur-sm rounded-[2rem] p-8 lg:p-10 shadow-[0_8px_40px_rgba(212,196,168,0.12)] border border-spectra-gold/15",children:[l("h3",{className:"text-2xl font-light text-spectra-charcoal mb-6 tracking-wide",children:"From Frustration to Innovation"}),f("div",{className:"space-y-6 text-lg text-spectra-charcoal-light leading-relaxed font-light",children:[l("p",{children:'"After 20 years behind the chair, I knew something had to change. I was tired of watching talented colorists struggle with the same problems I faced every day."'}),l("p",{children:'"Formulas scribbled on scraps of paper. Inventory that disappeared overnight. The heartbreak of not being able to recreate that perfect shade."'}),l("p",{children:'"But mostly, I was tired of seeing incredible artists doubt themselves when the tools failed them, not their talent."'}),f("div",{className:"flex items-center justify-center py-4",children:[l("div",{className:"w-6 h-px bg-gradient-to-r from-transparent via-spectra-gold/40 to-transparent"}),l("div",{className:"w-1 h-1 bg-spectra-gold/50 rounded-full mx-3"}),l("div",{className:"w-6 h-px bg-gradient-to-r from-transparent via-spectra-gold/40 to-transparent"})]}),l("p",{className:"text-spectra-gold font-light italic text-xl",children:'"So we built something different. Something worthy of your artistry."'}),l("p",{className:"text-sm text-spectra-charcoal/60 font-light tracking-wide",children:"â€” Maor Ganon"})]})]})]})}),l("div",{className:"order-1 lg:order-2",children:l("div",{className:"relative",children:f("div",{className:"w-80 h-80 mx-auto relative",children:[l("div",{className:"absolute inset-0 bg-gradient-to-br from-spectra-gold/10 to-spectra-gold/20 rounded-full blur-3xl opacity-60"}),l("div",{className:"absolute inset-4 bg-gradient-to-br from-white/50 to-spectra-cream/30 rounded-full blur-2xl"}),l("div",{className:"relative w-full h-full rounded-full overflow-hidden border-2 border-white/60 shadow-[0_20px_60px_rgba(212,196,168,0.2)]",children:l("img",{src:"/team/maor-ganon.jpg",alt:"Maor Ganon - Founder",className:"w-full h-full object-cover",onError:t=>{const e=t.target;e.src="https://ui-avatars.com/api/?name=Maor%20Ganon&size=320&background=d4c4a8&color=000&format=png"}})})]})})})]})]})}),l("section",{className:"py-20 lg:py-28 bg-white",children:f("div",{className:"max-w-7xl mx-auto px-6 sm:px-8 lg:px-12",children:[f("div",{className:"text-center mb-20",children:[f("h2",{className:"text-4xl sm:text-5xl font-extralight text-spectra-charcoal mb-8 tracking-wide",children:["Our"," ",f("span",{className:"text-gradient-spectra font-light relative",children:["Core Team",l("div",{className:"absolute -bottom-2 left-0 right-0 h-px bg-gradient-to-r from-transparent via-spectra-gold/60 to-transparent"})]})]}),l("p",{className:"text-xl text-spectra-charcoal-light max-w-3xl mx-auto leading-relaxed font-light tracking-wide",children:"Artists, engineers, and dreamers united by one mission: empowering your creativity"})]}),l("div",{className:"grid lg:grid-cols-3 gap-8 max-w-6xl mx-auto",children:vm.map((t,e)=>l("div",{className:"group",children:f("div",{className:"relative",children:[l("div",{className:"absolute -top-4 -left-4 w-16 h-16 bg-spectra-gold/5 rounded-full blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),f("div",{className:"relative bg-white/90 backdrop-blur-sm rounded-2xl p-6 lg:p-8 shadow-[0_8px_40px_rgba(212,196,168,0.08)] border border-spectra-gold/10 hover:shadow-[0_16px_60px_rgba(212,196,168,0.15)] hover:border-spectra-gold/20 transition-all duration-500 text-center h-full",children:[f("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full overflow-hidden border-2 border-spectra-gold/15 group-hover:border-spectra-gold/30 transition-colors duration-500 relative",children:[l("div",{className:"absolute inset-0 bg-gradient-to-br from-spectra-gold/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),l("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover relative z-10",onError:n=>{const i=n.target;i.src=t.fallback}})]}),f("h4",{className:"text-lg font-light text-spectra-charcoal mb-2 tracking-wide",children:[t.name,f("span",{className:"text-spectra-charcoal/60 font-extralight",children:[", ",t.age]})]}),l("p",{className:"text-spectra-gold font-light mb-4 text-sm tracking-wide",children:t.title}),l("p",{className:"text-spectra-charcoal-light leading-relaxed font-light text-sm",children:t.description})]})]})},t.name))})]})}),l("section",{className:"py-20 lg:py-28 bg-gradient-to-b from-white to-spectra-cream/20",children:f("div",{className:"max-w-6xl mx-auto px-6 sm:px-8 lg:px-12",children:[f("div",{className:"text-center mb-20",children:[f("h2",{className:"text-4xl sm:text-5xl font-extralight text-spectra-charcoal mb-8 tracking-wide",children:["Board of"," ",f("span",{className:"text-gradient-spectra font-light relative",children:["Directors",l("div",{className:"absolute -bottom-2 left-0 right-0 h-px bg-gradient-to-r from-transparent via-spectra-gold/60 to-transparent"})]})]}),l("p",{className:"text-xl text-spectra-charcoal-light max-w-3xl mx-auto leading-relaxed font-light tracking-wide",children:"Industry leaders guiding our strategic vision and growth"})]}),l("div",{className:"grid lg:grid-cols-3 gap-10",children:wm.map(t=>l("div",{className:"group",children:f("div",{className:"relative",children:[l("div",{className:"absolute -top-4 -left-4 w-16 h-16 bg-spectra-gold/5 rounded-full blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),f("div",{className:"relative bg-white/90 backdrop-blur-sm rounded-2xl p-6 lg:p-8 shadow-[0_8px_40px_rgba(212,196,168,0.08)] border border-spectra-gold/10 hover:shadow-[0_16px_60px_rgba(212,196,168,0.15)] hover:border-spectra-gold/20 transition-all duration-500 text-center h-full",children:[f("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full overflow-hidden border-2 border-spectra-gold/15 group-hover:border-spectra-gold/30 transition-colors duration-500 relative",children:[l("div",{className:"absolute inset-0 bg-gradient-to-br from-spectra-gold/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),l("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover relative z-10",onError:e=>{const n=e.target;n.src=t.fallback}})]}),l("h4",{className:"text-lg font-light text-spectra-charcoal mb-2 tracking-wide",children:t.name}),l("p",{className:"text-spectra-gold font-light mb-4 text-sm tracking-wide",children:t.title}),l("p",{className:"text-spectra-charcoal-light leading-relaxed font-light text-sm",children:t.description})]})]})},t.name))})]})}),l("section",{className:"py-20 lg:py-28 bg-gradient-to-br from-spectra-cream/30 to-spectra-gold/15",children:f("div",{className:"max-w-6xl mx-auto px-6 sm:px-8 lg:px-12",children:[l("div",{className:"text-center mb-16",children:f("h2",{className:"text-4xl sm:text-5xl font-extralight text-spectra-charcoal mb-8 tracking-wide",children:["Our"," ",f("span",{className:"text-gradient-spectra font-light relative",children:["Promise",l("div",{className:"absolute -bottom-2 left-0 right-0 h-px bg-gradient-to-r from-transparent via-spectra-gold/60 to-transparent"})]})]})}),f("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[f("div",{children:[l("h3",{className:"text-3xl font-light text-spectra-charcoal mb-8 tracking-wide",children:"To Every Artist We Serve"}),f("div",{className:"space-y-6",children:[f("div",{className:"flex items-start gap-4",children:[l("div",{className:"w-1.5 h-1.5 bg-spectra-gold rounded-full mt-3 flex-shrink-0"}),f("div",{children:[l("h4",{className:"font-light text-spectra-charcoal mb-2 text-lg tracking-wide",children:"We Honor Your Expertise"}),l("p",{className:"text-spectra-charcoal-light leading-relaxed font-light",children:"Our AI learns from you, not the other way around. Your years of experience guide every algorithm."})]})]}),f("div",{className:"flex items-start gap-4",children:[l("div",{className:"w-1.5 h-1.5 bg-spectra-gold rounded-full mt-3 flex-shrink-0"}),f("div",{children:[l("h4",{className:"font-light text-spectra-charcoal mb-2 text-lg tracking-wide",children:"We Preserve Your Artistry"}),l("p",{className:"text-spectra-charcoal-light leading-relaxed font-light",children:"Every formula, every technique, every breakthrough becomes part of your growing intelligence."})]})]}),f("div",{className:"flex items-start gap-4",children:[l("div",{className:"w-1.5 h-1.5 bg-spectra-gold rounded-full mt-3 flex-shrink-0"}),f("div",{children:[l("h4",{className:"font-light text-spectra-charcoal mb-2 text-lg tracking-wide",children:"We Amplify Your Impact"}),l("p",{className:"text-spectra-charcoal-light leading-relaxed font-light",children:"Tools that help you serve more clients, create more beauty, and build the business you've dreamed of."})]})]})]})]}),f("div",{className:"relative",children:[l("div",{className:"absolute -top-6 -left-6 w-20 h-20 bg-spectra-gold/5 rounded-full blur-xl"}),l("div",{className:"absolute -bottom-6 -right-6 w-16 h-16 bg-white/50 rounded-full blur-lg"}),f("div",{className:"relative bg-white/90 backdrop-blur-sm rounded-[2rem] p-8 lg:p-10 shadow-[0_8px_40px_rgba(212,196,168,0.12)] border border-spectra-gold/15",children:[l("blockquote",{className:"text-xl lg:text-2xl text-spectra-charcoal leading-relaxed italic mb-6 font-light tracking-wide",children:`"Technology should feel like an extension of your hands, not a barrier to your creativity. We're building tools that disappear into your workflow and amplify what you already do brilliantly."`}),f("div",{className:"flex items-center justify-center mb-6",children:[l("div",{className:"w-6 h-px bg-gradient-to-r from-transparent via-spectra-gold/40 to-transparent"}),l("div",{className:"w-1 h-1 bg-spectra-gold/50 rounded-full mx-3"}),l("div",{className:"w-6 h-px bg-gradient-to-r from-transparent via-spectra-gold/40 to-transparent"})]}),f("div",{className:"flex items-center gap-4",children:[l("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-spectra-gold-light/80 to-spectra-gold/80 flex items-center justify-center",children:l("span",{className:"text-white text-lg",children:"ðŸ’"})}),f("div",{children:[l("p",{className:"font-light text-spectra-charcoal tracking-wide",children:"Our commitment to you"}),l("p",{className:"text-sm text-spectra-charcoal/60 font-light",children:"Every day, every feature, every update"})]})]})]})]})]})]})}),f("section",{className:"py-20 lg:py-28 bg-spectra-charcoal relative overflow-hidden",children:[l("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='80' height='80' viewBox='0 0 80 80' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23d4c4a8' fill-opacity='0.3'%3E%3Ccircle cx='40' cy='40' r='1'/%3E%3C/g%3E%3C/svg%3E")`,backgroundSize:"120px 120px"}}),f("div",{className:"relative max-w-6xl mx-auto px-6 sm:px-8 lg:px-12",children:[f("div",{className:"text-center mb-16",children:[f("h2",{className:"text-4xl sm:text-5xl font-extralight text-white mb-6 tracking-wide",children:["Growing"," ",f("span",{className:"text-spectra-gold font-light relative",children:["Together",l("div",{className:"absolute -bottom-2 left-0 right-0 h-px bg-gradient-to-r from-transparent via-spectra-gold/60 to-transparent"})]})]}),l("p",{className:"text-xl text-white/80 max-w-3xl mx-auto leading-relaxed font-light tracking-wide",children:"Every number represents an artist whose craft we're honored to support"})]}),f("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-8",children:[f("div",{className:"text-center group",children:[f("div",{className:"relative mb-4",children:[l("div",{className:"text-5xl lg:text-6xl font-extralight text-spectra-gold mb-4 transition-transform duration-500 group-hover:scale-110",children:"500+"}),l("div",{className:"absolute inset-0 bg-spectra-gold/10 rounded-full blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),l("div",{className:"text-white/90 font-light text-lg mb-2 tracking-wide",children:"Artists Supported"}),l("div",{className:"text-white/60 text-sm font-light",children:"Across 20+ countries"})]}),f("div",{className:"text-center group",children:[f("div",{className:"relative mb-4",children:[l("div",{className:"text-5xl lg:text-6xl font-extralight text-spectra-gold mb-4 transition-transform duration-500 group-hover:scale-110",children:"15K+"}),l("div",{className:"absolute inset-0 bg-spectra-gold/10 rounded-full blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),l("div",{className:"text-white/90 font-light text-lg mb-2 tracking-wide",children:"Perfect Formulas"}),l("div",{className:"text-white/60 text-sm font-light",children:"Created with AI assistance"})]}),f("div",{className:"text-center group",children:[f("div",{className:"relative mb-4",children:[l("div",{className:"text-5xl lg:text-6xl font-extralight text-spectra-gold mb-4 transition-transform duration-500 group-hover:scale-110",children:"92%"}),l("div",{className:"absolute inset-0 bg-spectra-gold/10 rounded-full blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),l("div",{className:"text-white/90 font-light text-lg mb-2 tracking-wide",children:"Success Rate"}),l("div",{className:"text-white/60 text-sm font-light",children:"In formula consistency"})]}),f("div",{className:"text-center group",children:[f("div",{className:"relative mb-4",children:[l("div",{className:"text-5xl lg:text-6xl font-extralight text-spectra-gold mb-4 transition-transform duration-500 group-hover:scale-110",children:"âˆž"}),l("div",{className:"absolute inset-0 bg-spectra-gold/10 rounded-full blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),l("div",{className:"text-white/90 font-light text-lg mb-2 tracking-wide",children:"Possibilities"}),l("div",{className:"text-white/60 text-sm font-light",children:"When artistry meets intelligence"})]})]})]})]}),l(yd,{backgroundImage:vd.luxurySalon,title:"Ready to Transform",subtitle:"Your Artistry?",description:"Join the community of passionate colorists who are creating the future of beauty, one perfect formula at a time."})]})),km=()=>l("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-4 sm:p-8",children:f("div",{className:"max-w-4xl mx-auto",children:[f("div",{className:"text-center mb-12",children:[l("h1",{className:"text-3xl sm:text-5xl font-bold text-white mb-4",children:"ðŸ’³ Payments"}),l("p",{className:"text-blue-200 text-lg",children:"Payment integration coming soon"})]}),f("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 border border-white/20 text-center",children:[l("div",{className:"w-20 h-20 bg-blue-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:l("svg",{className:"w-10 h-10 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),l("h2",{className:"text-2xl font-bold text-white mb-4",children:"Payment System Integration"}),l("p",{className:"text-blue-200 mb-8 max-w-2xl mx-auto",children:"Our payment system is being updated as part of our database architecture improvement. Subscription management and billing will be available soon with enhanced security and performance."}),l("div",{className:"space-y-4",children:l(G,{to:"/signup",className:"inline-block bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-semibold py-3 px-8 rounded-xl transition-all duration-200 transform hover:scale-105",children:"Start Free Trial"})})]}),f("div",{className:"grid md:grid-cols-3 gap-6 mt-12",children:[f("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl p-6 border border-white/10",children:[l("div",{className:"w-12 h-12 bg-green-500/20 rounded-lg flex items-center justify-center mb-4",children:l("svg",{className:"w-6 h-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l("h3",{className:"text-lg font-semibold text-white mb-2",children:"Secure Processing"}),l("p",{className:"text-blue-200 text-sm",children:"Bank-grade security for all transactions"})]}),f("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl p-6 border border-white/10",children:[l("div",{className:"w-12 h-12 bg-blue-500/20 rounded-lg flex items-center justify-center mb-4",children:l("svg",{className:"w-6 h-6 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),l("h3",{className:"text-lg font-semibold text-white mb-2",children:"Multi-Currency"}),l("p",{className:"text-blue-200 text-sm",children:"Support for global pricing and currencies"})]}),f("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl p-6 border border-white/10",children:[l("div",{className:"w-12 h-12 bg-purple-500/20 rounded-lg flex items-center justify-center mb-4",children:l("svg",{className:"w-6 h-6 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),l("h3",{className:"text-lg font-semibold text-white mb-2",children:"Subscription Management"}),l("p",{className:"text-blue-200 text-sm",children:"Flexible billing and trial periods"})]})]})]})}),_m=()=>{const[t,e]=v.useState({name:"",phone:"",socialHandle:"",email:"",salonName:""}),[n,i]=v.useState(!1),[s,r]=v.useState(!1),a=c=>{const{name:d,value:h}=c.target;e(u=>({...u,[d]:h}))},o=async c=>{c.preventDefault(),i(!0);try{const d=new URLSearchParams(window.location.search),h={full_name:t.name,email:t.email,phone:t.phone,company_name:t.salonName||void 0,message:t.socialHandle?`Social: ${t.socialHandle}`:void 0,source_page:"/lead-capture",utm_source:d.get("utm_source")||void 0,utm_medium:d.get("utm_medium")||void 0,utm_campaign:d.get("utm_campaign")||void 0},u=await fetch("/.netlify/functions/leads",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});if(!u.ok){const m=await u.json().catch(()=>({}));throw new Error((m==null?void 0:m.error)||`Failed to submit lead (${u.status})`)}r(!0)}catch(d){console.error("Error submitting lead:",d),alert("Something went wrong. Please try again.")}finally{i(!1)}};return s?f("section",{className:"relative py-20 lg:py-32 overflow-hidden min-h-screen",children:[l("div",{className:"absolute inset-0 z-0",style:{backgroundImage:`
              linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.8)),
              url('https://images.unsplash.com/photo-1521590832167-7bcbfaa6381f?q=80&w=2940&auto=format&fit=crop')
            `,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed"}}),f("div",{className:"absolute inset-0 overflow-hidden",children:[l("div",{className:"absolute top-20 left-20 w-96 h-96 bg-gradient-to-br from-white/5 to-transparent rounded-full blur-3xl animate-pulse"}),l("div",{className:"absolute bottom-32 right-16 w-80 h-80 bg-gradient-to-br from-blue-400/10 to-purple-500/10 rounded-full blur-3xl animate-pulse delay-1000"}),l("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-72 h-72 bg-gradient-to-br from-amber-400/8 to-orange-500/8 rounded-full blur-3xl animate-pulse delay-500"})]}),l("div",{className:"relative z-10 max-w-7xl mx-auto px-8 sm:px-12 lg:px-16 flex items-center justify-center min-h-screen",children:f("div",{className:"text-center",children:[f("div",{className:"inline-flex items-center gap-4 bg-white/10 backdrop-blur-3xl rounded-full px-8 py-4 mb-8 border border-white/20 shadow-2xl",children:[l("div",{className:"w-2 h-2 bg-gradient-to-r from-green-400 to-emerald-300 rounded-full animate-pulse"}),l("span",{className:"text-white/90 text-sm font-semibold uppercase tracking-[0.3em]",children:"Welcome to Spectra"}),l("div",{className:"w-2 h-2 bg-gradient-to-r from-blue-400 to-cyan-300 rounded-full animate-pulse"})]}),l("h2",{className:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-extralight text-white mb-6 leading-[0.9] tracking-[-0.02em]",children:"Thank"}),l("h2",{className:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-light text-transparent bg-clip-text bg-gradient-to-r from-blue-300 via-purple-300 to-pink-300 leading-[0.9] tracking-[-0.02em] drop-shadow-2xl mb-8",children:"You!"}),f("p",{className:"text-xl lg:text-2xl text-white/80 max-w-4xl mx-auto leading-relaxed font-light mb-12",children:["We'll contact you within 24 hours to set up your Spectra trial.",l("br",{}),"Get ready to transform your salon!"]}),f("div",{className:"flex flex-col sm:flex-row gap-6 justify-center items-center",children:[l("a",{href:"https://wa.me/972504322680?text=Hi! I just signed up for Spectra trial",target:"_blank",rel:"noopener noreferrer",className:"group relative px-10 py-5 bg-gradient-to-r from-green-400 to-green-500 hover:from-green-500 hover:to-green-600 text-white font-semibold text-lg rounded-full transition-all duration-300 shadow-2xl hover:shadow-3xl transform hover:scale-[1.02]",children:f("div",{className:"flex items-center gap-3",children:[l("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:l("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})}),l("span",{children:"WhatsApp Us"})]})}),l(G,{to:"/",className:"group relative px-10 py-5 bg-white/5 backdrop-blur-3xl border border-white/15 hover:border-white/30 text-white font-semibold text-lg rounded-full transition-all duration-300 shadow-2xl hover:shadow-3xl transform hover:scale-[1.02]",children:"Return to Spectra"})]})]})})]}):f("section",{className:"relative py-20 lg:py-32 overflow-hidden",children:[l("div",{className:"absolute inset-0 z-0",style:{backgroundImage:`
            linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.8)),
            url('https://images.unsplash.com/photo-1521590832167-7bcbfaa6381f?q=80&w=2940&auto=format&fit=crop')
          `,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed"}}),f("div",{className:"absolute inset-0 overflow-hidden",children:[l("div",{className:"absolute top-20 left-20 w-96 h-96 bg-gradient-to-br from-white/5 to-transparent rounded-full blur-3xl animate-pulse"}),l("div",{className:"absolute bottom-32 right-16 w-80 h-80 bg-gradient-to-br from-blue-400/10 to-purple-500/10 rounded-full blur-3xl animate-pulse delay-1000"}),l("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-72 h-72 bg-gradient-to-br from-amber-400/8 to-orange-500/8 rounded-full blur-3xl animate-pulse delay-500"}),l("div",{className:"absolute top-10 right-32 w-64 h-64 bg-gradient-to-br from-pink-400/5 to-purple-400/5 rounded-full blur-2xl animate-pulse delay-2000"}),l("div",{className:"absolute bottom-10 left-32 w-48 h-48 bg-gradient-to-br from-cyan-400/8 to-blue-400/8 rounded-full blur-2xl animate-pulse delay-3000"})]}),f("div",{className:"relative z-10 max-w-7xl mx-auto px-8 sm:px-12 lg:px-16",children:[f("div",{className:"text-center mb-20",children:[f("div",{className:"inline-flex items-center gap-4 bg-white/10 backdrop-blur-3xl rounded-full px-8 py-4 mb-8 border border-white/20 shadow-2xl",children:[l("div",{className:"w-2 h-2 bg-gradient-to-r from-white to-gray-300 rounded-full animate-pulse"}),l("span",{className:"text-white/90 text-sm font-semibold uppercase tracking-[0.3em]",children:"Start Your Trial"}),l("div",{className:"w-2 h-2 bg-gradient-to-r from-blue-400 to-cyan-300 rounded-full animate-pulse"})]}),l("h1",{className:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-extralight text-white mb-6 leading-[0.9] tracking-[-0.02em]",children:"Try Spectra"}),l("h1",{className:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-light text-transparent bg-clip-text bg-gradient-to-r from-blue-300 via-purple-300 to-pink-300 leading-[0.9] tracking-[-0.02em] drop-shadow-2xl mb-8",children:"Free"}),l("p",{className:"text-xl lg:text-2xl text-white/80 max-w-4xl mx-auto leading-relaxed font-light",children:"Experience the future of color management with our 14-day free trial."})]}),f("div",{className:"bg-white/10 backdrop-blur-3xl rounded-3xl p-12 border border-white/20 shadow-2xl mb-20 max-w-5xl mx-auto",children:[f("div",{className:"text-center mb-8",children:[l("h2",{className:"text-3xl lg:text-4xl font-light text-white mb-4",children:"Choose Your Plan"}),l("p",{className:"text-white/70 font-light",children:"Professional salon management solutions"})]}),f("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[f("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-6 border border-white/10 text-center",children:[l("div",{className:"w-12 h-12 mx-auto mb-4 bg-gradient-to-br from-purple-400/30 to-purple-500/30 backdrop-blur-xl rounded-xl flex items-center justify-center border border-white/20",children:l("span",{className:"text-purple-300 text-xl",children:"âš–ï¸"})}),l("h3",{className:"text-white font-semibold mb-2",children:"Solo"}),l("div",{className:"text-3xl font-light text-white mb-2",children:"$39"}),l("div",{className:"text-white/60 text-sm mb-4",children:"/month"}),l("p",{className:"text-white/70 text-sm",children:"Perfect for individual stylists"})]}),f("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-6 border border-white/10 text-center",children:[l("div",{className:"w-12 h-12 mx-auto mb-4 bg-gradient-to-br from-pink-400/30 to-pink-500/30 backdrop-blur-xl rounded-xl flex items-center justify-center border border-white/20",children:l("span",{className:"text-pink-300 text-xl",children:"ðŸ‘¥"})}),l("h3",{className:"text-white font-semibold mb-2",children:"Multi"}),l("div",{className:"text-3xl font-light text-white mb-2",children:"$79"}),l("div",{className:"text-white/60 text-sm mb-4",children:"/month"}),l("p",{className:"text-white/70 text-sm",children:"For small salon teams"})]}),f("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-6 border border-white/10 text-center",children:[l("div",{className:"w-12 h-12 mx-auto mb-4 bg-gradient-to-br from-blue-400/30 to-blue-500/30 backdrop-blur-xl rounded-xl flex items-center justify-center border border-white/20",children:l("span",{className:"text-blue-300 text-xl",children:"ðŸ¢"})}),l("h3",{className:"text-white font-semibold mb-2",children:"Studio"}),l("div",{className:"text-3xl font-light text-white mb-2",children:"$129"}),l("div",{className:"text-white/60 text-sm mb-4",children:"/month"}),l("p",{className:"text-white/70 text-sm",children:"For growing salons"})]}),f("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-6 border border-white/10 text-center",children:[l("div",{className:"w-12 h-12 mx-auto mb-4 bg-gradient-to-br from-emerald-400/30 to-emerald-500/30 backdrop-blur-xl rounded-xl flex items-center justify-center border border-white/20",children:l("span",{className:"text-emerald-300 text-xl",children:"ðŸš€"})}),l("h3",{className:"text-white font-semibold mb-2",children:"Enterprise"}),l("div",{className:"text-3xl font-light text-white mb-2",children:"$189"}),l("div",{className:"text-white/60 text-sm mb-4",children:"/month"}),l("p",{className:"text-white/70 text-sm",children:"For large operations"})]})]}),l("div",{className:"text-center mt-8",children:l("p",{className:"text-white/60 text-sm font-light",children:"All plans include 14-day free trial â€¢ No setup fees â€¢ Cancel anytime"})})]}),l("div",{className:"max-w-md mx-auto mb-20",children:f("div",{className:"bg-white/10 backdrop-blur-3xl rounded-3xl p-8 border border-white/20 shadow-2xl",children:[f("div",{className:"text-center mb-8",children:[l("h2",{className:"text-2xl font-light text-white mb-2",children:"Start Your Free Trial"}),l("p",{className:"text-white/70 font-light text-sm",children:"No credit card required"})]}),f("form",{onSubmit:o,className:"space-y-4",children:[l("input",{type:"text",name:"name",required:!0,value:t.name,onChange:a,className:"w-full h-12 px-4 bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl focus:border-blue-300/50 focus:ring-1 focus:ring-blue-300/30 transition-all duration-200 text-white placeholder-white/50 font-light",placeholder:"Full name"}),l("input",{type:"email",name:"email",required:!0,value:t.email,onChange:a,className:"w-full h-12 px-4 bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl focus:border-blue-300/50 focus:ring-1 focus:ring-blue-300/30 transition-all duration-200 text-white placeholder-white/50 font-light",placeholder:"Email address"}),l("input",{type:"tel",name:"phone",required:!0,value:t.phone,onChange:a,className:"w-full h-12 px-4 bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl focus:border-blue-300/50 focus:ring-1 focus:ring-blue-300/30 transition-all duration-200 text-white placeholder-white/50 font-light",placeholder:"Phone number"}),l("input",{type:"text",name:"salonName",value:t.salonName,onChange:a,className:"w-full h-12 px-4 bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl focus:border-blue-300/50 focus:ring-1 focus:ring-blue-300/30 transition-all duration-200 text-white placeholder-white/50 font-light",placeholder:"Salon name"}),l("button",{type:"submit",disabled:n,className:`w-full h-14 rounded-2xl font-light transition-all duration-300 mt-6 ${n?"bg-white/10 backdrop-blur-xl cursor-not-allowed text-white/50 border border-white/10":"bg-gradient-to-r from-blue-500/50 via-purple-500/50 to-pink-500/50 backdrop-blur-xl hover:from-blue-500/60 hover:via-purple-500/60 hover:to-pink-500/60 text-white border border-white/20 shadow-lg"}`,children:n?f("div",{className:"flex items-center justify-center gap-3",children:[l("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Starting trial..."]}):"Start Free Trial"}),l("p",{className:"text-center text-white/50 text-xs font-light mt-4",children:"14-day free trial â€¢ No credit card required"})]})]})}),l("div",{className:"text-center",children:l("div",{className:"relative max-w-4xl mx-auto",children:f("div",{className:"relative p-12 bg-white/10 backdrop-blur-3xl rounded-[3rem] border border-white/20 shadow-2xl overflow-hidden",children:[l("div",{className:"absolute top-6 right-8 w-16 h-16 bg-gradient-to-br from-blue-400/20 to-cyan-300/20 rounded-full blur-xl animate-pulse"}),l("div",{className:"absolute bottom-6 left-8 w-12 h-12 bg-gradient-to-br from-purple-400/20 to-pink-300/20 rounded-full blur-xl animate-pulse delay-1000"}),l("div",{className:"absolute top-1/2 left-1/4 w-8 h-8 bg-gradient-to-br from-amber-400/20 to-orange-500/20 rounded-full blur-lg animate-pulse delay-500"}),f("div",{className:"relative z-10",children:[l("h3",{className:"text-3xl lg:text-4xl font-light text-white mb-6 leading-tight tracking-[-0.02em]",children:"Questions? Let's Talk!"}),l("p",{className:"text-xl text-white/80 mb-12 leading-relaxed font-light max-w-2xl mx-auto",children:"Book a demo or chat with us to learn more about Spectra"}),f("div",{className:"flex flex-col sm:flex-row gap-6 justify-center items-center",children:[f("a",{href:"/signup?trial=true",className:"group relative px-10 py-5 bg-gradient-to-r from-[#FF9500] to-[#E6850E] hover:from-[#E6850E] hover:to-[#CC7A0D] text-white font-semibold text-lg rounded-full transition-all duration-300 shadow-2xl hover:shadow-3xl transform hover:scale-[1.02] border border-[#FF9500]/20",children:[l("span",{className:"relative z-10",children:"Start Free Trial"}),l("div",{className:"absolute inset-0 bg-gradient-to-r from-[#E6850E] to-[#CC7A0D] rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),f("a",{href:"https://wa.me/972504322680?text=Hi! I want to learn more about Spectra",target:"_blank",rel:"noopener noreferrer",className:"group relative px-10 py-5 bg-white/5 backdrop-blur-3xl border border-white/15 hover:border-green-400/30 text-white font-semibold text-lg rounded-full transition-all duration-300 shadow-2xl hover:shadow-3xl transform hover:scale-[1.02] overflow-hidden",children:[l("div",{className:"absolute inset-0 bg-gradient-to-r from-green-400/10 to-green-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),l("div",{className:"absolute inset-1 rounded-full bg-gradient-to-br from-white/5 to-transparent"}),f("div",{className:"relative z-10 flex items-center gap-2",children:[l("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:l("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})}),l("span",{children:"WhatsApp"})]})]})]})]})]})})}),l("div",{className:"text-center mt-12",children:l(G,{to:"/",className:"text-white/50 hover:text-white font-light text-sm transition-colors duration-200",children:"â† Return to Spectra"})})]})]})},$e=[{id:1,videoUrl:"/instagram-reel.mp4",username:"@manely.summer",name:"Summer",profileImage:"/profile-summer.jpg",instagramUrl:"https://www.instagram.com/manely.summer",followers:"90.6K"},{id:2,videoUrl:"/instagram-reel2.mp4",username:"@thewitchwhodoeshair",name:"Angela Maria Blom",profileImage:"/profile-angela.jpg",instagramUrl:"https://www.instagram.com/thewitchwhodoeshair",followers:"3,440"},{id:3,videoUrl:"/instagram-reel3.mp4",username:"@sohairsavvy",name:"Kendall",profileImage:"/profile-kendall.jpg",instagramUrl:"https://www.instagram.com/sohairsavvy",followers:"3,477"},{id:4,videoUrl:"/instagram-reel4.mp4",username:"@_serinarenee",name:"Serina Renee'",profileImage:"/profile-serina.jpg",instagramUrl:"https://www.instagram.com/_serinarenee",followers:"23.2K"},{id:5,videoUrl:"/instagram-reel5.mp4",username:"@manesbymorgan__",name:"Morgan Campbell",profileImage:"/profile-morgan.jpg",instagramUrl:"https://www.instagram.com/manesbymorgan__",followers:"1,084"},{id:6,videoUrl:"/instagram-reel6.mp4",username:"@bri.stangle",name:"Bri",profileImage:"/profile-bri.jpg",instagramUrl:"https://www.instagram.com/bri.stangle",followers:"1,718"}],wd=()=>{const[t,e]=v.useState(0),[n,i]=v.useState(!1),[s,r]=v.useState(!1),[a,o]=v.useState(0),[c,d]=v.useState(0),[h,u]=v.useState(0),[m,g]=v.useState(!1),[p,b]=v.useState(!1),[y,x]=v.useState(!1),N=v.useRef(null),w=v.useRef(null);v.useEffect(()=>{window.location.pathname.includes("ugc-offer")&&window.scrollTo({top:0,behavior:"smooth"})},[]),v.useEffect(()=>{const T=()=>{b(!0)};return document.addEventListener("click",T,{once:!0}),document.addEventListener("touchstart",T,{once:!0}),()=>{document.removeEventListener("click",T),document.removeEventListener("touchstart",T)}},[]),v.useEffect(()=>{const T=new IntersectionObserver(j=>{j.forEach(F=>{F.isIntersecting&&!m?g(!0):!F.isIntersecting&&m&&N.current&&n&&N.current.pause()})},{threshold:.2});return w.current&&T.observe(w.current),()=>{w.current&&T.unobserve(w.current)}},[m,n]),v.useEffect(()=>{x(!1),o(0)},[t]),v.useEffect(()=>{if(m&&p&&y&&N.current){const T=N.current;T.currentTime=0,T.muted=s,T.play().then(()=>{i(!0)}).catch(()=>{s||(T.muted=!0,T.play().then(()=>{i(!0)}).catch(()=>{i(!1)}))})}},[t,m,p,y,s]),v.useEffect(()=>{let T;return n&&N.current&&(T=setInterval(()=>{if(N.current){const j=N.current.currentTime,F=N.current.duration;d(j),u(F),F>0&&o(j/F*100)}},100)),()=>{T&&clearInterval(T)}},[n]),v.useEffect(()=>{const T=N.current;if(!T)return;const j=()=>i(!0),F=()=>i(!1),J=()=>x(!0);return T.addEventListener("play",j),T.addEventListener("pause",F),T.addEventListener("loadeddata",J),()=>{T.removeEventListener("play",j),T.removeEventListener("pause",F),T.removeEventListener("loadeddata",J)}},[]);const k=()=>{e(T=>(T+1)%$e.length),o(0)},_=()=>{if(!N.current)return;b(!0),g(!0);const T=N.current;n?T.pause():(T.muted=s,T.play().then(()=>{i(!0)}).catch(()=>{T.muted=!0,T.play().catch(()=>{})}))},C=()=>{if(N.current){const T=!s;N.current.muted=T,r(T)}},D=T=>{const j=T.currentTarget.getBoundingClientRect(),J=(T.clientX-j.left)/j.width*100,de=J/100*h;N.current&&(N.current.currentTime=de,o(J))},S=T=>{window.open(T,"_blank")},M=T=>{e(T)},P=()=>{e(T=>(T-1+$e.length)%$e.length)},I=()=>{e(T=>(T+1)%$e.length)},L=(t-1+$e.length)%$e.length,U=(t+1)%$e.length,W=$e[t];return f("div",{ref:w,className:"flex flex-col items-center justify-center py-8 overflow-x-hidden",children:[f("div",{className:"flex items-center justify-center gap-2 sm:gap-4 md:gap-8 px-4",children:[l("div",{className:"hidden sm:block scale-50 sm:scale-75 opacity-60 transition-all duration-500 cursor-pointer hover:opacity-80",onClick:()=>M(L),children:l("div",{className:"relative bg-gradient-to-b from-[#1d1d1f] via-[#2c2c2e] to-[#1d1d1f] rounded-[3rem] p-[3px] shadow-2xl",style:{width:180,height:360},children:l("div",{className:"w-full h-full bg-black rounded-[2.7rem] overflow-hidden relative flex items-center justify-center",children:l("video",{src:$e[L].videoUrl,className:"w-full h-full object-cover",muted:!0,playsInline:!0,preload:"metadata"})})})}),l("div",{className:"scale-75 sm:scale-90 md:scale-100 opacity-100 z-10 transition-all duration-500",children:f("div",{className:"relative bg-gradient-to-b from-[#1d1d1f] via-[#2c2c2e] to-[#1d1d1f] rounded-[3.5rem] p-[4px] shadow-2xl",style:{width:300,height:600},children:[l("div",{className:"absolute top-3 left-1/2 transform -translate-x-1/2 w-32 h-8 bg-black rounded-full z-20"}),f("div",{className:"w-full h-full bg-black rounded-[3.2rem] overflow-hidden relative",children:[l("video",{ref:N,src:W.videoUrl,className:"w-full h-full object-cover",muted:s,playsInline:!0,controls:!1,onEnded:k,preload:"auto",onLoadedMetadata:()=>{x(!0)},style:{objectFit:"cover",objectPosition:"center"}}),l("div",{className:"absolute top-14 left-4 right-4 z-30",children:l("div",{className:"flex gap-1",children:$e.map((T,j)=>l("div",{className:`h-0.5 flex-1 rounded-full transition-all duration-300 ${j===t?"bg-white":"bg-white/30"}`},j))})}),l("div",{className:"absolute top-20 left-4 right-4 z-30",children:f("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>S(W.instagramUrl),children:[l("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-purple-600 via-pink-500 to-yellow-400 p-[2px]",children:l("div",{className:"w-full h-full rounded-full bg-black flex items-center justify-center",children:l("img",{src:W.profileImage,alt:W.name,className:"w-full h-full rounded-full object-cover",loading:"lazy",decoding:"async",onError:T=>{const j=T.target;j.src=`https://ui-avatars.com/api/?name=${W.name}&background=gradient&color=fff&size=40`}})})}),f("div",{className:"bg-black/40 backdrop-blur-sm rounded-lg px-2 py-1",children:[l("div",{className:"text-white text-xs font-semibold drop-shadow-lg",children:W.username}),f("div",{className:"text-gray-200 text-[10px] drop-shadow-md",children:[W.name," â€¢ ",W.followers," followers"]})]})]})}),l("div",{className:"absolute inset-0 flex items-center justify-center z-20",children:l("button",{onClick:C,className:"w-16 h-16 bg-black/50 backdrop-blur-sm rounded-full flex items-center justify-center text-white opacity-0 hover:opacity-100 transition-opacity duration-300",children:s?l("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:l("path",{d:"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"})}):l("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:l("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"})})})}),l("div",{className:"absolute bottom-4 left-4 right-4 z-30",children:l("div",{className:"h-1 bg-white/30 rounded-full cursor-pointer",onClick:D,children:l("div",{className:"h-full bg-white rounded-full transition-all duration-100",style:{width:`${a}%`}})})})]})]})}),l("div",{className:"hidden sm:block scale-50 sm:scale-75 opacity-60 transition-all duration-500 cursor-pointer hover:opacity-80",onClick:()=>M(U),children:l("div",{className:"relative bg-gradient-to-b from-[#1d1d1f] via-[#2c2c2e] to-[#1d1d1f] rounded-[3rem] p-[3px] shadow-2xl",style:{width:180,height:360},children:l("div",{className:"w-full h-full bg-black rounded-[2.7rem] overflow-hidden relative flex items-center justify-center",children:l("video",{src:$e[U].videoUrl,className:"w-full h-full object-cover",muted:!0,playsInline:!0,preload:"metadata"})})})})]}),f("div",{className:"flex items-center justify-center gap-4 sm:gap-8 mt-8 sm:mt-12 px-4",children:[l("button",{onClick:P,className:"w-12 h-12 bg-white rounded-full flex items-center justify-center text-black hover:bg-gray-50 transition-all duration-300 shadow-lg",children:l("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:l("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})})}),l("button",{onClick:_,className:"w-16 h-16 bg-white border border-black rounded-full flex items-center justify-center text-black hover:bg-gray-50 transition-all duration-300 shadow-xl",children:n?l("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:l("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}):l("svg",{className:"w-8 h-8 ml-1",fill:"currentColor",viewBox:"0 0 24 24",children:l("path",{d:"M8 5v14l11-7z"})})}),l("button",{onClick:I,className:"w-12 h-12 bg-white rounded-full flex items-center justify-center text-black hover:bg-gray-50 transition-all duration-300 shadow-lg",children:l("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:l("path",{d:"M8.59 16.59L10 18l6-6-6-6-1.41 1.41L13.17 12z"})})})]})]})},Sm=Object.freeze(Object.defineProperty({__proto__:null,ClientCarousel:wd},Symbol.toStringTag,{value:"Module"})),Nd=()=>l("footer",{className:"bg-gray-900 text-white py-8",children:f("div",{className:"max-w-6xl mx-auto px-4 text-center",children:[l("p",{className:"text-gray-400",children:"Â© 2024 Spectra. All rights reserved."}),l("p",{className:"mt-2",children:l("a",{href:"https://wa.me/972504322680",target:"_blank",rel:"noopener noreferrer",className:"underline text-gray-300 hover:text-white",children:"Chat on WhatsApp"})})]})});function kd(){const[t,e]=v.useState("");v.useEffect(()=>{e(navigator.userAgent||"")},[]);const n=/Instagram/i.test(t),i=/iPhone|iPad|iPod/i.test(t),s=/Android/i.test(t);return{isIG:n,isIOS:i,isAndroid:s}}function Cm(){const{isIG:t}=kd();if(!t)return null;const e=typeof window<"u"?window.location.href:"/";return l("div",{className:"fixed bottom-20 left-0 right-0 z-40",children:l("div",{className:"mx-auto max-w-screen-sm",children:f("div",{className:"mx-3 rounded-2xl bg-neutral-900/90 backdrop-blur border border-white/10 px-4 py-3 flex items-center justify-between",children:[l("span",{className:"text-white/80 text-sm",children:"For faster checkout, open in browser"}),l("button",{onClick:()=>window.open(e,"_blank"),className:"text-white/90 text-xs border border-white/20 rounded-lg px-3 py-1 hover:bg-white/10",children:"Open in Browser"})]})})})}function Pm({label:t="Special Offer",cta:e="Get it now",onClick:n}){return l("div",{className:"fixed bottom-0 left-0 right-0 z-50",children:l("div",{className:"mx-auto max-w-screen-sm",children:f("div",{className:"m-3 rounded-2xl bg-neutral-900/90 backdrop-blur border border-white/10 p-4 flex items-center justify-between",children:[l("span",{className:"text-white/90 text-sm",children:t}),l("button",{onClick:n,className:"rounded-xl px-4 py-2 text-sm font-medium bg-white text-black hover:opacity-90 transition-all duration-300",children:e})]})})})}function _d({open:t,onClose:e,onConfirm:n}){if(v.useEffect(()=>{if(!t)return;const s=r=>{r.key==="Escape"&&e()};return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[t,e]),!t)return null;function i(s){s.preventDefault();const r=new FormData(s.currentTarget);n({name:String(r.get("name")||""),phoneOrEmail:String(r.get("contact")||"")})}return l("div",{className:"fixed inset-0 z-[100] grid place-items-center bg-black/50 backdrop-blur-sm transition-all duration-300",onClick:e,role:"dialog","aria-modal":"true","aria-labelledby":"exit-modal-title",children:f("div",{className:"relative w-[min(520px,92vw)] rounded-2xl bg-neutral-950 text-white border border-white/10 p-6",onClick:s=>s.stopPropagation(),children:[l("button",{"aria-label":"Close",onClick:e,className:"absolute top-2 right-2 w-10 h-10 rounded-xl border border-white/15 bg-white/5 grid place-items-center hover:bg-white/10 transition-all duration-150",children:"âœ•"}),f("div",{className:"space-y-3",children:[l("h3",{id:"exit-modal-title",className:"text-lg font-semibold",children:"Wait! Before you go..."}),l("p",{className:"text-white/70 text-sm",children:"I've locked the special offer for you for the next 15 minutes. Where should I send it?"}),f("form",{onSubmit:i,className:"space-y-3",children:[l("input",{name:"name",placeholder:"Name",className:"w-full rounded-xl bg-white/5 border border-white/10 px-3 py-2 text-white placeholder:text-white/40 focus:outline-none focus:border-white/30 transition-all duration-150",required:!0,autoFocus:!0}),l("input",{name:"contact",placeholder:"Phone / Email",inputMode:"tel",autoComplete:"email",className:"w-full rounded-xl bg-white/5 border border-white/10 px-3 py-2 text-white placeholder:text-white/40 focus:outline-none focus:border-white/30 transition-all duration-150",required:!0}),f("div",{className:"flex gap-2",children:[l("button",{type:"submit",className:"rounded-xl px-4 py-2 bg-white text-black text-sm font-medium hover:bg-white/90 transition-all duration-150",children:"Save my offer"}),l("button",{type:"button",onClick:e,className:"rounded-xl px-4 py-2 border border-white/15 text-white/90 text-sm hover:bg-white/10 transition-all duration-150",children:"Continue to Instagram"})]})]})]})]})})}function Sd(){const[t,e]=v.useState(!1);return v.useEffect(()=>{if(typeof window>"u")return;const n=()=>history.pushState(null,"",location.href);n();const i=()=>{e(!0),n()};return window.addEventListener("popstate",i),()=>window.removeEventListener("popstate",i)},[]),{exitOpen:t,setExitOpen:e}}function Cd(t=15){localStorage.setItem("offerHoldUntil",String(Date.now()+t*60*1e3))}function Pd(){const t=localStorage.getItem("offerHoldUntil");return t?Date.now()<Number(t):!1}function _t(t,e={}){console.log("[track]",t,e),typeof window<"u"&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:t,...e,ts:Date.now()}))}const Mm=v.memo(wd),Tm=v.memo(Nd),Am=()=>{const t=nn(),{exitOpen:e,setExitOpen:n}=Sd(),[i,s]=v.useState(!1),{isIG:r}=kd(),a=v.useCallback(()=>{t("/signup?trial=true")},[t]);v.useCallback(()=>{window.open("https://wa.me/972504322680","_blank")},[]),v.useCallback(()=>{window.open("https://instagram.com/spectra_salon","_blank")},[]);const o=v.useCallback(()=>{_t("cta_click",{location:"sticky",page:"ugc_offer"});const d=document.querySelector("#lead-form-section");d&&d.scrollIntoView({behavior:"smooth",block:"start"})},[]),c=v.useCallback(async d=>{try{_t("exit_modal_convert",{page:"ugc_offer"}),(await fetch("/.netlify/functions/submitLead",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:d.name,contact:d.phoneOrEmail,source:"exit_modal_ugc",offer:"triple_bundle"})})).ok&&(Cd(15),s(!0),n(!1),setTimeout(()=>{const u=document.querySelector("#lead-form-section");u&&u.scrollIntoView({behavior:"smooth",block:"start"})},500))}catch(h){console.error("Error submitting exit lead:",h)}},[n]);return v.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"});const h=new URLSearchParams(window.location.search).get("ref")||"direct";_t("page_view",{ref:h,page:"ugc_offer",source:r?"instagram":"web"}),Pd()&&setTimeout(()=>{const m=document.querySelector("#lead-form-section");m&&m.scrollIntoView({behavior:"smooth",block:"start"})},1e3)},[r]),v.useEffect(()=>{const d=()=>{const h=document.getElementById("floating-cta"),u=document.querySelector("section");if(h&&u){const m=u.offsetHeight;window.scrollY>m*.9?(h.style.transform="translateX(-50%) translateY(0)",h.style.opacity="1"):(h.style.transform="translateX(-50%) translateY(120%)",h.style.opacity="0")}};return window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)},[]),f("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-white",children:[f("section",{className:"relative pt-12 pb-8 sm:pt-16 sm:pb-12 lg:pt-20 lg:pb-16 overflow-hidden min-h-screen flex items-center",children:[l("div",{className:"absolute inset-0 gradient-bg-hero"}),l("div",{className:"absolute inset-0 opacity-[0.015]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='80' height='80' viewBox='0 0 80 80' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23c79c6d' fill-opacity='1'%3E%3Ccircle cx='40' cy='40' r='0.8'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),l("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-8 lg:px-16 h-full flex flex-col justify-center",children:f("div",{className:"text-center",children:[f("div",{className:"flex items-center justify-center gap-3 sm:gap-4 mb-12 sm:mb-16 lg:mb-20",children:[l("div",{className:"w-2 h-2 sm:w-3 sm:h-3 bg-gradient-to-r from-spectra-gold-light to-spectra-gold rounded-full shadow-sm"}),l("span",{className:"text-spectra-gold-dark text-xs sm:text-sm lg:text-base font-semibold uppercase tracking-[0.3em] sm:tracking-[0.35em] opacity-90 px-3 text-center",children:"Trusted by 1,500+ Hair Professionals"}),l("div",{className:"w-2 h-2 sm:w-3 sm:h-3 bg-gradient-to-r from-spectra-gold to-spectra-gold-dark rounded-full shadow-sm"})]}),f("div",{className:"mb-16 sm:mb-20 lg:mb-24 xl:mb-28",children:[l("h1",{className:"text-6xl sm:text-7xl md:text-8xl lg:text-9xl xl:text-[8rem] 2xl:text-[10rem] font-extralight text-spectra-charcoal mb-6 sm:mb-8 lg:mb-10 leading-[0.85] tracking-[-0.03em]",children:"Stop Losing"}),l("h1",{className:"text-6xl sm:text-7xl md:text-8xl lg:text-9xl xl:text-[8rem] 2xl:text-[10rem] font-extralight text-spectra-charcoal mb-6 sm:mb-8 lg:mb-10 leading-[0.85] tracking-[-0.03em]",children:"Money on"}),l("h1",{className:"text-6xl sm:text-7xl md:text-8xl lg:text-9xl xl:text-[8rem] 2xl:text-[10rem] font-light text-transparent bg-clip-text bg-gradient-to-r from-spectra-gold-light via-spectra-gold to-spectra-gold-dark leading-[0.85] tracking-[-0.03em] drop-shadow-lg",children:"Wasted Hair Color"})]}),f("p",{className:"text-xl sm:text-2xl md:text-3xl lg:text-4xl xl:text-5xl text-spectra-charcoal-light mb-16 sm:mb-20 lg:mb-24 xl:mb-28 leading-[1.3] sm:leading-[1.25] font-light max-w-2xl sm:max-w-4xl lg:max-w-6xl xl:max-w-7xl mx-auto tracking-[-0.02em] px-2 sm:px-0",children:["Spectra's"," ",l("span",{className:"font-semibold text-gradient-spectra",children:"AI-powered platform"})," ","cuts color waste byÂ ",l("span",{className:"font-semibold text-gradient-spectra",children:"85%"})," ","and saves salons",f("span",{className:"font-semibold text-gradient-spectra",children:[" ","up toÂ $10,000+ a year"]}),". Get set up in"," ",l("span",{className:"font-semibold text-gradient-spectra",children:"5Â minutes"}),"."]}),f("div",{className:"flex flex-col sm:flex-row gap-6 sm:gap-8 lg:gap-10 justify-center items-center px-4 sm:px-0",children:[l("button",{onClick:a,className:"inline-block px-8 py-4 md:px-10 md:py-5 lg:px-12 lg:py-6 bg-gradient-to-r from-amber-500 via-orange-500 to-red-500 hover:from-amber-600 hover:via-orange-600 hover:to-red-600 text-white font-semibold text-base md:text-lg lg:text-xl rounded-full transition-all duration-300 shadow-2xl hover:shadow-3xl transform hover:scale-[1.02] text-center min-w-fit",children:"Take me straight to my free trial"}),f("button",{onClick:()=>window.open("https://calendly.com/spectra-demo/15min","_blank"),className:"group flex items-center gap-4 sm:gap-6 lg:gap-8 text-spectra-charcoal-light hover:text-spectra-gold font-medium text-lg sm:text-xl lg:text-2xl xl:text-3xl transition-all duration-300 px-6 sm:px-10 lg:px-12 py-4 sm:py-6 lg:py-8 justify-center min-w-fit",children:[l("div",{className:"w-16 h-16 sm:w-20 sm:h-20 lg:w-24 lg:h-24 xl:w-28 xl:h-28 bg-gradient-to-br from-spectra-cream-dark to-spectra-cream group-hover:from-spectra-gold/10 group-hover:to-spectra-gold-light/10 rounded-full flex items-center justify-center transition-all duration-300 shadow-lg hover:shadow-xl border border-spectra-gold/10 group-hover:border-spectra-gold/20 flex-shrink-0",children:l("svg",{className:"w-7 h-7 sm:w-8 sm:h-8 lg:w-9 lg:h-9 xl:w-10 xl:h-10 ml-1 sm:ml-1.5",fill:"currentColor",viewBox:"0 0 20 20",children:l("path",{d:"M8 5v10l8-5-8-5z"})})}),l("span",{className:"whitespace-nowrap",children:"Watch Demo"})]})]})]})})]}),f("section",{id:"lead-form-section",className:"py-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-gray-50 via-white to-gray-50 relative overflow-hidden",children:[f("div",{className:"absolute inset-0 opacity-3",children:[l("div",{className:"absolute top-0 right-0 w-96 h-96 bg-gray-200 rounded-full blur-3xl"}),l("div",{className:"absolute bottom-0 left-0 w-80 h-80 bg-gray-100 rounded-full blur-3xl"})]}),f("div",{className:"max-w-7xl mx-auto relative z-10",children:[l("div",{className:"text-center mb-16",children:f("h2",{className:"text-4xl sm:text-5xl font-light text-gray-900 mb-6 leading-tight",children:[l("span",{className:"bg-gradient-to-r from-amber-500 via-orange-500 to-red-500 bg-clip-text text-transparent font-medium",children:"Triple Bundle"}),l("span",{className:"text-gray-900 font-light",children:" Special Offer"})]})}),f("div",{className:"max-w-lg mx-auto",children:[f("div",{className:"space-y-6 mb-12",children:[l("div",{className:"group p-6 hover:bg-gray-50/80 transition-all duration-300 rounded-2xl",children:f("div",{className:"flex items-start gap-4",children:[l("div",{className:"w-8 h-8 bg-emerald-500 text-white rounded-full flex items-center justify-center flex-shrink-0 font-semibold text-sm",children:"1"}),f("div",{className:"flex-1",children:[l("h4",{className:"text-xl font-medium text-gray-900 mb-2",children:"30 Day Free Trial"}),l("p",{className:"text-gray-600 leading-relaxed",children:"Full access, no commitment required"})]})]})}),l("div",{className:"group p-6 hover:bg-gray-50/80 transition-all duration-300 rounded-2xl",children:f("div",{className:"flex items-start gap-4",children:[l("div",{className:"w-8 h-8 bg-amber-500 text-white rounded-full flex items-center justify-center flex-shrink-0 font-semibold text-sm",children:"2"}),f("div",{className:"flex-1",children:[l("h4",{className:"text-xl font-medium text-gray-900 mb-2",children:"Free Equipment"}),l("p",{className:"text-gray-600 leading-relaxed",children:"Smart Bluetooth Scale & Premium Lamicall Stand included as gift"})]})]})}),l("div",{className:"group p-6 hover:bg-gray-50/80 transition-all duration-300 rounded-2xl",children:f("div",{className:"flex items-start gap-4",children:[l("div",{className:"w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center flex-shrink-0 font-semibold text-sm",children:"3"}),f("div",{className:"flex-1",children:[l("h4",{className:"text-xl font-medium text-gray-900 mb-2",children:"Custom Training & Setup"}),l("p",{className:"text-gray-600 leading-relaxed",children:"Complete setup and team training included (Value: $500)"})]})]})})]}),l("div",{className:"text-center mb-14",children:f("div",{className:"relative inline-flex flex-col items-center bg-gradient-to-r from-white via-gray-50 to-white rounded-2xl px-8 py-6 border border-gray-200 shadow-lg hover:shadow-xl hover:border-gray-300 transition-all duration-500 transform scale-[1.2] hover:scale-[1.25]",children:[l("div",{className:"absolute -top-3 -right-3 bg-gradient-to-r from-red-500 to-orange-500 text-white text-sm font-bold px-3 py-1.5 rounded-full shadow-lg animate-pulse",children:"50% OFF"}),l("p",{className:"text-sm text-gray-600 mb-2 font-medium",children:"Starting from"}),f("div",{className:"flex items-center gap-6 mb-2",children:[f("div",{className:"text-center",children:[f("p",{className:"text-2xl font-bold text-blue-600 mb-1 transform hover:scale-110 transition-transform duration-200",children:["$39",l("span",{className:"text-lg",children:"/month"})]}),l("p",{className:"text-xs text-gray-500 font-medium",children:"Solo User"})]}),l("div",{className:"w-px h-12 bg-gray-300"}),f("div",{className:"text-center",children:[f("p",{className:"text-2xl font-bold text-purple-600 mb-1 transform hover:scale-110 transition-transform duration-200",children:["$79",l("span",{className:"text-lg",children:"/month"})]}),l("p",{className:"text-xs text-gray-500 font-medium",children:"Team Plan"})]})]}),l("p",{className:"text-xs text-gray-500",children:"Full access included"})]})}),l("div",{className:"text-center pt-4 pb-12",children:f("button",{onClick:a,className:"group relative bg-gradient-to-r from-blue-600 via-purple-600 to-blue-700 text-white px-8 py-3 md:px-10 md:py-4 rounded-xl text-base md:text-lg font-semibold shadow-xl hover:shadow-blue-500/25 transition-all duration-300 transform scale-[1.05] hover:scale-[1.10] hover:-rotate-1 min-w-[260px] md:min-w-[280px]",children:[l("span",{className:"relative z-10 flex items-center justify-center gap-3",children:"Take me straight to my free trial"}),l("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-700 via-purple-700 to-blue-800 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})})]})]})]}),f("section",{className:"py-12 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-gray-50 via-white to-gray-100 relative overflow-hidden",children:[f("div",{className:"absolute inset-0 opacity-30",children:[l("div",{className:"absolute top-10 left-10 w-72 h-72 bg-gradient-to-br from-blue-100 to-purple-100 rounded-full blur-3xl"}),l("div",{className:"absolute bottom-10 right-10 w-96 h-96 bg-gradient-to-br from-green-100 to-cyan-100 rounded-full blur-3xl"}),l("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-gradient-to-br from-yellow-50 to-orange-50 rounded-full blur-3xl"})]}),f("div",{className:"max-w-6xl mx-auto relative z-10",children:[f("div",{className:"text-center mb-12",children:[f("h2",{className:"text-4xl sm:text-5xl font-light text-gray-900 mb-6 leading-tight",children:["Your salon's potential savings with"," ",l("span",{className:"bg-gradient-to-r from-amber-600 via-orange-500 to-red-500 bg-clip-text text-transparent font-medium",children:"Spectra"})]}),l("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto leading-relaxed",children:"See the real impact on your bottom line and discover how much you could save"})]}),f("div",{className:"grid md:grid-cols-3 gap-8 mb-16",children:[l("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-lg border border-gray-200/50 hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:f("div",{className:"text-center",children:[l("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:l("span",{className:"text-2xl",children:"ðŸ’°"})}),l("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"$8,500"}),l("p",{className:"text-gray-600 mb-4",children:"Average annual savings"}),f("div",{className:"text-sm text-gray-500",children:[l("p",{children:"â€¢ 85% less color waste"}),l("p",{children:"â€¢ Better inventory management"}),l("p",{children:"â€¢ Optimized color mixing"})]})]})}),l("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-lg border border-gray-200/50 hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:f("div",{className:"text-center",children:[l("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:l("span",{className:"text-2xl",children:"â±ï¸"})}),l("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"3.5 hours"}),l("p",{className:"text-gray-600 mb-4",children:"Saved per week"}),f("div",{className:"text-sm text-gray-500",children:[l("p",{children:"â€¢ Automated color calculations"}),l("p",{children:"â€¢ Instant mixing ratios"}),l("p",{children:"â€¢ Real-time tracking"})]})]})}),l("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-lg border border-gray-200/50 hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:f("div",{className:"text-center",children:[l("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:l("span",{className:"text-2xl",children:"ðŸ“ˆ"})}),l("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"23%"}),l("p",{className:"text-gray-600 mb-4",children:"Increase in profits"}),f("div",{className:"text-sm text-gray-500",children:[l("p",{children:"â€¢ Better cost control"}),l("p",{children:"â€¢ Reduced waste"}),l("p",{children:"â€¢ Enhanced efficiency"})]})]})})]})]})]}),f("section",{className:"relative py-20 px-4 sm:px-6 lg:px-8 overflow-hidden",children:[l("div",{className:"absolute inset-0 gradient-bg-hero"}),l("div",{className:"absolute inset-0 opacity-[0.015]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='80' height='80' viewBox='0 0 80 80' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23c79c6d' fill-opacity='1'%3E%3Ccircle cx='40' cy='40' r='0.8'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),f("div",{className:"max-w-6xl mx-auto relative z-10",children:[f("div",{className:"text-center mb-12",children:[l("p",{className:"text-xl text-spectra-gold-dark mb-4 font-medium",children:"Ask yourselfâ€¦"}),f("h2",{className:"text-4xl sm:text-5xl font-light text-spectra-charcoal leading-tight",children:["Are you still dreaming of being the"," ",l("span",{className:"bg-gradient-to-r from-spectra-gold-light via-spectra-gold to-spectra-gold-dark bg-clip-text text-transparent font-medium",children:"best salon owner"})," ","you can be?"]})]}),f("div",{className:"relative max-w-2xl mx-auto mb-8",children:[l("div",{className:"absolute -inset-4 bg-gradient-to-r from-spectra-gold/20 to-spectra-gold-light/20 rounded-3xl blur-xl opacity-40"}),l("div",{className:"absolute -inset-2 bg-gradient-to-r from-spectra-gold-light/15 to-spectra-gold/15 rounded-3xl blur-lg"}),l("div",{className:"relative rounded-3xl overflow-hidden border-2 border-spectra-gold/30 shadow-[0_20px_60px_rgba(199,156,109,0.2)]",children:l("img",{src:"/red_haed_using_spectra.jpg",alt:"Red-haired stylist using Spectra system",className:"w-full h-auto object-cover",loading:"lazy",decoding:"async",onError:d=>{const h=d.target;h.src="https://images.unsplash.com/photo-1595476108010-b4d1f102b1b1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80"}})})]}),l("p",{className:"text-lg text-spectra-charcoal-light max-w-3xl mx-auto",children:"With us, you can."})]})]}),f("section",{className:"relative py-20 lg:py-32 overflow-hidden",children:[l("div",{className:"absolute inset-0 z-0",style:{backgroundImage:`
              linear-gradient(rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.8)),
              url('/dream-salon2.jpg')
            `,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed"}}),l("div",{className:"absolute inset-0 z-5 bg-gradient-to-b from-black/60 via-transparent to-transparent h-1/3"}),f("div",{className:"absolute inset-0 overflow-hidden",children:[l("div",{className:"absolute top-20 left-20 w-96 h-96 bg-gradient-to-br from-white/5 to-transparent rounded-full blur-3xl animate-pulse"}),l("div",{className:"absolute bottom-32 right-16 w-80 h-80 bg-gradient-to-br from-blue-400/10 to-purple-500/10 rounded-full blur-3xl animate-pulse delay-1000"}),l("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-72 h-72 bg-gradient-to-br from-amber-400/8 to-orange-500/8 rounded-full blur-3xl animate-pulse delay-500"}),l("div",{className:"absolute top-10 right-32 w-64 h-64 bg-gradient-to-br from-pink-400/5 to-purple-400/5 rounded-full blur-2xl animate-pulse delay-2000"}),l("div",{className:"absolute bottom-10 left-32 w-48 h-48 bg-gradient-to-br from-cyan-400/8 to-blue-400/8 rounded-full blur-2xl animate-pulse delay-3000"})]}),f("div",{className:"relative z-10 max-w-7xl mx-auto px-8 sm:px-12 lg:px-16",children:[f("div",{className:"mb-20",children:[l("div",{className:"text-center mb-12",children:f("h2",{className:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-extralight text-white mb-6 leading-[0.9] tracking-[-0.02em]",children:["See what Spectra"," ",l("span",{className:"bg-gradient-to-r from-spectra-gold-light via-spectra-gold to-spectra-gold-dark bg-clip-text text-transparent font-medium",children:"clients"})," ","are saying"]})}),l("div",{className:"relative",children:l(Mm,{})})]}),f("div",{className:"text-center mb-16",children:[l("h2",{className:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-extralight text-white mb-6 leading-[0.9] tracking-[-0.02em]",children:"Ready to"}),l("h2",{className:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-light text-transparent bg-clip-text bg-gradient-to-r from-blue-300 via-purple-300 to-pink-300 leading-[0.9] tracking-[-0.02em] drop-shadow-2xl mb-8",children:"Transform?"}),l("p",{className:"text-xl lg:text-2xl text-white/80 max-w-4xl mx-auto leading-relaxed font-light",children:"Join thousands of salon professionals who've revolutionized their business with Spectra."})]}),l("div",{className:"mb-16",children:l("div",{className:"relative max-w-4xl mx-auto",children:f("div",{className:"relative p-8 lg:p-12 bg-white/15 backdrop-blur-3xl rounded-[3rem] border border-white/25 shadow-2xl overflow-hidden",children:[l("div",{className:"absolute top-6 right-8 w-16 h-16 bg-gradient-to-br from-orange-400/20 to-red-500/20 rounded-full blur-xl animate-pulse"}),l("div",{className:"absolute bottom-6 left-8 w-12 h-12 bg-gradient-to-br from-purple-400/20 to-pink-300/20 rounded-full blur-xl animate-pulse delay-1000"}),l("div",{className:"absolute top-1/2 left-1/4 w-8 h-8 bg-gradient-to-br from-amber-400/20 to-orange-500/20 rounded-full blur-lg animate-pulse delay-500"}),f("div",{className:"relative z-10 text-center",children:[l("div",{className:"w-20 h-20 bg-gradient-to-br from-orange-400 to-red-500 rounded-3xl flex items-center justify-center shadow-2xl backdrop-blur-xl border border-white/30 mx-auto mb-6 group-hover:scale-110 transition-transform duration-500",children:l("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),l("h3",{className:"text-3xl lg:text-4xl font-light text-white mb-4 leading-tight tracking-[-0.02em]",children:"Book Your Demo"}),l("p",{className:"text-lg text-white/80 mb-8 leading-relaxed font-light max-w-2xl mx-auto",children:"See Spectra in action with a personalized walkthrough"}),f("a",{href:"/signup?trial=true",className:"group relative inline-flex items-center gap-3 px-10 py-5 bg-gradient-to-r from-[#FF9500] to-[#E6850E] hover:from-[#E6850E] hover:to-[#CC7A0D] text-white font-semibold text-lg rounded-full transition-all duration-300 shadow-2xl hover:shadow-3xl transform hover:scale-[1.02] border border-[#FF9500]/20",children:[l("span",{className:"relative z-10",children:"Start Free Trial"}),l("svg",{className:"w-5 h-5 relative z-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})}),l("div",{className:"absolute inset-0 bg-gradient-to-r from-[#E6850E] to-[#CC7A0D] rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]})]})})}),f("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 mb-16 max-w-5xl mx-auto",children:[f("div",{className:"group relative",children:[l("div",{className:"absolute -inset-4 rounded-[2.5rem] blur-xl opacity-0 group-hover:opacity-50 transition-all duration-700 ease-out pointer-events-none bg-gradient-to-r from-green-400/40 to-green-500/40"}),f("a",{href:"https://wa.me/972504322680?text=Hi! I'm interested in learning more about Spectra",target:"_blank",rel:"noopener noreferrer",className:"relative bg-white/15 backdrop-blur-3xl rounded-[2rem] border border-white/25 shadow-2xl hover:shadow-3xl transition-all duration-500 p-8 block group-hover:scale-[1.02] group-hover:border-white/40 h-full",children:[l("div",{className:"absolute inset-1 rounded-[1.8rem] bg-gradient-to-br from-white/10 to-transparent pointer-events-none"}),f("div",{className:"relative flex flex-col items-center text-center h-full justify-center",children:[l("div",{className:"w-16 h-16 bg-gradient-to-br from-green-400 to-green-500 rounded-2xl flex items-center justify-center shadow-2xl backdrop-blur-xl border border-white/30 group-hover:scale-110 transition-transform duration-500 mb-4",children:l("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:l("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})})}),l("h3",{className:"text-xl font-semibold text-white mb-3 tracking-tight",children:"WhatsApp"}),l("p",{className:"text-white/70 text-sm",children:"Quick response"})]})]})]}),f("div",{className:"group relative",children:[l("div",{className:"absolute -inset-4 rounded-[2.5rem] blur-xl opacity-0 group-hover:opacity-50 transition-all duration-700 ease-out pointer-events-none bg-gradient-to-r from-pink-400/40 to-purple-500/40"}),f("a",{href:"https://www.instagram.com/spectra.ci/",target:"_blank",rel:"noopener noreferrer",className:"relative bg-white/15 backdrop-blur-3xl rounded-[2rem] border border-white/25 shadow-2xl hover:shadow-3xl transition-all duration-500 p-8 block group-hover:scale-[1.02] group-hover:border-white/40 h-full",onClick:d=>{d.preventDefault(),navigator.clipboard.writeText("Hi! I'm interested in learning more about Spectra. Can you help me get started?"),window.open("https://www.instagram.com/spectra.ci/","_blank");const h=document.createElement("div");h.innerHTML="Message copied! Paste it in Instagram DM",h.className="fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50",document.body.appendChild(h),setTimeout(()=>h.remove(),3e3)},children:[l("div",{className:"absolute inset-1 rounded-[1.8rem] bg-gradient-to-br from-white/10 to-transparent pointer-events-none"}),f("div",{className:"relative flex flex-col items-center text-center h-full justify-center",children:[l("div",{className:"w-16 h-16 bg-gradient-to-br from-pink-400 to-purple-500 rounded-2xl flex items-center justify-center shadow-2xl backdrop-blur-xl border border-white/30 group-hover:scale-110 transition-transform duration-500 mb-4",children:l("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:l("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})}),l("h3",{className:"text-xl font-semibold text-white mb-3 tracking-tight",children:"Instagram DM"}),l("p",{className:"text-white/70 text-sm",children:"@spectra.ci"})]})]})]}),f("div",{className:"group relative",children:[l("div",{className:"absolute -inset-4 rounded-[2.5rem] blur-xl opacity-0 group-hover:opacity-40 transition-all duration-700 ease-out pointer-events-none bg-gradient-to-r from-blue-400/30 to-cyan-300/30"}),f("a",{href:"mailto:office@spectra-ci.com",className:"relative bg-white/15 backdrop-blur-3xl rounded-[2rem] border border-white/25 shadow-2xl hover:shadow-3xl transition-all duration-500 p-8 block group-hover:scale-[1.02] group-hover:border-white/40 h-full",children:[l("div",{className:"absolute inset-1 rounded-[1.8rem] bg-gradient-to-br from-white/10 to-transparent pointer-events-none"}),f("div",{className:"relative flex flex-col items-center text-center h-full justify-center",children:[l("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-400 to-cyan-300 rounded-2xl flex items-center justify-center shadow-2xl backdrop-blur-xl border border-white/30 group-hover:scale-110 transition-transform duration-500 mb-4",children:l("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),l("h3",{className:"text-xl font-semibold text-white mb-3 tracking-tight",children:"Email Us"}),l("p",{className:"text-white/70 text-sm",children:"office@spectra-ci.com"})]})]})]})]})]})]}),l("div",{id:"floating-cta",className:"hidden",style:{transform:"translateX(-50%) translateY(120%)",opacity:0},children:f("div",{className:"relative",children:[l("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-400 to-red-400 rounded-full blur-lg opacity-30 scale-110"}),l("button",{onClick:a,className:"relative group bg-gradient-to-r from-amber-500 via-orange-500 to-red-500 hover:from-amber-600 hover:via-orange-600 hover:to-red-600 text-white px-7 py-3 md:px-8 md:py-4 rounded-full font-semibold shadow-[0_6px_25px_rgba(251,146,60,0.35)] hover:shadow-[0_8px_35px_rgba(251,146,60,0.5)] transition-all duration-300 hover:scale-105 flex items-center gap-3 text-sm md:text-base whitespace-nowrap",children:l("span",{className:"whitespace-nowrap",children:"Take me straight to my free trial"})})]})}),l(Tm,{}),l(Cm,{}),l(Pm,{label:"$39 Solo Plan - Creators Special !",cta:"Get Started Now",onClick:o}),l(_d,{open:e,onClose:()=>{_t("exit_modal_close",{page:"ugc_offer"}),n(!1)},onConfirm:c})]})},Dm=()=>{nn();const{login:t}=vi(),[e,n]=v.useState({email:"",password:""}),[i,s]=v.useState(!1),[r,a]=v.useState(null),o=d=>{const{name:h,value:u}=d.target;n(m=>({...m,[h]:u})),a(null)};return l("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-spectra-cream via-white to-spectra-cream-dark py-12 px-4 sm:px-6 lg:px-8",children:f("div",{className:"max-w-md w-full space-y-8",children:[f("div",{className:"text-center",children:[l("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-spectra-gold to-spectra-gold-dark rounded-full flex items-center justify-center shadow-xl",children:l("span",{className:"text-white font-bold text-2xl",children:"S"})}),l("h2",{className:"text-3xl font-extrabold bg-gradient-to-r from-spectra-charcoal to-spectra-charcoal-light bg-clip-text text-transparent",children:"Sign in to Spectra"}),f("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",l(G,{to:"/signup",className:"font-medium text-spectra-gold hover:text-spectra-gold-dark transition-colors duration-300",children:"create a new account"})]})]}),l("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-8 border border-spectra-gold/20",children:f("form",{className:"space-y-6",onSubmit:async d=>{if(d.preventDefault(),s(!0),a(null),!e.email||!e.password){a("Please fill in all fields"),s(!1);return}try{await t(e.email,e.password),window.location.href="/admin"}catch{a("Invalid email or password"),s(!1)}},children:[f("div",{className:"space-y-4",children:[f("div",{children:[l("label",{htmlFor:"email",className:"block text-sm font-medium text-spectra-charcoal",children:"Email address"}),l("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:o,className:"mt-1 appearance-none relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-spectra-charcoal rounded-xl focus:outline-none focus:ring-2 focus:ring-spectra-gold focus:border-spectra-gold transition-all duration-300 sm:text-sm",placeholder:"Enter your email"})]}),f("div",{children:[l("label",{htmlFor:"password",className:"block text-sm font-medium text-spectra-charcoal",children:"Password"}),l("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:e.password,onChange:o,className:"mt-1 appearance-none relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-spectra-charcoal rounded-xl focus:outline-none focus:ring-2 focus:ring-spectra-gold focus:border-spectra-gold transition-all duration-300 sm:text-sm",placeholder:"Enter your password"})]})]}),r&&l("div",{className:"rounded-xl bg-red-50 border border-red-200 p-4",children:l("p",{className:"text-sm text-red-800",children:r})}),l("div",{className:"flex items-center justify-between",children:l(G,{to:"/forgot-password",className:"text-sm text-spectra-gold hover:text-spectra-gold-dark transition-colors duration-300",children:"Forgot your password?"})}),l("div",{children:l(me,{type:"submit",disabled:i,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-xl text-white bg-gradient-to-r from-spectra-gold to-spectra-gold-dark hover:from-spectra-gold-dark hover:to-spectra-gold focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-spectra-gold disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",children:i?f("div",{className:"flex items-center",children:[l("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Signing in..."]}):"Sign in"})})]})}),l("div",{className:"text-center",children:l("p",{className:"text-xs text-gray-500",children:"Spectra Salon Management System"})})]})})},Em=({onSelect:t,placeholder:e="Start typing your address...",className:n,isLoaded:i=!0})=>{const s=v.useRef(null),r=v.useRef(null),[a,o]=v.useState(""),c=(h,u)=>{var m;return((m=h.find(g=>g.types.includes(u)))==null?void 0:m.long_name)||""},d=()=>{if(!s.current)return;const h=s.current.getPlace(),u=(h==null?void 0:h.address_components)||[],m=c(u,"route"),g=c(u,"street_number"),p=c(u,"locality")||c(u,"sublocality")||c(u,"administrative_area_level_2"),b=c(u,"administrative_area_level_1"),y=c(u,"postal_code"),x=c(u,"country"),N=(h==null?void 0:h.formatted_address)||`${m} ${g}, ${p} ${y}, ${x}`.trim(),w=`${m} ${g}`.trim();o(w),t({addressLine1:w,city:p,state:b,zip:y,country:x,fullAddress:N})};return v.useEffect(()=>{if(!i||typeof window>"u"||window.gmpxExtendedLoaded)return;const h=document.createElement("script");h.src="https://unpkg.com/@googlemaps/extended-component-library@0.6/dist/index.min.js",h.async=!0,h.onload=()=>window.gmpxExtendedLoaded=!0,document.head.appendChild(h)},[i]),v.useEffect(()=>{if(!r.current)return;const h=u=>{var m,g,p;try{const b=((g=(m=u==null?void 0:u.target)==null?void 0:m.value)==null?void 0:g.place)||((p=u==null?void 0:u.detail)==null?void 0:p.place);if(!b)return;const y=b.addressComponents||[],x=P=>{var I,L;return((I=y.find(U=>{var W,T;return(T=(W=U.types||U.type)==null?void 0:W.includes)==null?void 0:T.call(W,P)}))==null?void 0:I.longText)||((L=y.find(U=>{var W,T;return(T=(W=U.types||U.type)==null?void 0:W.includes)==null?void 0:T.call(W,P)}))==null?void 0:L.long_name)||""},N=x("route"),w=x("street_number"),k=x("locality")||x("sublocality")||x("administrative_area_level_2"),_=x("administrative_area_level_1"),C=x("postal_code"),D=x("country"),S=b.formattedAddress||b.formatted_address||"",M=`${N} ${w}`.trim();o(M||S||""),t({addressLine1:M||S||"",city:k,state:_,zip:C,country:D,fullAddress:S||`${N} ${w}, ${k} ${C}, ${D}`})}catch{}};return r.current.addEventListener("gmpx-placechange",h),()=>{var u;return(u=r.current)==null?void 0:u.removeEventListener("gmpx-placechange",h)}},[t,i]),i?typeof window<"u"&&customElements.get("gmpx-place-autocomplete")?l("gmpx-place-autocomplete",{ref:r,placeholder:e,class:n||"mt-1 w-full px-4 py-3 bg-white border border-gray-300 rounded-2xl focus:border-gray-900/30 focus:ring-1 focus:ring-gray-900/20 transition-all duration-200 text-gray-900 placeholder-gray-400",style:{display:"block",zIndex:1e3}}):l(kf,{onLoad:h=>s.current=h,onPlaceChanged:d,options:{fields:["address_components","formatted_address"],types:["address"]},children:l("input",{type:"text",placeholder:e,className:n||"mt-1 w-full px-4 py-3 bg-white border border-gray-300 rounded-2xl focus:border-gray-900/30 focus:ring-1 focus:ring-gray-900/20 transition-all duration-200 text-gray-900 placeholder-gray-400",value:a,onChange:h=>o(h.target.value),autoComplete:"shipping street-address"})}):null};function Lm(){return{toast:v.useCallback(e=>{const{title:n,description:i,variant:s}=e;s==="destructive"?console.error(`[Toast: ${s}] ${n||""} - ${i||""}`):console.log(`[Toast: ${s||"default"}] ${n||""} - ${i||""}`)},[])}}class hn{constructor(){this.isInitialized=!1}static getInstance(){return hn.instance||(hn.instance=new hn),hn.instance}async initializeTokenization(e,n){var i,s;if(await this.waitForDependencies(),!((s=(i=window.OfficeGuy)==null?void 0:i.Payments)!=null&&s.BindFormSubmit))throw new Error("SUMIT Payments library not loaded");return new Promise((r,a)=>{window.OfficeGuy.Payments.BindFormSubmit({CompanyID:n.CompanyID,APIPublicKey:n.APIPublicKey,Selector:e,onSuccess:o=>{console.log("SUMIT tokenization success:",o);const c=document.querySelector('input[name="og-token"]');c&&o.Token&&(c.value=o.Token),this.isInitialized=!0,r()},onError:o=>{console.error("SUMIT tokenization error:",o);const c=document.querySelector(".og-errors");c&&(c.textContent=o.Message||"Payment validation failed"),a(new Error(o.Message||"Tokenization failed"))}})})}getToken(){const e=document.querySelector('input[name="og-token"]');return(e==null?void 0:e.value)||null}clearToken(){const e=document.querySelector('input[name="og-token"]');e&&(e.value="")}async tokenizeForm(e){try{if(!this.isInitialized)throw new Error("Tokenization not initialized");return this.clearToken(),new Promise((n,i)=>{var d,h,u,m,g;const s=setTimeout(()=>{i(new Error("Tokenization timeout - please try again"))},1e4),r=(h=(d=window.OfficeGuy)==null?void 0:d.Payments)==null?void 0:h.onSuccess,a=(m=(u=window.OfficeGuy)==null?void 0:u.Payments)==null?void 0:m.onError;(g=window.OfficeGuy)!=null&&g.Payments&&(window.OfficeGuy.Payments.onSuccess=p=>{clearTimeout(s),console.log("âœ… SUMIT tokenization completed:",p);const b=document.querySelector('input[name="og-token"]');b&&p.Token&&(b.value=p.Token),r&&(window.OfficeGuy.Payments.onSuccess=r),a&&(window.OfficeGuy.Payments.onError=a),n({success:!0,token:p.Token})},window.OfficeGuy.Payments.onError=p=>{clearTimeout(s),console.error("âŒ SUMIT tokenization error:",p),r&&(window.OfficeGuy.Payments.onSuccess=r),a&&(window.OfficeGuy.Payments.onError=a),n({success:!1,error:p.Message||"Tokenization failed"})});const o=document.querySelector(e);if(!o){clearTimeout(s),i(new Error("Form not found"));return}const c=new Event("submit",{bubbles:!0,cancelable:!0});o.dispatchEvent(c)})}catch(n){return{success:!1,error:n.message}}}async waitForDependencies(e=50){var n;for(let i=0;i<e;i++){if(window.jQuery&&((n=window.OfficeGuy)!=null&&n.Payments))return;await new Promise(s=>setTimeout(s,100))}throw new Error("SUMIT dependencies failed to load")}}const oo=hn.getInstance(),Ai=["Account Info","Shipping Info","Confirm"],Im=["places"],Om=()=>{const t=nn(),{toast:e}=Lm(),[n]=Cf(),i=n.get("trial")==="true",s=v.useRef(null),[r,a]=v.useState(!1),{exitOpen:o,setExitOpen:c}=Sd(),[d,h]=v.useState(!1),u="your_google_maps_key_here",{isLoaded:m}=_f({id:"google-maps-script",googleMapsApiKey:u,libraries:Im,language:"en",region:"IL"}),[g,p]=v.useState(!1),[b,y]=v.useState(null);v.useEffect(()=>{if(m){p(!0),y(null);return}const E=setTimeout(()=>{m||(p(!1),y("Address autocomplete temporarily unavailable. You can continue without it."))},1e4);return()=>clearTimeout(E)},[m]);const[x,N]=v.useState(0),[w,k]=v.useState({email:"",password:"",fullName:"",phone:"",instagram:"",plan_code:"single",plan_label:"Single User",plan_price:39,plan_currency:"USD",shipping_address:"",shipping_city:"",shipping_zip:"",shipping_country:"",shipping_state:"",full_shipping_address:"",company:"",invoice_company:"",billing_address:"",billing_city:"",billing_zip:"",billing_country:"",billing_state:"",card_number:"",card_exp_month:"",card_exp_year:"",card_cvc:""}),[_,C]=v.useState(!1),[D,S]=v.useState(null),[M,P]=v.useState(!1),[I,L]=v.useState(null),[U,W]=v.useState(null),[T,j]=v.useState(""),[F,J]=v.useState("IL"),[de,ke]=v.useState(!0),[Oe,Ee]=v.useState("");v.useState("");const R=(()=>{const E=typeof navigator<"u"&&navigator.userAgent||"",A=typeof window<"u"?new URLSearchParams(window.location.search):null,O=(A==null?void 0:A.get("ig_mode"))||(A==null?void 0:A.get("ig_preview"))||(A==null?void 0:A.get("ig_only"))||(A==null?void 0:A.get("ig")),z=O?/^(1|true|yes|ig)$/i.test(O):!1;return/instagram/i.test(E)||z})();v.useEffect(()=>{if(!R)return;const E=document.documentElement.style.overflowX;return document.documentElement.style.overflowX="hidden",document.body.style.overflowX="hidden",()=>{document.documentElement.style.overflowX=E,document.body.style.overflowX=E}},[R]),v.useEffect(()=>{if(!R)return;const E=new URLSearchParams(window.location.search),A=E.get("ig_username")||E.get("ig")||"",z=/^(1|true|yes|ig)$/i.test(A||"")?"":A;z&&!w.instagram&&k(ie=>({...ie,instagram:z.startsWith("@")?z:`@${z}`}))},[R]),v.useEffect(()=>{if(x!==2||!i)return;(async()=>{try{console.log("Initializing SUMIT tokenization...");const A="12345",O={}.VITE_SUMIT_API_PUBLIC_KEY||"pk_live_your_public_key_here";if(!A||!O){console.error("SUMIT configuration missing",{companyId:!!A,apiPublicKey:!!O}),S("Payment system not configured. Please check environment variables.");return}await oo.initializeTokenization("#payment-form",{CompanyID:A,APIPublicKey:O}),a(!0),console.log("SUMIT tokenization ready")}catch(A){console.error("Failed to initialize SUMIT tokenization:",A),e({title:"Payment Setup Error",description:"Unable to initialize payment system. Please refresh and try again.",variant:"destructive"})}})()},[x,i,e]),v.useEffect(()=>{(async()=>{var E;try{const A=await fetch("/.netlify/functions/detect-geo");if(!A.ok)return;const O=await A.json().catch(()=>({})),z=O&&O.dial_code||"",ie=O&&O.country||null;L(ie),W(z),ie&&J(ie),z&&!((E=w.phone)!=null&&E.startsWith("+"))&&(k(te=>({...te,phone:z})),j(z+" "))}catch{}})()},[]);const We=(E,A)=>{const O=String(E||"").replace(/[^0-9+]/g,"");if(O.startsWith("+"))return O;const z=A||F||I||void 0,ie=z&&(U||"")||(z==="IL"?"+972":z==="US"?"+1":"");return ie?O.startsWith("0")?ie+O.slice(1):ie+O:O},bt=(E,A)=>{const O=A||I||void 0;if(!E||!E.startsWith("+"))return E;const z=E.replace(/\D/g,"");if(z.startsWith("972")||O==="IL"){const te=z.replace(/^972/,"");if(te.length>=9){const an=te.slice(0,2),st=te.slice(2,5),on=te.slice(5,9);return"+972 (0) "+an+"-"+st+"-"+on}return"+972 (0) "+te}if(z.startsWith("1")||O==="US"||O==="CA"){const te=z.replace(/^1/,"");if(te.length>=10){const an=te.slice(0,3),st=te.slice(3,6),on=te.slice(6,10);return"+1 ("+an+") "+st+"-"+on}return"+1 "+te}const ie=z.replace(/^\d{1,3}/,te=>"");return E.split(" ").join("")+(ie?" "+ie.replace(/(\d{3})(?=\d)/g,"$1 "):"")};v.useEffect(()=>{x===2&&k(E=>({...E,billing_address:E.billing_address||E.shipping_address||"",billing_city:E.billing_city||E.shipping_city||"",billing_state:E.billing_state||E.shipping_state||"",billing_zip:E.billing_zip||E.shipping_zip||"",billing_country:E.billing_country||E.shipping_country||""}))},[x]),v.useEffect(()=>{const A=new URLSearchParams(window.location.search).get("ref")||"direct";_t("page_view",{ref:A,page:"signup",source:R?"instagram":"web"}),Pd()&&setTimeout(()=>{const z=document.querySelector('input[type="email"]');z&&z.focus()},500)},[R]),v.useCallback(()=>{_t("cta_click",{location:"sticky",page:"signup"});const E=document.querySelector('input[type="email"]');E&&(E.focus(),E.scrollIntoView({behavior:"smooth",block:"center"}))},[]);const it=v.useCallback(async E=>{try{_t("exit_modal_convert",{page:"signup"}),(await fetch("/.netlify/functions/submitLead",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:E.name,contact:E.phoneOrEmail,source:"exit_modal_signup",offer:i?"free_trial":"signup"})})).ok&&(Cd(15),h(!0),c(!1),k(O=>({...O,fullName:E.name,email:E.phoneOrEmail.includes("@")?E.phoneOrEmail:O.email,phone:E.phoneOrEmail.includes("@")?O.phone:E.phoneOrEmail})),setTimeout(()=>{const O=document.querySelector('input:not([value]):not([type="hidden"])');O&&O.focus()},500))}catch(A){console.error("Error submitting exit lead:",A)}},[c,i]),Ja=async E=>{try{await fetch("/.netlify/functions/signup-steps",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:w.email,...E})})}catch(A){console.warn("Partial persist failed (continuing):",A)}},_e=E=>{const{name:A,value:O}=E.target;if(A==="phone"){j(O);const z=We(O,w.shipping_country||void 0);k(ie=>({...ie,phone:z})),S(null);return}k(z=>({...z,[A]:O})),S(null)},ff=()=>{const E=We(T||w.phone,F||w.shipping_country||void 0);k(A=>({...A,phone:E})),j(bt(E,F||w.shipping_country||void 0))},mf=E=>{const A=E.target.value;J(A);const O=We(T||w.phone,A);k(z=>({...z,phone:O})),j(bt(O,A))},gf=async()=>{const E={IL:"+972",US:"+1",CA:"+1",GB:"+44",DE:"+49",FR:"+33",ES:"+34",IT:"+39",AU:"+61",NL:"+31"},A=(O,z)=>{const ie=z&&E[z]||"",te=O.trim();return te.startsWith("+")?te:ie?te.startsWith("0")?`${ie}${te.slice(1)}`:`${ie}${te}`:te};if(x===0){if(!w.fullName||!w.email){S("Please fill in required fields");return}const O=(w.phone||"").trim();if(O&&!O.startsWith("+")){const z=A(O,w.shipping_country||"IL");k(ie=>({...ie,phone:z}))}await Ja({full_name:w.fullName,phone:w.phone,email:w.email,instagram:w.instagram})}if(x===1){const O=A(w.phone,w.shipping_country);O!==w.phone&&k(z=>({...z,phone:O})),await Ja({shipping_address:w.shipping_address,shipping_city:w.shipping_city,shipping_state:w.shipping_state,shipping_zip:w.shipping_zip,shipping_country:w.shipping_country,full_shipping_address:w.full_shipping_address,phone:O})}N(O=>Math.min(O+1,Ai.length-1))},pf=()=>N(E=>Math.max(0,E-1)),bf=async E=>{if(E.preventDefault(),console.log("ðŸš€ handleSubmit called - isTrial:",i,"step:",x),C(!0),S(null),i){console.log("ðŸ”„ Starting SUMIT trial signup process...");try{if(!w.fullName||!w.email||!w.phone){S("Please fill in all required fields"),C(!1);return}if(!w.card_number||!w.card_exp_month||!w.card_exp_year||!w.card_cvc){S("Please fill in all payment fields"),C(!1);return}console.log("âœ… All fields validated, proceeding with registration..."),console.log("ðŸ”„ Triggering SUMIT tokenization...");try{const Tn=await oo.tokenizeForm("#payment-form");if(!Tn.success){S(Tn.error||"Payment tokenization failed"),C(!1);return}console.log("âœ… Tokenization successful, token:",Tn.token)}catch(Tn){console.error("âŒ Tokenization failed:",Tn),S("Payment validation failed. Please check your card details."),C(!1);return}const A=w.fullName.trim().split(" "),O=A[0]||"",z=A.slice(1).join(" ")||A[0]||"",ie=(()=>{switch(w.plan_code){case"single":return"Single User â€“ $39/month";case"multi":return"Multi Users â€“ $79/month";case"plus":return"Multi Plus â€“ $129/month";case"power":return"Power Salon â€“ $189/month";default:return"Single User â€“ $39/month"}})(),te=document.querySelector('input[name="og-token"]'),an=(te==null?void 0:te.value)||null;if(!an){console.error("âŒ No token found after tokenization"),S("Payment tokenization failed. Please try again."),C(!1);return}console.log("âœ… Token ready for backend submission");const st={email:w.email,firstName:O,lastName:z,phone:w.phone,plan:ie,companyName:w.company||w.invoice_company||"",ogToken:an};console.log("ðŸ“¤ Submitting to backend...",{email:st.email,plan:st.plan,companyName:st.companyName,hasCardNumber:!!st.cardNumber});const on=await fetch("/.netlify/functions/create-user-with-sumit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(st)}),Mi=await on.json();if(!on.ok)throw console.error("âŒ Backend error:",Mi),new Error(Mi.error||"Failed to process payment");console.log("âœ… Trial signup completed successfully",Mi),e({title:"Welcome to Spectra!",description:Mi.message||"Your 35-day free trial has started",variant:"default"}),P(!0),setTimeout(()=>t("/dashboard"),2e3);return}catch(A){console.error("Signup error:",A),e({title:"Signup Failed",description:A.message||"Please check your information and try again",variant:"destructive"}),S((A==null?void 0:A.message)||"Failed to complete signup")}finally{C(!1)}return}if(w.password.length<6){S("Password must be at least 6 characters"),C(!1);return}try{await Je.signup({email:w.email,password:w.password,fullName:w.fullName,phone:w.phone}),P(!0),setTimeout(()=>t("/"),1500)}catch(A){S((A==null?void 0:A.message)||"Sign up failed")}finally{C(!1)}};if(M)return l("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-spectra-cream via-white to-spectra-cream-dark",children:f("div",{className:"max-w-md w-full text-center space-y-6 bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-8",children:[l("div",{className:"w-20 h-20 mx-auto bg-gradient-to-br from-green-500 to-green-600 rounded-full flex items-center justify-center text-white text-3xl font-bold shadow-lg",children:"âœ“"}),l("h2",{className:"text-2xl font-bold bg-gradient-to-r from-spectra-charcoal to-spectra-charcoal-light bg-clip-text text-transparent",children:i?"Request submitted!":"Account Created Successfully!"}),f("p",{className:"text-gray-600",children:["Redirecting you ",i?"to home":"to dashboard","..."]}),l(wi,{})]})});const xf=R?"min-h-screen flex items-start justify-center bg-white py-6 px-4 overflow-x-hidden":"min-h-screen relative flex items-center justify-center bg-gradient-to-br from-[#0b0b0d] via-[#111315] to-[#0b0b0d] py-12 px-4 sm:px-6 lg:px-8 overflow-hidden",yf=R?"bg-white rounded-3xl shadow-2xl p-6 border border-gray-200":"bg-white/10 backdrop-blur-3xl rounded-3xl shadow-2xl p-8 border border-white/15",Mn=R?"block text-sm font-medium text-gray-900":"block text-sm font-medium text-white",fe=R?"mt-1 w-full px-4 py-3 bg-white border border-gray-300 rounded-2xl focus:border-gray-900/30 focus:ring-1 focus:ring-gray-900/20 transition-all duration-200 text-gray-900 placeholder-gray-400":"mt-1 w-full px-4 py-3 bg-white/10 backdrop-blur-xl border border-white/30 rounded-2xl focus:border-blue-400/60 focus:ring-1 focus:ring-blue-400/30 transition-all duration-200 text-white placeholder-white/70",vf=R?"px-3 py-3 bg-white border border-gray-300 rounded-2xl text-gray-900 focus:border-gray-900/30 focus:ring-1 focus:ring-gray-900/20":"px-3 py-3 bg-white/10 backdrop-blur-xl border border-white/30 rounded-2xl text-white focus:border-blue-400/60 focus:ring-1 focus:ring-blue-400/30";return f("div",{className:xf,children:[!R&&f(Qe,{children:[l("div",{className:"pointer-events-none absolute inset-0 opacity-[0.35]",style:{backgroundImage:"repeating-linear-gradient(to bottom, rgba(255,255,255,0.04) 0px, rgba(255,255,255,0.04) 1px, transparent 1px, transparent 24px)"}}),l("div",{className:"pointer-events-none absolute -bottom-[22vh] left-1/2 -translate-x-1/2 w-[1600px] h-[800px] rounded-full opacity-70 blur-2xl",style:{background:"radial-gradient(ellipse at center, rgba(255,112,54,0.38) 0%, rgba(255,112,54,0.22) 40%, rgba(255,112,54,0.0) 70%)"}})]}),f("div",{className:"max-w-xl w-full space-y-8",children:[l("div",{className:"flex items-center justify-center gap-4 text-sm",children:Ai.map((E,A)=>f("div",{className:"flex items-center gap-2",children:[l("div",{className:`w-7 h-7 rounded-full flex items-center justify-center ${R?A<=x?"bg-gray-900 text-white":"bg-gray-200 text-gray-700":A<=x?"bg-blue-500 text-white":"bg-white/10 text-white/60"}`,children:A+1}),l("span",{className:`hidden sm:block ${R?A===x?"text-gray-900 font-medium":"text-gray-600":A===x?"text-white font-medium":"text-white/60"}`,children:E}),A<Ai.length-1&&l("div",{className:`w-10 sm:w-16 h-px ${R?"bg-gray-300":"bg-white/15"}`})]},E))}),f("div",{className:"text-center",children:[l("h1",{className:R?"text-2xl sm:text-3xl font-semibold text-gray-900":"text-3xl sm:text-4xl font-light text-white tracking-tight drop-shadow-[0_1px_2px_rgba(0,0,0,0.6)]",children:"Your journey to confident coloring starts now."}),l("p",{className:R?"mt-2 text-sm text-gray-600":"mt-2 text-sm text-white/80",children:"Precise onboarding. Minimal friction. Premium experience."})]}),l("div",{className:yf,children:f("form",{id:"payment-form",ref:s,className:"space-y-6",onSubmit:bf,"data-og":"form",children:[x===0&&f("div",{className:"space-y-4",children:[f("div",{children:[l("label",{htmlFor:"fullName",className:Mn,children:"Full Name *"}),l("input",{id:"fullName",name:"fullName",type:"text",required:!0,value:w.fullName,onChange:_e,className:fe,placeholder:"Enter your full name"})]}),f("div",{children:[l("label",{htmlFor:"phone",className:Mn,children:"Phone Number"}),f("div",{className:"mt-1 grid grid-cols-[140px_1fr] gap-2",children:[f("select",{value:F,onChange:mf,className:vf,children:[l("option",{value:"IL",children:"Israel (+972)"}),l("option",{value:"US",children:"United States (+1)"}),l("option",{value:"CA",children:"Canada (+1)"}),l("option",{value:"GB",children:"United Kingdom (+44)"}),l("option",{value:"ES",children:"Spain (+34)"}),l("option",{value:"IT",children:"Italy (+39)"}),l("option",{value:"FR",children:"France (+33)"}),l("option",{value:"DE",children:"Germany (+49)"}),l("option",{value:"NL",children:"Netherlands (+31)"}),l("option",{value:"AU",children:"Australia (+61)"})]}),l("input",{id:"phone",name:"phone",type:"tel",value:T||w.phone,onChange:_e,onBlur:ff,className:fe,placeholder:"Enter your phone number"})]})]}),f("div",{children:[l("label",{htmlFor:"email",className:Mn,children:"Email Address *"}),l("input",{id:"email",name:"email",type:"email",required:!0,value:w.email,onChange:_e,className:fe,placeholder:"Enter your email address"})]}),f("div",{children:[l("label",{htmlFor:"instagram",className:Mn,children:"Instagram Page (Optional)"}),l("input",{id:"instagram",name:"instagram",type:"text",value:w.instagram,onChange:_e,className:fe,placeholder:"@your_instagram or profile URL (optional)"})]})]}),x===1&&f("div",{className:"space-y-4",children:[f("div",{children:[l("label",{className:Mn+(R?"":" drop-shadow-[0_1px_2px_rgba(0,0,0,0.5)]"),children:"Shipping Address"}),b&&l("div",{className:"text-xs text-gray-500 mb-1",children:b}),l(Em,{isLoaded:g,onSelect:E=>k(A=>({...A,shipping_address:E.addressLine1,shipping_city:E.city,shipping_state:E.state,shipping_zip:E.zip,shipping_country:E.country,full_shipping_address:E.fullAddress}))})]}),f("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[l("input",{id:"shipping_city",name:"shipping_city",type:"text",value:w.shipping_city,onChange:_e,className:fe,placeholder:"City"}),l("input",{id:"shipping_state",name:"shipping_state",type:"text",value:w.shipping_state,onChange:_e,className:fe,placeholder:"State / Region"}),l("input",{id:"shipping_zip",name:"shipping_zip",type:"text",value:w.shipping_zip,onChange:_e,className:fe,placeholder:"ZIP / Postal code"}),l("input",{id:"shipping_country",name:"shipping_country",type:"text",value:w.shipping_country,onChange:_e,className:fe,placeholder:"Country"})]})]}),x===2&&f("div",{className:"space-y-6",children:[l("div",{className:R?"rounded-xl bg-orange-50 border border-orange-200 p-4":"rounded-xl bg-amber-500/10 border border-amber-400/30 p-4",children:l("p",{className:R?"text-sm text-gray-800":"text-sm text-white/90",children:"To ensure we can send your free bundle quickly, please enter your shipping address and payment details below. Rest assured â€“ no charges will apply until your 30-day free trial ends, and youâ€™ll receive a reminder 7 days before the trial period concludes."})}),f("div",{children:[l("label",{className:R?"block text-sm font-medium text-gray-900":"block text-sm font-medium text-white",children:"Plan"}),f("select",{name:"plan_code",value:w.plan_code,onChange:E=>{const A=E.target.value,O={single:{label:"Single User",price:39},multi:{label:"Multi Users",price:79},plus:{label:"Multi Plus",price:129},power:{label:"Power Salon",price:189}},z=O[A]||O.single;k(ie=>({...ie,plan_code:A,plan_label:z.label,plan_price:z.price,plan_currency:"USD"}))},className:R?"mt-1 w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-gray-900/20 focus:border-gray-900/30 bg-white text-gray-900":"mt-1 w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-spectra-gold focus:border-spectra-gold",children:[l("option",{value:"single",children:"Single User - $39/month"}),l("option",{value:"multi",children:"Multi Users - $79/month"}),l("option",{value:"plus",children:"Multi Plus - $129/month"}),l("option",{value:"power",children:"Power Salon - $189/month"})]})]}),f("div",{children:[l("label",{className:R?"block text-sm font-medium text-gray-900":"block text-sm font-medium text-white",children:"Company name (for invoice)"}),l("input",{name:"company",value:w.company||"",onChange:_e,className:fe,placeholder:"Your salon name"})]}),f("div",{children:[l("label",{className:R?"block text-sm font-medium text-gray-900":"block text-sm font-medium text-white",children:"Card number"}),l("input",{"data-og":"cardnumber",type:"text",size:20,maxLength:19,value:Oe,onChange:E=>{const A=E.target.value.replace(/\s/g,"").replace(/\D/g,""),O=A.replace(/(\d{4})(?=\d)/g,"$1 ");Ee(O),k(z=>({...z,card_number:A}))},className:fe,placeholder:"Card number",required:!0,autoComplete:"cc-number"})]}),f("div",{className:"grid grid-cols-3 gap-4",children:[f("div",{children:[l("label",{className:R?"block text-sm font-medium text-gray-900":"block text-sm font-medium text-white",children:"Month"}),l("input",{"data-og":"expirationmonth",name:"card_exp_month",type:"text",size:2,maxLength:2,value:w.card_exp_month,onChange:E=>{const A=E.target.value.replace(/\D/g,"");A.length<=2&&k(O=>({...O,card_exp_month:A}))},className:fe,placeholder:"MM",required:!0,autoComplete:"cc-exp-month"})]}),f("div",{children:[l("label",{className:R?"block text-sm font-medium text-gray-900":"block text-sm font-medium text-white",children:"Year"}),l("input",{"data-og":"expirationyear",name:"card_exp_year",type:"text",size:4,maxLength:4,value:w.card_exp_year,onChange:E=>{const A=E.target.value.replace(/\D/g,"");A.length<=4&&k(O=>({...O,card_exp_year:A}))},className:fe,placeholder:"YYYY",required:!0,autoComplete:"cc-exp-year"})]}),f("div",{children:[l("label",{className:R?"block text-sm font-medium text-gray-900":"block text-sm font-medium text-white",children:"CVC"}),l("input",{"data-og":"cvv",name:"card_cvc",type:"text",size:4,maxLength:4,value:w.card_cvc,onChange:E=>{const A=E.target.value.replace(/\D/g,"");A.length<=4&&k(O=>({...O,card_cvc:A}))},className:fe,placeholder:"CVV",required:!0,autoComplete:"cc-csc"})]})]}),f("div",{children:[l("label",{className:R?"block text-sm font-medium text-gray-900":"block text-sm font-medium text-white",children:"ID Number"}),l("input",{"data-og":"citizenid",type:"text",maxLength:9,className:fe,placeholder:"ID Number",required:!0})]}),l("input",{type:"hidden",name:"og-token"}),l("div",{className:"og-errors text-red-500 text-sm"}),f("div",{className:"flex items-center gap-3",children:[l("input",{id:"sameInvoice",type:"checkbox",checked:de,onChange:()=>ke(E=>!E),className:"h-4 w-4"}),l("label",{htmlFor:"sameInvoice",className:R?"text-sm text-gray-900":"text-sm text-white",children:"Use shipping address for invoice"})]}),!de&&f("div",{className:"space-y-3","aria-expanded":!de,children:[f("div",{children:[l("label",{className:R?"block text-sm font-medium text-gray-900":"block text-sm font-medium text-spectra-charcoal",children:"Billing Address"}),l("input",{name:"billing_address",value:w.billing_address,onChange:_e,className:fe,placeholder:"Street and number"})]}),f("div",{className:"grid grid-cols-2 gap-4",children:[f("div",{children:[l("label",{className:R?"block text-sm font-medium text-gray-900":"block text-sm font-medium text-spectra-charcoal",children:"City"}),l("input",{name:"billing_city",value:w.billing_city,onChange:_e,className:fe,placeholder:"City"})]}),f("div",{children:[l("label",{className:R?"block text-sm font-medium text-gray-900":"block text-sm font-medium text-spectra-charcoal",children:"ZIP"}),l("input",{name:"billing_zip",inputMode:"numeric",value:w.billing_zip,onChange:_e,className:fe,placeholder:"ZIP / Postal code"})]})]}),f("div",{className:"grid grid-cols-2 gap-4",children:[f("div",{children:[l("label",{className:R?"block text-sm font-medium text-gray-900":"block text-sm font-medium text-spectra-charcoal",children:"Country"}),l("input",{name:"billing_country",value:w.billing_country,onChange:_e,className:fe,placeholder:"Country"})]}),f("div",{children:[l("label",{className:R?"block text-sm font-medium text-gray-900":"block text-sm font-medium text-spectra-charcoal",children:"State / Region"}),l("input",{name:"billing_state",value:w.billing_state,onChange:_e,className:fe,placeholder:"State / Region"})]})]})]}),l("div",{className:"pt-2",children:f("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 text-xs text-gray-500",children:[f("div",{className:"flex items-center gap-2",children:[f("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-gray-100 border border-gray-200",children:[f("svg",{className:"w-3.5 h-3.5 text-gray-600",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l("rect",{x:"2",y:"5",width:"20",height:"14",rx:"2"}),l("path",{d:"M2 10h20"})]}),l("span",{children:"VISA/MC"})]}),f("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-gray-100 border border-gray-200",children:[f("svg",{className:"w-3.5 h-3.5 text-gray-600",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l("rect",{x:"3",y:"11",width:"18",height:"10",rx:"2"}),l("path",{d:"M7 11V7a5 5 0 0110 0v4"})]}),l("span",{children:"SSL"})]}),f("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-gray-100 border border-gray-200",children:[f("svg",{className:"w-3.5 h-3.5 text-gray-600",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l("path",{d:"M12 2l7 4v5c0 5-3.5 9-7 11-3.5-2-7-6-7-11V6l7-4z"}),l("path",{d:"M9 12l2 2 4-4"})]}),l("span",{children:"PCI DSS"})]})]}),f("div",{className:"sm:text-right",children:[l("span",{children:"Page by Spectra CI LTD, ID: 516078094"}),l("span",{className:"hidden sm:inline mx-1",children:"â€¢"}),l("span",{children:"Secured by Spectra"})]})]})}),!i&&f("div",{children:[l("label",{htmlFor:"password",className:"block text-sm font-medium text-spectra-charcoal",children:"Password *"}),l("input",{id:"password",name:"password",type:"password",value:w.password,onChange:_e,className:"mt-1 w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-spectra-gold focus:border-spectra-gold",placeholder:"Create a password (min 6 characters)"})]})]}),D&&l("div",{className:"rounded-xl bg-red-50 border border-red-200 p-4",children:l("p",{className:"text-sm text-red-800",children:D})}),f("div",{className:"flex items-center justify-between gap-3",children:[l(me,{type:"button",onClick:pf,disabled:x===0||_,size:"lg",className:"px-5 disabled:opacity-50",children:"Back"}),x<Ai.length-1?l("button",{type:"button",onClick:gf,disabled:_,className:"px-6 py-3 rounded-xl bg-gradient-to-r from-orange-500 to-amber-500 text-white shadow-[0_6px_24px_rgba(255,115,64,0.3)] hover:shadow-[0_8px_30px_rgba(255,115,64,0.45)] transition-colors disabled:opacity-50",children:"Next"}):l("button",{type:"submit",disabled:_,className:i?"px-6 py-3 rounded-xl bg-gradient-to-r from-orange-500 to-amber-500 text-white shadow-[0_6px_24px_rgba(255,115,64,0.3)] hover:shadow-[0_8px_30px_rgba(255,115,64,0.45)] transition-colors disabled:opacity-50":"px-6 py-3 rounded-xl",children:i?"Start My Free Trial":"Create Account"})]})]})})]}),l(_d,{open:o,onClose:()=>{_t("exit_modal_close",{page:"signup"}),c(!1)},onConfirm:it})]})},Rm=()=>{const[t,e]=v.useState(""),[n,i]=v.useState(!1),[s,r]=v.useState(null),[a,o]=v.useState(!1),c=async d=>{if(d.preventDefault(),i(!0),r(null),!t){r("Please enter your email address"),i(!1);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)){r("Please enter a valid email address"),i(!1);return}try{await Je.forgotPassword(t),o(!0),i(!1)}catch(u){console.error("Password reset error:",u),r("An error occurred. Please try again."),i(!1)}};return a?l("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-white to-orange-50 flex items-center justify-center px-4",children:l("div",{className:"max-w-md w-full",children:f("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-8",children:[l("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:l("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),f("div",{className:"text-center",children:[l("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Check Your Email"}),f("p",{className:"text-gray-600 mb-6",children:["We've sent a password reset link to ",l("strong",{children:t}),". Please check your email and follow the instructions to reset your password."]}),l("p",{className:"text-sm text-gray-500 mb-8",children:"Didn't receive the email? Check your spam folder or try again."}),f("div",{className:"space-y-3",children:[l("button",{onClick:()=>{o(!1),e("")},className:"w-full bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 transform hover:scale-[1.02]",children:"Send Another Email"}),l(G,{to:"/login",className:"block w-full text-center text-gray-700 hover:text-amber-600 font-medium py-3 px-6 rounded-xl border border-gray-200 hover:border-amber-600 transition-all duration-200",children:"Back to Sign In"})]})]})]})})}):l("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-white to-orange-50 flex items-center justify-center px-4",children:f("div",{className:"max-w-md w-full",children:[f("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-8",children:[f("div",{className:"text-center mb-8",children:[l("div",{className:"w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l("svg",{className:"w-8 h-8 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1721 9z"})})}),l("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Forgot Password?"}),l("p",{className:"text-gray-600",children:"No worries! Enter your email address and we'll send you a link to reset your password."})]}),f("form",{onSubmit:c,className:"space-y-6",children:[f("div",{children:[l("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),l("input",{type:"email",id:"email",name:"email",value:t,onChange:d=>{e(d.target.value),r(null)},className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all duration-200",placeholder:"your@email.com",required:!0,disabled:n})]}),s&&l("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:f("div",{className:"flex items-center",children:[l("svg",{className:"w-5 h-5 text-red-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:l("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),l("p",{className:"text-sm text-red-600",children:s})]})}),l(me,{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:n?f("div",{className:"flex items-center justify-center",children:[l("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),l("span",{children:"Sending Reset Link..."})]}):"Send Reset Link"})]}),l("div",{className:"mt-6 text-center",children:f("p",{className:"text-gray-600",children:["Remember your password?"," ",l(G,{to:"/login",className:"text-amber-600 hover:text-amber-700 font-medium hover:underline transition-colors",children:"Sign in here"})]})})]}),l("div",{className:"text-center mt-8",children:f("p",{className:"text-sm text-gray-500",children:["Back to",l(G,{to:"/",className:"text-amber-600 hover:underline mx-1",children:"Homepage"})]})})]})})},Fm=()=>{const t=nn(),[e,n]=v.useState({password:"",confirmPassword:""}),[i,s]=v.useState(!1),[r,a]=v.useState(null),o=d=>{const{name:h,value:u}=d.target;n(m=>({...m,[h]:u})),a(null)};return l("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-white to-orange-50 flex items-center justify-center px-4",children:f("div",{className:"max-w-md w-full",children:[f("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-8",children:[f("div",{className:"text-center mb-8",children:[l("div",{className:"w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l("svg",{className:"w-8 h-8 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1721 9z"})})}),l("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Reset Password"}),l("p",{className:"text-gray-600",children:"This feature is currently being updated. Please contact support for password resets."})]}),f("form",{onSubmit:async d=>{if(d.preventDefault(),s(!0),a(null),!e.password||!e.confirmPassword){a("Please fill in all fields"),s(!1);return}if(e.password.length<6){a("Password must be at least 6 characters long"),s(!1);return}if(e.password!==e.confirmPassword){a("Passwords do not match"),s(!1);return}try{const h=new URLSearchParams(window.location.search).get("token");if(!h){a("Missing or invalid reset token"),s(!1);return}await Je.resetPassword(h,e.password),s(!1),t("/login",{replace:!0})}catch(h){console.error("Password update error:",h),a("An error occurred. Please try again."),s(!1)}},className:"space-y-6",children:[f("div",{children:[l("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),l("input",{type:"password",id:"password",name:"password",value:e.password,onChange:o,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all duration-200",placeholder:"At least 6 characters",required:!0,minLength:6,disabled:i})]}),f("div",{children:[l("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),l("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:e.confirmPassword,onChange:o,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all duration-200",placeholder:"Repeat your new password",required:!0,minLength:6,disabled:i})]}),r&&l("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:f("div",{className:"flex items-center",children:[l("svg",{className:"w-5 h-5 text-red-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:l("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),l("p",{className:"text-sm text-red-600",children:r})]})}),l(me,{type:"submit",disabled:i,className:"w-full bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Updating...":"Update Password"})]}),l("div",{className:"mt-6 text-center",children:l(G,{to:"/login",className:"text-gray-600 hover:text-amber-600 text-sm transition-colors",children:"Back to Sign In"})})]}),l("div",{className:"text-center mt-8",children:f("p",{className:"text-sm text-gray-500",children:["Back to",l(G,{to:"/",className:"text-amber-600 hover:underline mx-1",children:"Homepage"})]})})]})})};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Vm=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),lo=t=>{const e=Vm(t);return e.charAt(0).toUpperCase()+e.slice(1)},Md=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),jm=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:r,iconNode:a,...o},c)=>v.createElement("svg",{ref:c,...zm,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:Md("lucide",s),...!r&&!jm(o)&&{"aria-hidden":"true"},...o},[...a.map(([d,h])=>v.createElement(d,h)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(t,e)=>{const n=v.forwardRef(({className:i,...s},r)=>v.createElement(Wm,{ref:r,iconNode:e,className:Md(`lucide-${Bm(lo(t))}`,`lucide-${t}`,i),...s}));return n.displayName=lo(t),n};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],$m=xe("award",Hm);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],co=xe("chevron-down",Um);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Gm=xe("chevron-left",Ym);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],mr=xe("chevron-right",qm);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],gr=xe("dollar-sign",Km);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Zm=xe("download",Xm);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Qm=xe("funnel",Jm);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Td=xe("globe",eg);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],ng=xe("layout-dashboard",tg);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ho=xe("log-out",ig);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],rg=xe("rocket",sg);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],og=xe("search",ag);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],cg=xe("sparkles",lg);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],hg=xe("target",dg);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],fg=xe("trending-up",ug);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ad=xe("users",mg);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],pg=xe("x",gg),uo=[{title:"Dashboard",icon:ng,items:[{label:"Overview",to:"/admin"},{label:"Payments",to:"/dashboard"}]}];function bg({user:t,collapsed:e=!1,onToggle:n,onLogout:i}){const{pathname:s}=Kr(),[r,a]=v.useState({}),o=v.useMemo(()=>{const h=u=>s===u||s.startsWith(u+"/");for(const u of uo)if(u.items.some(m=>h(m.to)))return u.title;return""},[s]),c=h=>{a(u=>({...u,[h]:!u[h]}))},d=h=>r[h]??h===o;return f("aside",{className:zn("fixed top-0 left-0 h-screen border-r border-orange-400/20 bg-gradient-to-b from-black/60 via-gray-900/40 to-black/60 backdrop-blur-xl","transition-all duration-200 ease-in-out","flex flex-col z-40","shadow-2xl shadow-black/50",e?"w-[72px]":"w-[260px]"),children:[f("div",{className:"flex items-center justify-between border-b border-neutral-200/60 p-4",children:[!e&&f("div",{className:"flex items-center gap-2",children:[l("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-br from-orange-500 to-amber-600 flex items-center justify-center shadow-lg",children:l("span",{className:"text-white text-sm font-bold",children:"S"})}),l("span",{className:"font-semibold text-white",children:"Spectra Admin"})]}),l("button",{onClick:n,className:"rounded-lg p-1.5 text-white/60 hover:bg-white/10 hover:text-white transition-colors",children:e?l(mr,{className:"h-4 w-4"}):l(co,{className:"h-4 w-4"})})]}),l("nav",{className:"flex-1 overflow-y-auto px-3 py-4",children:l("div",{className:"space-y-2",children:uo.map(h=>{const u=h.icon,m=d(h.title),g=h.items.some(p=>s===p.to||s.startsWith(p.to+"/"));return f("div",{children:[f("button",{onClick:()=>c(h.title),className:zn("group flex w-full items-center gap-2 rounded-xl px-3 py-2.5 text-left transition-all duration-150 relative",g?"bg-orange-500/20 text-white ring-1 ring-orange-400/30":"text-white/70 hover:bg-white/10 hover:text-white hover:scale-[1.02]"),title:e?h.title:void 0,children:[l(u,{className:zn("h-5 w-5 shrink-0 transition-all duration-150",g?"text-white":"text-white/60 group-hover:text-orange-300")}),!e&&f(Qe,{children:[l("span",{className:"text-sm font-medium flex-1",children:h.title}),m?l(co,{className:"h-4 w-4 text-neutral-400 transition-transform group-hover:text-white"}):l(mr,{className:"h-4 w-4 text-neutral-400 transition-transform group-hover:text-white"})]})]}),m&&!e&&l("div",{className:"mt-1 ml-7 space-y-1",children:h.items.map(p=>l(Pf,{to:p.to,className:({isActive:b})=>zn("flex items-center gap-2 rounded-lg px-3 py-2 text-sm transition-all duration-150",b?"bg-orange-500/30 text-white ring-1 ring-orange-400/40 font-medium":"text-white/60 hover:bg-white/10 hover:text-white"),children:l("span",{className:"truncate",children:p.label})},p.to))})]},h.title)})})}),l("div",{className:"border-t border-white/20 p-3",children:f("div",{className:"flex items-center gap-3",children:[f("div",{className:"relative",children:[l("img",{src:(t==null?void 0:t.avatar_url)||`https://ui-avatars.com/api/?name=${encodeURIComponent((t==null?void 0:t.full_name)||(t==null?void 0:t.email)||"User")}&background=FF7A1A&color=fff&size=32`,alt:"Profile",className:"h-8 w-8 rounded-full object-cover ring-2 ring-orange-400/60"}),l("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-400 rounded-full border-2 border-gray-900"})]}),!e&&f("div",{className:"flex-1 min-w-0",children:[l("div",{className:"truncate text-sm font-medium text-white",children:(t==null?void 0:t.full_name)||(t==null?void 0:t.email)||"User"}),f("div",{className:"truncate text-xs text-white/60 capitalize",children:[(t==null?void 0:t.role)||"User"," â€¢ Online"]})]}),!e&&l("button",{onClick:i,className:"rounded-lg p-1.5 text-white/60 hover:bg-white/10 hover:text-red-400 transition-all duration-150",title:"Logout",children:l(ho,{className:"h-4 w-4"})}),e&&l("button",{onClick:i,className:"absolute top-2 right-2 rounded-lg p-1.5 text-white/60 hover:bg-white/10 hover:text-red-400 transition-all duration-150",title:"Logout",children:l(ho,{className:"h-3 w-3"})})]})})]})}function xg({title:t,titleId:e,...n},i){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const yg=v.forwardRef(xg),vg=yg;function wg({title:t,titleId:e,...n},i){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const Ng=v.forwardRef(wg),kg=Ng;function _g({title:t,titleId:e,...n},i){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const Sg=v.forwardRef(_g),Cg=Sg;function Pg({title:t,titleId:e,...n},i){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Mg=v.forwardRef(Pg),Tg=Mg;function Ag({title:t,titleId:e,...n},i){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Dg=v.forwardRef(Ag),Eg=Dg;function Lg({title:t,titleId:e,...n},i){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const Ig=v.forwardRef(Lg),fo=Ig;function Og({title:t,titleId:e,...n},i){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const Rg=v.forwardRef(Og),Fg=Rg;function Bg({title:t,titleId:e,...n},i){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Vg=v.forwardRef(Bg),jg=Vg;function zg({title:t,titleId:e,...n},i){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Wg=v.forwardRef(zg),Hg=Wg;/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ni(t){return t+.5|0}const St=(t,e,n)=>Math.max(Math.min(t,n),e);function Wn(t){return St(Ni(t*2.55),0,255)}function Tt(t){return St(Ni(t*255),0,255)}function ut(t){return St(Ni(t/2.55)/100,0,1)}function mo(t){return St(Ni(t*100),0,100)}const Re={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},pr=[..."0123456789ABCDEF"],$g=t=>pr[t&15],Ug=t=>pr[(t&240)>>4]+pr[t&15],Di=t=>(t&240)>>4===(t&15),Yg=t=>Di(t.r)&&Di(t.g)&&Di(t.b)&&Di(t.a);function Gg(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Re[t[1]]*17,g:255&Re[t[2]]*17,b:255&Re[t[3]]*17,a:e===5?Re[t[4]]*17:255}:(e===7||e===9)&&(n={r:Re[t[1]]<<4|Re[t[2]],g:Re[t[3]]<<4|Re[t[4]],b:Re[t[5]]<<4|Re[t[6]],a:e===9?Re[t[7]]<<4|Re[t[8]]:255})),n}const qg=(t,e)=>t<255?e(t):"";function Kg(t){var e=Yg(t)?$g:Ug;return t?"#"+e(t.r)+e(t.g)+e(t.b)+qg(t.a,e):void 0}const Xg=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Dd(t,e,n){const i=e*Math.min(n,1-n),s=(r,a=(r+t/30)%12)=>n-i*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function Zg(t,e,n){const i=(s,r=(s+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function Jg(t,e,n){const i=Dd(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)i[s]*=1-e-n,i[s]+=e;return i}function Qg(t,e,n,i,s){return t===s?(e-n)/i+(e<n?6:0):e===s?(n-t)/i+2:(t-e)/i+4}function ta(t){const n=t.r/255,i=t.g/255,s=t.b/255,r=Math.max(n,i,s),a=Math.min(n,i,s),o=(r+a)/2;let c,d,h;return r!==a&&(h=r-a,d=o>.5?h/(2-r-a):h/(r+a),c=Qg(n,i,s,h,r),c=c*60+.5),[c|0,d||0,o]}function na(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Tt)}function ia(t,e,n){return na(Dd,t,e,n)}function ep(t,e,n){return na(Jg,t,e,n)}function tp(t,e,n){return na(Zg,t,e,n)}function Ed(t){return(t%360+360)%360}function np(t){const e=Xg.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?Wn(+e[5]):Tt(+e[5]));const s=Ed(+e[2]),r=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?i=ep(s,r,a):e[1]==="hsv"?i=tp(s,r,a):i=ia(s,r,a),{r:i[0],g:i[1],b:i[2],a:n}}function ip(t,e){var n=ta(t);n[0]=Ed(n[0]+e),n=ia(n),t.r=n[0],t.g=n[1],t.b=n[2]}function sp(t){if(!t)return;const e=ta(t),n=e[0],i=mo(e[1]),s=mo(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${s}%, ${ut(t.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const go={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},po={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function rp(){const t={},e=Object.keys(po),n=Object.keys(go);let i,s,r,a,o;for(i=0;i<e.length;i++){for(a=o=e[i],s=0;s<n.length;s++)r=n[s],o=o.replace(r,go[r]);r=parseInt(po[a],16),t[o]=[r>>16&255,r>>8&255,r&255]}return t}let Ei;function ap(t){Ei||(Ei=rp(),Ei.transparent=[0,0,0,0]);const e=Ei[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const op=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function lp(t){const e=op.exec(t);let n=255,i,s,r;if(e){if(e[7]!==i){const a=+e[7];n=e[8]?Wn(a):St(a*255,0,255)}return i=+e[1],s=+e[3],r=+e[5],i=255&(e[2]?Wn(i):St(i,0,255)),s=255&(e[4]?Wn(s):St(s,0,255)),r=255&(e[6]?Wn(r):St(r,0,255)),{r:i,g:s,b:r,a:n}}}function cp(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ut(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Fs=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ln=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function dp(t,e,n){const i=ln(ut(t.r)),s=ln(ut(t.g)),r=ln(ut(t.b));return{r:Tt(Fs(i+n*(ln(ut(e.r))-i))),g:Tt(Fs(s+n*(ln(ut(e.g))-s))),b:Tt(Fs(r+n*(ln(ut(e.b))-r))),a:t.a+n*(e.a-t.a)}}function Li(t,e,n){if(t){let i=ta(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=ia(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function Ld(t,e){return t&&Object.assign(e||{},t)}function bo(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Tt(t[3]))):(e=Ld(t,{r:0,g:0,b:0,a:1}),e.a=Tt(e.a)),e}function hp(t){return t.charAt(0)==="r"?lp(t):np(t)}class ai{constructor(e){if(e instanceof ai)return e;const n=typeof e;let i;n==="object"?i=bo(e):n==="string"&&(i=Gg(e)||ap(e)||hp(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=Ld(this._rgb);return e&&(e.a=ut(e.a)),e}set rgb(e){this._rgb=bo(e)}rgbString(){return this._valid?cp(this._rgb):void 0}hexString(){return this._valid?Kg(this._rgb):void 0}hslString(){return this._valid?sp(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,s=e.rgb;let r;const a=n===r?.5:n,o=2*a-1,c=i.a-s.a,d=((o*c===-1?o:(o+c)/(1+o*c))+1)/2;r=1-d,i.r=255&d*i.r+r*s.r+.5,i.g=255&d*i.g+r*s.g+.5,i.b=255&d*i.b+r*s.b+.5,i.a=a*i.a+(1-a)*s.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=dp(this._rgb,e._rgb,n)),this}clone(){return new ai(this.rgb)}alpha(e){return this._rgb.a=Tt(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Ni(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Li(this._rgb,2,e),this}darken(e){return Li(this._rgb,2,-e),this}saturate(e){return Li(this._rgb,1,e),this}desaturate(e){return Li(this._rgb,1,-e),this}rotate(e){return ip(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function rt(){}const up=(()=>{let t=0;return()=>t++})();function q(t){return t==null}function se(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Y(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function pe(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Le(t,e){return pe(t)?t:e}function H(t,e){return typeof t>"u"?e:t}const fp=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ee(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function X(t,e,n,i){let s,r,a;if(se(t))if(r=t.length,i)for(s=r-1;s>=0;s--)e.call(n,t[s],s);else for(s=0;s<r;s++)e.call(n,t[s],s);else if(Y(t))for(a=Object.keys(t),r=a.length,s=0;s<r;s++)e.call(n,t[a[s]],a[s])}function ls(t,e){let n,i,s,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(s=t[n],r=e[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function cs(t){if(se(t))return t.map(cs);if(Y(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let s=0;for(;s<i;++s)e[n[s]]=cs(t[n[s]]);return e}return t}function Id(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function mp(t,e,n,i){if(!Id(t))return;const s=e[t],r=n[t];Y(s)&&Y(r)?oi(s,r,i):e[t]=cs(r)}function oi(t,e,n){const i=se(e)?e:[e],s=i.length;if(!Y(t))return t;n=n||{};const r=n.merger||mp;let a;for(let o=0;o<s;++o){if(a=i[o],!Y(a))continue;const c=Object.keys(a);for(let d=0,h=c.length;d<h;++d)r(c[d],t,a,n)}return t}function Zn(t,e){return oi(t,e,{merger:gp})}function gp(t,e,n){if(!Id(t))return;const i=e[t],s=n[t];Y(i)&&Y(s)?Zn(i,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=cs(s))}const xo={"":t=>t,x:t=>t.x,y:t=>t.y};function pp(t){const e=t.split("."),n=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function bp(t){const e=pp(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function yn(t,e){return(xo[e]||(xo[e]=bp(e)))(t)}function sa(t){return t.charAt(0).toUpperCase()+t.slice(1)}const li=t=>typeof t<"u",At=t=>typeof t=="function",yo=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function xp(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ue=Math.PI,je=2*ue,yp=je+ue,ds=Number.POSITIVE_INFINITY,vp=ue/180,Ie=ue/2,Ft=ue/4,vo=ue*2/3,Ct=Math.log10,et=Math.sign;function Jn(t,e,n){return Math.abs(t-e)<n}function wo(t){const e=Math.round(t);t=Jn(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Ct(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function wp(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((s,r)=>s-r).pop(),e}function Np(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function hs(t){return!Np(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function kp(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function Od(t,e,n){let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function Pt(t){return t*(ue/180)}function ra(t){return t*(180/ue)}function No(t){if(!pe(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function _p(t,e){const n=e.x-t.x,i=e.y-t.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*ue&&(r+=je),{angle:r,distance:s}}function br(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Sp(t,e){return(t-e+yp)%je-ue}function Ye(t){return(t%je+je)%je}function Rd(t,e,n,i){const s=Ye(t),r=Ye(e),a=Ye(n),o=Ye(r-s),c=Ye(a-s),d=Ye(s-r),h=Ye(s-a);return s===r||s===a||i&&r===a||o>c&&d<h}function Ge(t,e,n){return Math.max(e,Math.min(n,t))}function Cp(t){return Ge(t,-32768,32767)}function Gt(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function aa(t,e,n){n=n||(a=>t[a]<e);let i=t.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const xr=(t,e,n,i)=>aa(t,n,i?s=>{const r=t[s][e];return r<n||r===n&&t[s+1][e]===n}:s=>t[s][e]<n),Pp=(t,e,n)=>aa(t,n,i=>t[i][e]>=n);function Mp(t,e,n){let i=0,s=t.length;for(;i<s&&t[i]<e;)i++;for(;s>i&&t[s-1]>n;)s--;return i>0||s<t.length?t.slice(i,s):t}const Fd=["push","pop","shift","splice","unshift"];function Tp(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Fd.forEach(n=>{const i="_onData"+sa(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const a=s.apply(this,r);return t._chartjs.listeners.forEach(o=>{typeof o[i]=="function"&&o[i](...r)}),a}})})}function ko(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(Fd.forEach(r=>{delete t[r]}),delete t._chartjs)}function Bd(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Vd=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function jd(t,e){let n=[],i=!1;return function(...s){n=s,i||(i=!0,Vd.call(window,()=>{i=!1,t.apply(e,n)}))}}function Ap(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const oa=t=>t==="start"?"left":t==="end"?"right":"center",ve=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,Dp=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e,Ii=t=>t===0||t===1,_o=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*je/n)),So=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*je/n)+1,Qn={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ie)+1,easeOutSine:t=>Math.sin(t*Ie),easeInOutSine:t=>-.5*(Math.cos(ue*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Ii(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Ii(t)?t:_o(t,.075,.3),easeOutElastic:t=>Ii(t)?t:So(t,.075,.3),easeInOutElastic(t){return Ii(t)?t:t<.5?.5*_o(t*2,.1125,.45):.5+.5*So(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Qn.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Qn.easeInBounce(t*2)*.5:Qn.easeOutBounce(t*2-1)*.5+.5};function la(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Co(t){return la(t)?t:new ai(t)}function Bs(t){return la(t)?t:new ai(t).saturate(.5).darken(.1).hexString()}const Ep=["x","y","borderWidth","radius","tension"],Lp=["color","borderColor","backgroundColor"];function Ip(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Lp},numbers:{type:"number",properties:Ep}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Op(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Po=new Map;function Rp(t,e){e=e||{};const n=t+JSON.stringify(e);let i=Po.get(n);return i||(i=new Intl.NumberFormat(t,e),Po.set(n,i)),i}function ca(t,e,n){return Rp(e,n).format(t)}const zd={values(t){return se(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let s,r=t;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(s="scientific"),r=Fp(t,n)}const a=Ct(Math.abs(r)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:s,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(c,this.options.ticks.format),ca(t,i,c)},logarithmic(t,e,n){if(t===0)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(Ct(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?zd.numeric.call(this,t,e,n):""}};function Fp(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Ms={formatters:zd};function Bp(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ms.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const en=Object.create(null),yr=Object.create(null);function ei(t,e){if(!e)return t;const n=e.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];t=t[r]||(t[r]=Object.create(null))}return t}function Vs(t,e,n){return typeof e=="string"?oi(ei(t,e),n):oi(ei(t,""),e)}class Vp{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Bs(s.backgroundColor),this.hoverBorderColor=(i,s)=>Bs(s.borderColor),this.hoverColor=(i,s)=>Bs(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Vs(this,e,n)}get(e){return ei(this,e)}describe(e,n){return Vs(yr,e,n)}override(e,n){return Vs(en,e,n)}route(e,n,i,s){const r=ei(this,e),a=ei(this,i),o="_"+n;Object.defineProperties(r,{[o]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[o],d=a[s];return Y(c)?Object.assign({},d,c):H(c,d)},set(c){this[o]=c}}})}apply(e){e.forEach(n=>n(this))}}var le=new Vp({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Ip,Op,Bp]);function jp(t){return!t||q(t.size)||q(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function us(t,e,n,i,s){let r=e[s];return r||(r=e[s]=t.measureText(s).width,n.push(s)),r>i&&(i=r),i}function zp(t,e,n,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(s=i.data={},r=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let a=0;const o=n.length;let c,d,h,u,m;for(c=0;c<o;c++)if(u=n[c],u!=null&&!se(u))a=us(t,s,r,a,u);else if(se(u))for(d=0,h=u.length;d<h;d++)m=u[d],m!=null&&!se(m)&&(a=us(t,s,r,a,m));t.restore();const g=r.length/2;if(g>n.length){for(c=0;c<g;c++)delete s[r[c]];r.splice(0,g)}return a}function Bt(t,e,n){const i=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*i)/i+s}function Mo(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function vr(t,e,n,i){Wd(t,e,n,i,null)}function Wd(t,e,n,i,s){let r,a,o,c,d,h,u,m;const g=e.pointStyle,p=e.rotation,b=e.radius;let y=(p||0)*vp;if(g&&typeof g=="object"&&(r=g.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(y),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(b)||b<=0)){switch(t.beginPath(),g){default:s?t.ellipse(n,i,s/2,b,0,0,je):t.arc(n,i,b,0,je),t.closePath();break;case"triangle":h=s?s/2:b,t.moveTo(n+Math.sin(y)*h,i-Math.cos(y)*b),y+=vo,t.lineTo(n+Math.sin(y)*h,i-Math.cos(y)*b),y+=vo,t.lineTo(n+Math.sin(y)*h,i-Math.cos(y)*b),t.closePath();break;case"rectRounded":d=b*.516,c=b-d,a=Math.cos(y+Ft)*c,u=Math.cos(y+Ft)*(s?s/2-d:c),o=Math.sin(y+Ft)*c,m=Math.sin(y+Ft)*(s?s/2-d:c),t.arc(n-u,i-o,d,y-ue,y-Ie),t.arc(n+m,i-a,d,y-Ie,y),t.arc(n+u,i+o,d,y,y+Ie),t.arc(n-m,i+a,d,y+Ie,y+ue),t.closePath();break;case"rect":if(!p){c=Math.SQRT1_2*b,h=s?s/2:c,t.rect(n-h,i-c,2*h,2*c);break}y+=Ft;case"rectRot":u=Math.cos(y)*(s?s/2:b),a=Math.cos(y)*b,o=Math.sin(y)*b,m=Math.sin(y)*(s?s/2:b),t.moveTo(n-u,i-o),t.lineTo(n+m,i-a),t.lineTo(n+u,i+o),t.lineTo(n-m,i+a),t.closePath();break;case"crossRot":y+=Ft;case"cross":u=Math.cos(y)*(s?s/2:b),a=Math.cos(y)*b,o=Math.sin(y)*b,m=Math.sin(y)*(s?s/2:b),t.moveTo(n-u,i-o),t.lineTo(n+u,i+o),t.moveTo(n+m,i-a),t.lineTo(n-m,i+a);break;case"star":u=Math.cos(y)*(s?s/2:b),a=Math.cos(y)*b,o=Math.sin(y)*b,m=Math.sin(y)*(s?s/2:b),t.moveTo(n-u,i-o),t.lineTo(n+u,i+o),t.moveTo(n+m,i-a),t.lineTo(n-m,i+a),y+=Ft,u=Math.cos(y)*(s?s/2:b),a=Math.cos(y)*b,o=Math.sin(y)*b,m=Math.sin(y)*(s?s/2:b),t.moveTo(n-u,i-o),t.lineTo(n+u,i+o),t.moveTo(n+m,i-a),t.lineTo(n-m,i+a);break;case"line":a=s?s/2:Math.cos(y)*b,o=Math.sin(y)*b,t.moveTo(n-a,i-o),t.lineTo(n+a,i+o);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(y)*(s?s/2:b),i+Math.sin(y)*b);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function ft(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function da(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function ha(t){t.restore()}function Wp(t,e,n,i,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else s==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function Hp(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function $p(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),q(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Up(t,e,n,i,s){if(s.strikethrough||s.underline){const r=t.measureText(i),a=e-r.actualBoundingBoxLeft,o=e+r.actualBoundingBoxRight,c=n-r.actualBoundingBoxAscent,d=n+r.actualBoundingBoxDescent,h=s.strikethrough?(c+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(a,h),t.lineTo(o,h),t.stroke()}}function Yp(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function tn(t,e,n,i,s,r={}){const a=se(e)?e:[e],o=r.strokeWidth>0&&r.strokeColor!=="";let c,d;for(t.save(),t.font=s.string,$p(t,r),c=0;c<a.length;++c)d=a[c],r.backdrop&&Yp(t,r.backdrop),o&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),q(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(d,n,i,r.maxWidth)),t.fillText(d,n,i,r.maxWidth),Up(t,n,i,d,r),i+=Number(s.lineHeight);t.restore()}function ci(t,e){const{x:n,y:i,w:s,h:r,radius:a}=e;t.arc(n+a.topLeft,i+a.topLeft,a.topLeft,1.5*ue,ue,!0),t.lineTo(n,i+r-a.bottomLeft),t.arc(n+a.bottomLeft,i+r-a.bottomLeft,a.bottomLeft,ue,Ie,!0),t.lineTo(n+s-a.bottomRight,i+r),t.arc(n+s-a.bottomRight,i+r-a.bottomRight,a.bottomRight,Ie,0,!0),t.lineTo(n+s,i+a.topRight),t.arc(n+s-a.topRight,i+a.topRight,a.topRight,0,-Ie,!0),t.lineTo(n+a.topLeft,i)}const Gp=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,qp=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Kp(t,e){const n=(""+t).match(Gp);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const Xp=t=>+t||0;function Hd(t,e){const n={},i=Y(e),s=i?Object.keys(e):e,r=Y(t)?i?a=>H(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of s)n[a]=Xp(r(a));return n}function $d(t){return Hd(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Xt(t){return Hd(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ne(t){const e=$d(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ge(t,e){t=t||{},e=e||le.font;let n=H(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=H(t.style,e.style);i&&!(""+i).match(qp)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:H(t.family,e.family),lineHeight:Kp(H(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:H(t.weight,e.weight),string:""};return s.string=jp(s),s}function Oi(t,e,n,i){let s=!0,r,a,o;for(r=0,a=t.length;r<a;++r)if(o=t[r],o!==void 0&&(e!==void 0&&typeof o=="function"&&(o=o(e),s=!1),n!==void 0&&se(o)&&(o=o[n%o.length],s=!1),o!==void 0))return i&&!s&&(i.cacheable=!1),o}function Zp(t,e,n){const{min:i,max:s}=t,r=fp(e,(s-i)/2),a=(o,c)=>n&&o===0?0:o+c;return{min:a(i,-Math.abs(r)),max:a(s,r)}}function It(t,e){return Object.assign(Object.create(t),e)}function ua(t,e=[""],n,i,s=()=>t[0]){const r=n||t;typeof i>"u"&&(i=qd("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:i,_getTarget:s,override:o=>ua([o,...t],e,r,i)};return new Proxy(a,{deleteProperty(o,c){return delete o[c],delete o._keys,delete t[0][c],!0},get(o,c){return Yd(o,c,()=>r0(c,e,t,o))},getOwnPropertyDescriptor(o,c){return Reflect.getOwnPropertyDescriptor(o._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,c){return Ao(o).includes(c)},ownKeys(o){return Ao(o)},set(o,c,d){const h=o._storage||(o._storage=s());return o[c]=h[c]=d,delete o._keys,!0}})}function vn(t,e,n,i){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Ud(t,i),setContext:r=>vn(t,r,n,i),override:r=>vn(t.override(r),e,n,i)};return new Proxy(s,{deleteProperty(r,a){return delete r[a],delete t[a],!0},get(r,a,o){return Yd(r,a,()=>Qp(r,a,o))},getOwnPropertyDescriptor(r,a){return r._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(r,a,o){return t[a]=o,delete r[a],!0}})}function Ud(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:i,isScriptable:At(n)?n:()=>n,isIndexable:At(i)?i:()=>i}}const Jp=(t,e)=>t?t+sa(e):e,fa=(t,e)=>Y(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Yd(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function Qp(t,e,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:a}=t;let o=i[e];return At(o)&&a.isScriptable(e)&&(o=e0(e,o,t,n)),se(o)&&o.length&&(o=t0(e,o,t,a.isIndexable)),fa(e,o)&&(o=vn(o,s,r&&r[e],a)),o}function e0(t,e,n,i){const{_proxy:s,_context:r,_subProxy:a,_stack:o}=n;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let c=e(r,a||i);return o.delete(t),fa(t,c)&&(c=ma(s._scopes,s,t,c)),c}function t0(t,e,n,i){const{_proxy:s,_context:r,_subProxy:a,_descriptors:o}=n;if(typeof r.index<"u"&&i(t))return e[r.index%e.length];if(Y(e[0])){const c=e,d=s._scopes.filter(h=>h!==c);e=[];for(const h of c){const u=ma(d,s,t,h);e.push(vn(u,r,a&&a[t],o))}}return e}function Gd(t,e,n){return At(t)?t(e,n):t}const n0=(t,e)=>t===!0?e:typeof t=="string"?yn(e,t):void 0;function i0(t,e,n,i,s){for(const r of e){const a=n0(n,r);if(a){t.add(a);const o=Gd(a._fallback,n,s);if(typeof o<"u"&&o!==n&&o!==i)return o}else if(a===!1&&typeof i<"u"&&n!==i)return null}return!1}function ma(t,e,n,i){const s=e._rootScopes,r=Gd(e._fallback,n,i),a=[...t,...s],o=new Set;o.add(i);let c=To(o,a,n,r||n,i);return c===null||typeof r<"u"&&r!==n&&(c=To(o,a,r,c,i),c===null)?!1:ua(Array.from(o),[""],s,r,()=>s0(e,n,i))}function To(t,e,n,i,s){for(;n;)n=i0(t,e,n,i,s);return n}function s0(t,e,n){const i=t._getTarget();e in i||(i[e]={});const s=i[e];return se(s)&&Y(n)?n:s||{}}function r0(t,e,n,i){let s;for(const r of e)if(s=qd(Jp(r,t),n),typeof s<"u")return fa(t,s)?ma(n,i,t,s):s}function qd(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function Ao(t){let e=t._keys;return e||(e=t._keys=a0(t._scopes)),e}function a0(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}const o0=Number.EPSILON||1e-14,wn=(t,e)=>e<t.length&&!t[e].skip&&t[e],Kd=t=>t==="x"?"y":"x";function l0(t,e,n,i){const s=t.skip?e:t,r=e,a=n.skip?e:n,o=br(r,s),c=br(a,r);let d=o/(o+c),h=c/(o+c);d=isNaN(d)?0:d,h=isNaN(h)?0:h;const u=i*d,m=i*h;return{previous:{x:r.x-u*(a.x-s.x),y:r.y-u*(a.y-s.y)},next:{x:r.x+m*(a.x-s.x),y:r.y+m*(a.y-s.y)}}}function c0(t,e,n){const i=t.length;let s,r,a,o,c,d=wn(t,0);for(let h=0;h<i-1;++h)if(c=d,d=wn(t,h+1),!(!c||!d)){if(Jn(e[h],0,o0)){n[h]=n[h+1]=0;continue}s=n[h]/e[h],r=n[h+1]/e[h],o=Math.pow(s,2)+Math.pow(r,2),!(o<=9)&&(a=3/Math.sqrt(o),n[h]=s*a*e[h],n[h+1]=r*a*e[h])}}function d0(t,e,n="x"){const i=Kd(n),s=t.length;let r,a,o,c=wn(t,0);for(let d=0;d<s;++d){if(a=o,o=c,c=wn(t,d+1),!o)continue;const h=o[n],u=o[i];a&&(r=(h-a[n])/3,o[`cp1${n}`]=h-r,o[`cp1${i}`]=u-r*e[d]),c&&(r=(c[n]-h)/3,o[`cp2${n}`]=h+r,o[`cp2${i}`]=u+r*e[d])}}function h0(t,e="x"){const n=Kd(e),i=t.length,s=Array(i).fill(0),r=Array(i);let a,o,c,d=wn(t,0);for(a=0;a<i;++a)if(o=c,c=d,d=wn(t,a+1),!!c){if(d){const h=d[e]-c[e];s[a]=h!==0?(d[n]-c[n])/h:0}r[a]=o?d?et(s[a-1])!==et(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}c0(t,s,r),d0(t,r,e)}function Ri(t,e,n){return Math.max(Math.min(t,n),e)}function u0(t,e){let n,i,s,r,a,o=ft(t[0],e);for(n=0,i=t.length;n<i;++n)a=r,r=o,o=n<i-1&&ft(t[n+1],e),r&&(s=t[n],a&&(s.cp1x=Ri(s.cp1x,e.left,e.right),s.cp1y=Ri(s.cp1y,e.top,e.bottom)),o&&(s.cp2x=Ri(s.cp2x,e.left,e.right),s.cp2y=Ri(s.cp2y,e.top,e.bottom)))}function f0(t,e,n,i,s){let r,a,o,c;if(e.spanGaps&&(t=t.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")h0(t,s);else{let d=i?t[t.length-1]:t[0];for(r=0,a=t.length;r<a;++r)o=t[r],c=l0(d,o,t[Math.min(r+1,a-(i?0:1))%a],e.tension),o.cp1x=c.previous.x,o.cp1y=c.previous.y,o.cp2x=c.next.x,o.cp2y=c.next.y,d=o}e.capBezierPoints&&u0(t,n)}function ga(){return typeof window<"u"&&typeof document<"u"}function pa(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function fs(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const Ts=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function m0(t,e){return Ts(t).getPropertyValue(e)}const g0=["top","right","bottom","left"];function Zt(t,e,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=g0[s];i[r]=parseFloat(t[e+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const p0=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function b0(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:s,offsetY:r}=i;let a=!1,o,c;if(p0(s,r,t.target))o=s,c=r;else{const d=e.getBoundingClientRect();o=i.clientX-d.left,c=i.clientY-d.top,a=!0}return{x:o,y:c,box:a}}function Wt(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,s=Ts(n),r=s.boxSizing==="border-box",a=Zt(s,"padding"),o=Zt(s,"border","width"),{x:c,y:d,box:h}=b0(t,n),u=a.left+(h&&o.left),m=a.top+(h&&o.top);let{width:g,height:p}=e;return r&&(g-=a.width+o.width,p-=a.height+o.height),{x:Math.round((c-u)/g*n.width/i),y:Math.round((d-m)/p*n.height/i)}}function x0(t,e,n){let i,s;if(e===void 0||n===void 0){const r=t&&pa(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const a=r.getBoundingClientRect(),o=Ts(r),c=Zt(o,"border","width"),d=Zt(o,"padding");e=a.width-d.width-c.width,n=a.height-d.height-c.height,i=fs(o.maxWidth,r,"clientWidth"),s=fs(o.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:i||ds,maxHeight:s||ds}}const Fi=t=>Math.round(t*10)/10;function y0(t,e,n,i){const s=Ts(t),r=Zt(s,"margin"),a=fs(s.maxWidth,t,"clientWidth")||ds,o=fs(s.maxHeight,t,"clientHeight")||ds,c=x0(t,e,n);let{width:d,height:h}=c;if(s.boxSizing==="content-box"){const m=Zt(s,"border","width"),g=Zt(s,"padding");d-=g.width+m.width,h-=g.height+m.height}return d=Math.max(0,d-r.width),h=Math.max(0,i?d/i:h-r.height),d=Fi(Math.min(d,a,c.maxWidth)),h=Fi(Math.min(h,o,c.maxHeight)),d&&!h&&(h=Fi(d/2)),(e!==void 0||n!==void 0)&&i&&c.height&&h>c.height&&(h=c.height,d=Fi(Math.floor(h*i))),{width:d,height:h}}function Do(t,e,n){const i=e||1,s=Math.floor(t.height*i),r=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||a.height!==s||a.width!==r?(t.currentDevicePixelRatio=i,a.height=s,a.width=r,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const v0=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};ga()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Eo(t,e){const n=m0(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ht(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function w0(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function N0(t,e,n,i){const s={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},a=Ht(t,s,n),o=Ht(s,r,n),c=Ht(r,e,n),d=Ht(a,o,n),h=Ht(o,c,n);return Ht(d,h,n)}const k0=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},_0=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function xn(t,e,n){return t?k0(e,n):_0()}function Xd(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function Zd(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Jd(t){return t==="angle"?{between:Rd,compare:Sp,normalize:Ye}:{between:Gt,compare:(e,n)=>e-n,normalize:e=>e}}function Lo({start:t,end:e,count:n,loop:i,style:s}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:s}}function S0(t,e,n){const{property:i,start:s,end:r}=n,{between:a,normalize:o}=Jd(i),c=e.length;let{start:d,end:h,loop:u}=t,m,g;if(u){for(d+=c,h+=c,m=0,g=c;m<g&&a(o(e[d%c][i]),s,r);++m)d--,h--;d%=c,h%=c}return h<d&&(h+=c),{start:d,end:h,loop:u,style:t.style}}function C0(t,e,n){if(!n)return[t];const{property:i,start:s,end:r}=n,a=e.length,{compare:o,between:c,normalize:d}=Jd(i),{start:h,end:u,loop:m,style:g}=S0(t,e,n),p=[];let b=!1,y=null,x,N,w;const k=()=>c(s,w,x)&&o(s,w)!==0,_=()=>o(r,x)===0||c(r,w,x),C=()=>b||k(),D=()=>!b||_();for(let S=h,M=h;S<=u;++S)N=e[S%a],!N.skip&&(x=d(N[i]),x!==w&&(b=c(x,s,r),y===null&&C()&&(y=o(x,s)===0?S:M),y!==null&&D()&&(p.push(Lo({start:y,end:S,loop:m,count:a,style:g})),y=null),M=S,w=x));return y!==null&&p.push(Lo({start:y,end:u,loop:m,count:a,style:g})),p}function P0(t,e){const n=[],i=t.segments;for(let s=0;s<i.length;s++){const r=C0(i[s],t.points,e);r.length&&n.push(...r)}return n}function M0(t,e,n,i){let s=0,r=e-1;if(n&&!i)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(r+=s);r>s&&t[r%e].skip;)r--;return r%=e,{start:s,end:r}}function T0(t,e,n,i){const s=t.length,r=[];let a=e,o=t[e],c;for(c=e+1;c<=n;++c){const d=t[c%s];d.skip||d.stop?o.skip||(i=!1,r.push({start:e%s,end:(c-1)%s,loop:i}),e=a=d.stop?c:null):(a=c,o.skip&&(e=c)),o=d}return a!==null&&r.push({start:e%s,end:a%s,loop:i}),r}function A0(t,e){const n=t.points,i=t.options.spanGaps,s=n.length;if(!s)return[];const r=!!t._loop,{start:a,end:o}=M0(n,s,r,i);if(i===!0)return Io(t,[{start:a,end:o,loop:r}],n,e);const c=o<a?o+s:o,d=!!t._fullLoop&&a===0&&o===s-1;return Io(t,T0(n,a,c,d),n,e)}function Io(t,e,n,i){return!i||!i.setContext||!n?e:D0(t,e,n,i)}function D0(t,e,n,i){const s=t._chart.getContext(),r=Oo(t.options),{_datasetIndex:a,options:{spanGaps:o}}=t,c=n.length,d=[];let h=r,u=e[0].start,m=u;function g(p,b,y,x){const N=o?-1:1;if(p!==b){for(p+=c;n[p%c].skip;)p-=N;for(;n[b%c].skip;)b+=N;p%c!==b%c&&(d.push({start:p%c,end:b%c,loop:y,style:x}),h=x,u=b%c)}}for(const p of e){u=o?u:p.start;let b=n[u%c],y;for(m=u+1;m<=p.end;m++){const x=n[m%c];y=Oo(i.setContext(It(s,{type:"segment",p0:b,p1:x,p0DataIndex:(m-1)%c,p1DataIndex:m%c,datasetIndex:a}))),E0(y,h)&&g(u,m-1,p.loop,h),b=x,h=y}u<m-1&&g(u,m-1,p.loop,h)}return d}function Oo(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function E0(t,e){if(!e)return!1;const n=[],i=function(s,r){return la(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(t,i)!==JSON.stringify(e,i)}function Bi(t,e,n){return t.options.clip?t[n]:e[n]}function L0(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Bi(n,e,"left"),right:Bi(n,e,"right"),top:Bi(i,e,"top"),bottom:Bi(i,e,"bottom")}:e}function I0(t,e){const n=e._clip;if(n.disabled)return!1;const i=L0(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class O0{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,s){const r=n.listeners[s],a=n.duration;r.forEach(o=>o({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(i-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=Vd.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let a=r.length-1,o=!1,c;for(;a>=0;--a)c=r[a],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(e),o=!0):(r[a]=r[r.length-1],r.pop());o&&(s.draw(),this._notify(s,i,e,"progress")),r.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var at=new O0;const Ro="transparent",R0={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=Co(t||Ro),s=i.valid&&Co(e||Ro);return s&&s.valid?s.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class F0{constructor(e,n,i,s){const r=n[i];s=Oi([e.to,s,r,e.from]);const a=Oi([e.from,r,s]);this._active=!0,this._fn=e.fn||R0[e.type||typeof a],this._easing=Qn[e.easing]||Qn.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,a=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Oi([e.to,n,s,e.from]),this._from=Oi([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,s=this._prop,r=this._from,a=this._loop,o=this._to;let c;if(this._active=r!==o&&(a||n<i),!this._active){this._target[s]=o,this._notify(!0);return}if(n<0){this._target[s]=r;return}c=n/i%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[s]=this._fn(r,o,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class Qd{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Y(e))return;const n=Object.keys(le.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const r=e[s];if(!Y(r))return;const a={};for(const o of n)a[o]=r[o];(se(r.properties)&&r.properties||[s]).forEach(o=>{(o===s||!i.has(o))&&i.set(o,a)})})}_animateOptions(e,n){const i=n.options,s=V0(e,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&B0(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,n){const i=this._properties,s=[],r=e.$animations||(e.$animations={}),a=Object.keys(n),o=Date.now();let c;for(c=a.length-1;c>=0;--c){const d=a[c];if(d.charAt(0)==="$")continue;if(d==="options"){s.push(...this._animateOptions(e,n));continue}const h=n[d];let u=r[d];const m=i.get(d);if(u)if(m&&u.active()){u.update(m,h,o);continue}else u.cancel();if(!m||!m.duration){e[d]=h;continue}r[d]=u=new F0(m,e,d,h),s.push(u)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return at.add(this._chart,i),!0}}function B0(t,e){const n=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const r=t[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function V0(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Fo(t,e){const n=t&&t.options||{},i=n.reverse,s=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:i?r:s,end:i?s:r}}function j0(t,e,n){if(n===!1)return!1;const i=Fo(t,n),s=Fo(e,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function z0(t){let e,n,i,s;return Y(t)?(e=t.top,n=t.right,i=t.bottom,s=t.left):e=n=i=s=t,{top:e,right:n,bottom:i,left:s,disabled:t===!1}}function eh(t,e){const n=[],i=t._getSortedDatasetMetas(e);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function Bo(t,e,n,i={}){const s=t.keys,r=i.mode==="single";let a,o,c,d;if(e===null)return;let h=!1;for(a=0,o=s.length;a<o;++a){if(c=+s[a],c===n){if(h=!0,i.all)continue;break}d=t.values[c],pe(d)&&(r||e===0||et(e)===et(d))&&(e+=d)}return!h&&!i.all?0:e}function W0(t,e){const{iScale:n,vScale:i}=e,s=n.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",a=Object.keys(t),o=new Array(a.length);let c,d,h;for(c=0,d=a.length;c<d;++c)h=a[c],o[c]={[s]:h,[r]:t[h]};return o}function js(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function H0(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function $0(t){const{min:e,max:n,minDefined:i,maxDefined:s}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function U0(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function Vo(t,e,n,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const r=t[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function jo(t,e){const{chart:n,_cachedMeta:i}=t,s=n._stacks||(n._stacks={}),{iScale:r,vScale:a,index:o}=i,c=r.axis,d=a.axis,h=H0(r,a,i),u=e.length;let m;for(let g=0;g<u;++g){const p=e[g],{[c]:b,[d]:y}=p,x=p._stacks||(p._stacks={});m=x[d]=U0(s,h,b),m[o]=y,m._top=Vo(m,a,!0,i.type),m._bottom=Vo(m,a,!1,i.type);const N=m._visualValues||(m._visualValues={});N[o]=y}}function zs(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function Y0(t,e){return It(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function G0(t,e,n){return It(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function En(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const s of e){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const Ws=t=>t==="reset"||t==="none",zo=(t,e)=>e?t:Object.assign({},t),q0=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:eh(n,!0),values:null};class ti{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=js(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&En(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(u,m,g,p)=>u==="x"?m:u==="r"?p:g,r=n.xAxisID=H(i.xAxisID,zs(e,"x")),a=n.yAxisID=H(i.yAxisID,zs(e,"y")),o=n.rAxisID=H(i.rAxisID,zs(e,"r")),c=n.indexAxis,d=n.iAxisID=s(c,r,a,o),h=n.vAxisID=s(c,a,r,o);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(o),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&ko(this._data,this),e._stacked&&En(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(Y(n)){const s=this._cachedMeta;this._data=W0(n,s)}else if(i!==n){if(i){ko(i,this);const s=this._cachedMeta;En(s),s._parsed=[]}n&&Object.isExtensible(n)&&Tp(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=js(n.vScale,n),n.stack!==i.stack&&(s=!0,En(n),n.stack=i.stack),this._resyncElements(e),(s||r!==n._stacked)&&(jo(this,n._parsed),n._stacked=js(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:a}=i,o=r.axis;let c=e===0&&n===s.length?!0:i._sorted,d=e>0&&i._parsed[e-1],h,u,m;if(this._parsing===!1)i._parsed=s,i._sorted=!0,m=s;else{se(s[e])?m=this.parseArrayData(i,s,e,n):Y(s[e])?m=this.parseObjectData(i,s,e,n):m=this.parsePrimitiveData(i,s,e,n);const g=()=>u[o]===null||d&&u[o]<d[o];for(h=0;h<n;++h)i._parsed[h+e]=u=m[h],c&&(g()&&(c=!1),d=u);i._sorted=c}a&&jo(this,m)}parsePrimitiveData(e,n,i,s){const{iScale:r,vScale:a}=e,o=r.axis,c=a.axis,d=r.getLabels(),h=r===a,u=new Array(s);let m,g,p;for(m=0,g=s;m<g;++m)p=m+i,u[m]={[o]:h||r.parse(d[p],p),[c]:a.parse(n[p],p)};return u}parseArrayData(e,n,i,s){const{xScale:r,yScale:a}=e,o=new Array(s);let c,d,h,u;for(c=0,d=s;c<d;++c)h=c+i,u=n[h],o[c]={x:r.parse(u[0],h),y:a.parse(u[1],h)};return o}parseObjectData(e,n,i,s){const{xScale:r,yScale:a}=e,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,d=new Array(s);let h,u,m,g;for(h=0,u=s;h<u;++h)m=h+i,g=n[m],d[h]={x:r.parse(yn(g,o),m),y:a.parse(yn(g,c),m)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const s=this.chart,r=this._cachedMeta,a=n[e.axis],o={keys:eh(s,!0),values:n._stacks[e.axis]._visualValues};return Bo(o,a,r.index,{mode:i})}updateRangeFromParsed(e,n,i,s){const r=i[n.axis];let a=r===null?NaN:r;const o=s&&i._stacks[n.axis];s&&o&&(s.values=o,a=Bo(s,r,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&e===i.iScale,a=s.length,o=this._getOtherScale(e),c=q0(n,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:u}=$0(o);let m,g;function p(){g=s[m];const b=g[o.axis];return!pe(g[e.axis])||h>b||u<b}for(m=0;m<a&&!(!p()&&(this.updateRangeFromParsed(d,e,g,c),r));++m);if(r){for(m=a-1;m>=0;--m)if(!p()){this.updateRangeFromParsed(d,e,g,c);break}}return d}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let s,r,a;for(s=0,r=n.length;s<r;++s)a=n[s][e.axis],pe(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(e);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=z0(H(this.options.clip,j0(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,a=[],o=this._drawStart||0,c=this._drawCount||s.length-o,d=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(e,r,o,c),h=o;h<o+c;++h){const u=s[h];u.hidden||(u.active&&d?a.push(u):u.draw(e,r))}for(h=0;h<a.length;++h)a[h].draw(e,r)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const s=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];r=a.$context||(a.$context=G0(this.getContext(),e,a)),r.parsed=this.getParsed(e),r.raw=s.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=Y0(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const s=n==="active",r=this._cachedDataOpts,a=e+"-"+n,o=r[a],c=this.enableOptionSharing&&li(i);if(o)return zo(o,c);const d=this.chart.config,h=d.datasetElementScopeKeys(this._type,e),u=s?[`${e}Hover`,"hover",e,""]:[e,""],m=d.getOptionScopes(this.getDataset(),h),g=Object.keys(le.elements[e]),p=()=>this.getContext(i,s,n),b=d.resolveNamedOptions(m,g,p,u);return b.$shared&&(b.$shared=c,r[a]=Object.freeze(zo(b,c))),b}_resolveAnimations(e,n,i){const s=this.chart,r=this._cachedDataOpts,a=`animation-${n}`,o=r[a];if(o)return o;let c;if(s.options.animation!==!1){const h=this.chart.config,u=h.datasetAnimationScopeKeys(this._type,n),m=h.getOptionScopes(this.getDataset(),u);c=h.createResolver(m,this.getContext(e,i,n))}const d=new Qd(s,c&&c.animations);return c&&c._cacheable&&(r[a]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Ws(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),s=this._sharedOptions,r=this.getSharedOptions(i),a=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:a}}updateElement(e,n,i,s){Ws(s)?Object.assign(e,i):this._resolveAnimations(n,s).update(e,i)}updateSharedOptions(e,n,i){e&&!Ws(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,s){e.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(e,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[o,c,d]of this._syncList)this[o](c,d);this._syncList=[];const s=i.length,r=n.length,a=Math.min(r,s);a&&this.parse(0,a),r>s?this._insertElements(s,r-s,e):r<s&&this._removeElements(r,s-r)}_insertElements(e,n,i=!0){const s=this._cachedMeta,r=s.data,a=e+n;let o;const c=d=>{for(d.length+=n,o=d.length-1;o>=a;o--)d[o]=d[o-n]};for(c(r),o=e;o<a;++o)r[o]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(e,n),i&&this.updateElements(r,e,n,"reset")}updateElements(e,n,i,s){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,n);i._stacked&&En(i,s)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,s]=e;this[n](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}B(ti,"defaults",{}),B(ti,"datasetElementType",null),B(ti,"dataElementType",null);function K0(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let s=0,r=n.length;s<r;s++)i=i.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=Bd(i.sort((s,r)=>s-r))}return t._cache.$bar}function X0(t){const e=t.iScale,n=K0(e,t.type);let i=e._length,s,r,a,o;const c=()=>{a===32767||a===-32768||(li(o)&&(i=Math.min(i,Math.abs(a-o)||i)),o=a)};for(s=0,r=n.length;s<r;++s)a=e.getPixelForValue(n[s]),c();for(o=void 0,s=0,r=e.ticks.length;s<r;++s)a=e.getPixelForTick(s),c();return i}function Z0(t,e,n,i){const s=n.barThickness;let r,a;return q(s)?(r=e.min*n.categoryPercentage,a=n.barPercentage):(r=s*i,a=1),{chunk:r/i,ratio:a,start:e.pixels[t]-r/2}}function J0(t,e,n,i){const s=e.pixels,r=s[t];let a=t>0?s[t-1]:null,o=t<s.length-1?s[t+1]:null;const c=n.categoryPercentage;a===null&&(a=r-(o===null?e.end-e.start:o-r)),o===null&&(o=r+r-a);const d=r-(r-Math.min(a,o))/2*c;return{chunk:Math.abs(o-a)/2*c/i,ratio:n.barPercentage,start:d}}function Q0(t,e,n,i){const s=n.parse(t[0],i),r=n.parse(t[1],i),a=Math.min(s,r),o=Math.max(s,r);let c=a,d=o;Math.abs(a)>Math.abs(o)&&(c=o,d=a),e[n.axis]=d,e._custom={barStart:c,barEnd:d,start:s,end:r,min:a,max:o}}function th(t,e,n,i){return se(t)?Q0(t,e,n,i):e[n.axis]=n.parse(t,i),e}function Wo(t,e,n,i){const s=t.iScale,r=t.vScale,a=s.getLabels(),o=s===r,c=[];let d,h,u,m;for(d=n,h=n+i;d<h;++d)m=e[d],u={},u[s.axis]=o||s.parse(a[d],d),c.push(th(m,u,r,d));return c}function Hs(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function eb(t,e,n){return t!==0?et(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function tb(t){let e,n,i,s,r;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(s="end",r="start"):(s="start",r="end"),{start:n,end:i,reverse:e,top:s,bottom:r}}function nb(t,e,n,i){let s=e.borderSkipped;const r={};if(!s){t.borderSkipped=r;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:c,top:d,bottom:h}=tb(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?s=d:(n._bottom||0)===i?s=h:(r[Ho(h,a,o,c)]=!0,s=d)),r[Ho(s,a,o,c)]=!0,t.borderSkipped=r}function Ho(t,e,n,i){return i?(t=ib(t,e,n),t=$o(t,n,e)):t=$o(t,e,n),t}function ib(t,e,n){return t===e?n:t===n?e:t}function $o(t,e,n){return t==="start"?e:t==="end"?n:t}function sb(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Ji extends ti{parsePrimitiveData(e,n,i,s){return Wo(e,n,i,s)}parseArrayData(e,n,i,s){return Wo(e,n,i,s)}parseObjectData(e,n,i,s){const{iScale:r,vScale:a}=e,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,d=r.axis==="x"?o:c,h=a.axis==="x"?o:c,u=[];let m,g,p,b;for(m=i,g=i+s;m<g;++m)b=n[m],p={},p[r.axis]=r.parse(yn(b,d),m),u.push(th(yn(b,h),p,a,m));return u}updateRangeFromParsed(e,n,i,s){super.updateRangeFromParsed(e,n,i,s);const r=i._custom;r&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:s}=n,r=this.getParsed(e),a=r._custom,o=Hs(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,s){const r=s==="reset",{index:a,_cachedMeta:{vScale:o}}=this,c=o.getBasePixel(),d=o.isHorizontal(),h=this._getRuler(),{sharedOptions:u,includeOptions:m}=this._getSharedOptions(n,s);for(let g=n;g<n+i;g++){const p=this.getParsed(g),b=r||q(p[o.axis])?{base:c,head:c}:this._calculateBarValuePixels(g),y=this._calculateBarIndexPixels(g,h),x=(p._stacks||{})[o.axis],N={horizontal:d,base:b.base,enableBorderRadius:!x||Hs(p._custom)||a===x._top||a===x._bottom,x:d?b.head:y.center,y:d?y.center:b.head,height:d?y.size:Math.abs(b.size),width:d?Math.abs(b.size):y.size};m&&(N.options=u||this.resolveDataElementOptions(g,e[g].active?"active":s));const w=N.options||e[g].options;nb(N,w,x,a),sb(N,w,h.ratio),this.updateElement(e[g],g,N,s)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),r=i.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(n),c=o&&o[i.axis],d=h=>{const u=h._parsed.find(g=>g[i.axis]===c),m=u&&u[h.vScale.axis];if(q(m)||isNaN(m))return!0};for(const h of s)if(!(n!==void 0&&d(h))&&((r===!1||a.indexOf(h.stack)===-1||r===void 0&&h.stack===void 0)&&a.push(h.stack),h.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[H(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,i){const s=this._getStacks(e,i),r=n!==void 0?s.indexOf(n):-1;return r===-1?s.length-1:r}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,s=[];let r,a;for(r=0,a=n.data.length;r<a;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const o=e.barThickness;return{min:o||X0(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:r,minBarLength:a}}=this,o=r||0,c=this.getParsed(e),d=c._custom,h=Hs(d);let u=c[n.axis],m=0,g=i?this.applyStack(n,c,i):u,p,b;g!==u&&(m=g-u,g=u),h&&(u=d.barStart,g=d.barEnd-d.barStart,u!==0&&et(u)!==et(d.barEnd)&&(m=0),m+=u);const y=!q(r)&&!h?r:m;let x=n.getPixelForValue(y);if(this.chart.getDataVisibility(e)?p=n.getPixelForValue(m+g):p=x,b=p-x,Math.abs(b)<a){b=eb(b,n,o)*a,u===o&&(x-=b/2);const N=n.getPixelForDecimal(0),w=n.getPixelForDecimal(1),k=Math.min(N,w),_=Math.max(N,w);x=Math.max(Math.min(x,_),k),p=x+b,i&&!h&&(c._stacks[n.axis]._visualValues[s]=n.getValueForPixel(p)-n.getValueForPixel(x))}if(x===n.getPixelForValue(o)){const N=et(b)*n.getLineWidthForValue(o)/2;x+=N,b-=N}return{size:b,base:x,head:p,center:p+b/2}}_calculateBarIndexPixels(e,n){const i=n.scale,s=this.options,r=s.skipNull,a=H(s.maxBarThickness,1/0);let o,c;const d=this._getAxisCount();if(n.grouped){const h=r?this._getStackCount(e):n.stackCount,u=s.barThickness==="flex"?J0(e,n,s,h*d):Z0(e,n,s,h*d),m=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,g=this._getAxis().indexOf(H(m,this.getFirstScaleIdForIndexAxis())),p=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0)+g;o=u.start+u.chunk*p+u.chunk/2,c=Math.min(a,u.chunk*u.ratio)}else o=i.getPixelForValue(this.getParsed(e)[i.axis],e),c=Math.min(a,n.min*n.ratio);return{base:o-c/2,head:o+c/2,center:o,size:c}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[n.axis]!==null&&!i[r].hidden&&i[r].draw(this._ctx)}}B(Ji,"id","bar"),B(Ji,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),B(Ji,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function Vt(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ba{constructor(e){B(this,"options");this.options=e||{}}static override(e){Object.assign(ba.prototype,e)}init(){}formats(){return Vt()}parse(){return Vt()}format(){return Vt()}add(){return Vt()}diff(){return Vt()}startOf(){return Vt()}endOf(){return Vt()}}var rb={_date:ba};function ab(t,e,n,i){const{controller:s,data:r,_sorted:a}=t,o=s._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&r.length){const d=o._reversePixels?Pp:xr;if(i){if(s._sharedOptions){const h=r[0],u=typeof h.getRange=="function"&&h.getRange(e);if(u){const m=d(r,e,n-u),g=d(r,e,n+u);return{lo:m.lo,hi:g.hi}}}}else{const h=d(r,e,n);if(c){const{vScale:u}=s._cachedMeta,{_parsed:m}=t,g=m.slice(0,h.lo+1).reverse().findIndex(b=>!q(b[u.axis]));h.lo-=Math.max(0,g);const p=m.slice(h.hi).findIndex(b=>!q(b[u.axis]));h.hi+=Math.max(0,p)}return h}}return{lo:0,hi:r.length-1}}function ki(t,e,n,i,s){const r=t.getSortedVisibleDatasetMetas(),a=n[e];for(let o=0,c=r.length;o<c;++o){const{index:d,data:h}=r[o],{lo:u,hi:m}=ab(r[o],e,a,s);for(let g=u;g<=m;++g){const p=h[g];p.skip||i(p,d,g)}}}function ob(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,s){const r=e?Math.abs(i.x-s.x):0,a=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}function $s(t,e,n,i,s){const r=[];return!s&&!t.isPointInArea(e)||ki(t,n,e,function(o,c,d){!s&&!ft(o,t.chartArea,0)||o.inRange(e.x,e.y,i)&&r.push({element:o,datasetIndex:c,index:d})},!0),r}function lb(t,e,n,i){let s=[];function r(a,o,c){const{startAngle:d,endAngle:h}=a.getProps(["startAngle","endAngle"],i),{angle:u}=_p(a,{x:e.x,y:e.y});Rd(u,d,h)&&s.push({element:a,datasetIndex:o,index:c})}return ki(t,n,e,r),s}function cb(t,e,n,i,s,r){let a=[];const o=ob(n);let c=Number.POSITIVE_INFINITY;function d(h,u,m){const g=h.inRange(e.x,e.y,s);if(i&&!g)return;const p=h.getCenterPoint(s);if(!(!!r||t.isPointInArea(p))&&!g)return;const y=o(e,p);y<c?(a=[{element:h,datasetIndex:u,index:m}],c=y):y===c&&a.push({element:h,datasetIndex:u,index:m})}return ki(t,n,e,d),a}function Us(t,e,n,i,s,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!i?lb(t,e,n,s):cb(t,e,n,i,s,r)}function Uo(t,e,n,i,s){const r=[],a=n==="x"?"inXRange":"inYRange";let o=!1;return ki(t,n,e,(c,d,h)=>{c[a]&&c[a](e[n],s)&&(r.push({element:c,datasetIndex:d,index:h}),o=o||c.inRange(e.x,e.y,s))}),i&&!o?[]:r}var db={evaluateInteractionItems:ki,modes:{index(t,e,n,i){const s=Wt(e,t),r=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?$s(t,s,r,i,a):Us(t,s,r,!1,i,a),c=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const h=o[0].index,u=d.data[h];u&&!u.skip&&c.push({element:u,datasetIndex:d.index,index:h})}),c):[]},dataset(t,e,n,i){const s=Wt(e,t),r=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?$s(t,s,r,i,a):Us(t,s,r,!1,i,a);if(o.length>0){const c=o[0].datasetIndex,d=t.getDatasetMeta(c).data;o=[];for(let h=0;h<d.length;++h)o.push({element:d[h],datasetIndex:c,index:h})}return o},point(t,e,n,i){const s=Wt(e,t),r=n.axis||"xy",a=n.includeInvisible||!1;return $s(t,s,r,i,a)},nearest(t,e,n,i){const s=Wt(e,t),r=n.axis||"xy",a=n.includeInvisible||!1;return Us(t,s,r,n.intersect,i,a)},x(t,e,n,i){const s=Wt(e,t);return Uo(t,s,"x",n.intersect,i)},y(t,e,n,i){const s=Wt(e,t);return Uo(t,s,"y",n.intersect,i)}}};const nh=["left","top","right","bottom"];function Ln(t,e){return t.filter(n=>n.pos===e)}function Yo(t,e){return t.filter(n=>nh.indexOf(n.pos)===-1&&n.box.axis===e)}function In(t,e){return t.sort((n,i)=>{const s=e?i:n,r=e?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function hb(t){const e=[];let n,i,s,r,a,o;for(n=0,i=(t||[]).length;n<i;++n)s=t[n],{position:r,options:{stack:a,stackWeight:o=1}}=s,e.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&r+a,stackWeight:o});return e}function ub(t){const e={};for(const n of t){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!nh.includes(s))continue;const a=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return e}function fb(t,e){const n=ub(t),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let r,a,o;for(r=0,a=t.length;r<a;++r){o=t[r];const{fullSize:c}=o.box,d=n[o.stack],h=d&&o.stackWeight/d.weight;o.horizontal?(o.width=h?h*i:c&&e.availableWidth,o.height=s):(o.width=i,o.height=h?h*s:c&&e.availableHeight)}return n}function mb(t){const e=hb(t),n=In(e.filter(d=>d.box.fullSize),!0),i=In(Ln(e,"left"),!0),s=In(Ln(e,"right")),r=In(Ln(e,"top"),!0),a=In(Ln(e,"bottom")),o=Yo(e,"x"),c=Yo(e,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(c).concat(a).concat(o),chartArea:Ln(e,"chartArea"),vertical:i.concat(s).concat(c),horizontal:r.concat(a).concat(o)}}function Go(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function ih(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function gb(t,e,n,i){const{pos:s,box:r}=n,a=t.maxPadding;if(!Y(s)){n.size&&(t[s]-=n.size);const u=i[n.stack]||{size:0,count:1};u.size=Math.max(u.size,n.horizontal?r.height:r.width),n.size=u.size/u.count,t[s]+=n.size}r.getPadding&&ih(a,r.getPadding());const o=Math.max(0,e.outerWidth-Go(a,t,"left","right")),c=Math.max(0,e.outerHeight-Go(a,t,"top","bottom")),d=o!==t.w,h=c!==t.h;return t.w=o,t.h=c,n.horizontal?{same:d,other:h}:{same:h,other:d}}function pb(t){const e=t.maxPadding;function n(i){const s=Math.max(e[i]-t[i],0);return t[i]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function bb(t,e){const n=e.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{r[a]=Math.max(e[a],n[a])}),r}return i(t?["left","right"]:["top","bottom"])}function Hn(t,e,n,i){const s=[];let r,a,o,c,d,h;for(r=0,a=t.length,d=0;r<a;++r){o=t[r],c=o.box,c.update(o.width||e.w,o.height||e.h,bb(o.horizontal,e));const{same:u,other:m}=gb(e,n,o,i);d|=u&&s.length,h=h||m,c.fullSize||s.push(o)}return d&&Hn(s,e,n,i)||h}function Vi(t,e,n,i,s){t.top=n,t.left=e,t.right=e+i,t.bottom=n+s,t.width=i,t.height=s}function qo(t,e,n,i){const s=n.padding;let{x:r,y:a}=e;for(const o of t){const c=o.box,d=i[o.stack]||{count:1,placed:0,weight:1},h=o.stackWeight/d.weight||1;if(o.horizontal){const u=e.w*h,m=d.size||c.height;li(d.start)&&(a=d.start),c.fullSize?Vi(c,s.left,a,n.outerWidth-s.right-s.left,m):Vi(c,e.left+d.placed,a,u,m),d.start=a,d.placed+=u,a=c.bottom}else{const u=e.h*h,m=d.size||c.width;li(d.start)&&(r=d.start),c.fullSize?Vi(c,r,s.top,m,n.outerHeight-s.bottom-s.top):Vi(c,r,e.top+d.placed,m,u),d.start=r,d.placed+=u,r=c.right}}e.x=r,e.y=a}var Ve={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const s=Ne(t.options.layout.padding),r=Math.max(e-s.width,0),a=Math.max(n-s.height,0),o=mb(t.boxes),c=o.vertical,d=o.horizontal;X(t.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const h=c.reduce((b,y)=>y.box.options&&y.box.options.display===!1?b:b+1,0)||1,u=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:r,availableHeight:a,vBoxMaxWidth:r/2/h,hBoxMaxHeight:a/2}),m=Object.assign({},s);ih(m,Ne(i));const g=Object.assign({maxPadding:m,w:r,h:a,x:s.left,y:s.top},s),p=fb(c.concat(d),u);Hn(o.fullSize,g,u,p),Hn(c,g,u,p),Hn(d,g,u,p)&&Hn(c,g,u,p),pb(g),qo(o.leftAndTop,g,u,p),g.x+=g.w,g.y+=g.h,qo(o.rightAndBottom,g,u,p),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},X(o.chartArea,b=>{const y=b.box;Object.assign(y,t.chartArea),y.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class sh{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,s){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(e){return!0}updateConfig(e){}}class xb extends sh{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Qi="$chartjs",yb={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ko=t=>t===null||t==="";function vb(t,e){const n=t.style,i=t.getAttribute("height"),s=t.getAttribute("width");if(t[Qi]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Ko(s)){const r=Eo(t,"width");r!==void 0&&(t.width=r)}if(Ko(i))if(t.style.height==="")t.height=t.width/(e||2);else{const r=Eo(t,"height");r!==void 0&&(t.height=r)}return t}const rh=v0?{passive:!0}:!1;function wb(t,e,n){t&&t.addEventListener(e,n,rh)}function Nb(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,rh)}function kb(t,e){const n=yb[t.type]||t.type,{x:i,y:s}=Wt(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:s!==void 0?s:null}}function ms(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function _b(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let a=!1;for(const o of r)a=a||ms(o.addedNodes,i),a=a&&!ms(o.removedNodes,i);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function Sb(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let a=!1;for(const o of r)a=a||ms(o.removedNodes,i),a=a&&!ms(o.addedNodes,i);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const di=new Map;let Xo=0;function ah(){const t=window.devicePixelRatio;t!==Xo&&(Xo=t,di.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function Cb(t,e){di.size||window.addEventListener("resize",ah),di.set(t,e)}function Pb(t){di.delete(t),di.size||window.removeEventListener("resize",ah)}function Mb(t,e,n){const i=t.canvas,s=i&&pa(i);if(!s)return;const r=jd((o,c)=>{const d=s.clientWidth;n(o,c),d<s.clientWidth&&n()},window),a=new ResizeObserver(o=>{const c=o[0],d=c.contentRect.width,h=c.contentRect.height;d===0&&h===0||r(d,h)});return a.observe(s),Cb(t,r),a}function Ys(t,e,n){n&&n.disconnect(),e==="resize"&&Pb(t)}function Tb(t,e,n){const i=t.canvas,s=jd(r=>{t.ctx!==null&&n(kb(r,t))},t);return wb(i,e,s),s}class Ab extends sh{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(vb(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[Qi])return!1;const i=n[Qi].initial;["height","width"].forEach(r=>{const a=i[r];q(a)?n.removeAttribute(r):n.setAttribute(r,a)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[Qi],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),a={attach:_b,detach:Sb,resize:Mb}[n]||Tb;s[n]=a(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),s=i[n];if(!s)return;({attach:Ys,detach:Ys,resize:Ys}[n]||Nb)(e,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,s){return y0(e,n,i,s)}isAttached(e){const n=e&&pa(e);return!!(n&&n.isConnected)}}function Db(t){return!ga()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?xb:Ab}var Zi;let Ot=(Zi=class{constructor(){B(this,"x");B(this,"y");B(this,"active",!1);B(this,"options");B(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return hs(this.x)&&hs(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const s={};return e.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}},B(Zi,"defaults",{}),B(Zi,"defaultRoutes"),Zi);function Eb(t,e){const n=t.options.ticks,i=Lb(t),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?Ob(e):[],a=r.length,o=r[0],c=r[a-1],d=[];if(a>s)return Rb(e,d,r,a/s),d;const h=Ib(r,e,s);if(a>0){let u,m;const g=a>1?Math.round((c-o)/(a-1)):null;for(ji(e,d,h,q(g)?0:o-g,o),u=0,m=a-1;u<m;u++)ji(e,d,h,r[u],r[u+1]);return ji(e,d,h,c,q(g)?e.length:c+g),d}return ji(e,d,h),d}function Lb(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(i,s))}function Ib(t,e,n){const i=Fb(t),s=e.length/n;if(!i)return Math.max(s,1);const r=wp(i);for(let a=0,o=r.length-1;a<o;a++){const c=r[a];if(c>s)return c}return Math.max(s,1)}function Ob(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function Rb(t,e,n,i){let s=0,r=n[0],a;for(i=Math.ceil(i),a=0;a<t.length;a++)a===r&&(e.push(t[a]),s++,r=n[s*i])}function ji(t,e,n,i,s){const r=H(i,0),a=Math.min(H(s,t.length),t.length);let o=0,c,d,h;for(n=Math.ceil(n),s&&(c=s-i,n=c/Math.floor(c/n)),h=r;h<0;)o++,h=Math.round(r+o*n);for(d=Math.max(r,0);d<a;d++)d===h&&(e.push(t[d]),o++,h=Math.round(r+o*n))}function Fb(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const Bb=t=>t==="left"?"right":t==="right"?"left":t,Zo=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Jo=(t,e)=>Math.min(e||t,t);function Qo(t,e){const n=[],i=t.length/e,s=t.length;let r=0;for(;r<s;r+=i)n.push(t[Math.floor(r)]);return n}function Vb(t,e,n){const i=t.ticks.length,s=Math.min(e,i-1),r=t._startPixel,a=t._endPixel,o=1e-6;let c=t.getPixelForTick(s),d;if(!(n&&(i===1?d=Math.max(c-r,a-c):e===0?d=(t.getPixelForTick(1)-c)/2:d=(c-t.getPixelForTick(s-1))/2,c+=s<e?d:-d,c<r-o||c>a+o)))return c}function jb(t,e){X(t,n=>{const i=n.gc,s=i.length/2;let r;if(s>e){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function On(t){return t.drawTicks?t.tickLength:0}function el(t,e){if(!t.display)return 0;const n=ge(t.font,e),i=Ne(t.padding);return(se(t.text)?t.text.length:1)*n.lineHeight+i.height}function zb(t,e){return It(t,{scale:e,type:"scale"})}function Wb(t,e,n){return It(t,{tick:n,index:e,type:"tick"})}function Hb(t,e,n){let i=oa(t);return(n&&e!=="right"||!n&&e==="right")&&(i=Bb(i)),i}function $b(t,e,n,i){const{top:s,left:r,bottom:a,right:o,chart:c}=t,{chartArea:d,scales:h}=c;let u=0,m,g,p;const b=a-s,y=o-r;if(t.isHorizontal()){if(g=ve(i,r,o),Y(n)){const x=Object.keys(n)[0],N=n[x];p=h[x].getPixelForValue(N)+b-e}else n==="center"?p=(d.bottom+d.top)/2+b-e:p=Zo(t,n,e);m=o-r}else{if(Y(n)){const x=Object.keys(n)[0],N=n[x];g=h[x].getPixelForValue(N)-y+e}else n==="center"?g=(d.left+d.right)/2-y+e:g=Zo(t,n,e);p=ve(i,a,s),u=n==="left"?-Ie:Ie}return{titleX:g,titleY:p,maxWidth:m,rotation:u}}class rn extends Ot{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return e=Le(e,Number.POSITIVE_INFINITY),n=Le(n,Number.NEGATIVE_INFINITY),i=Le(i,Number.POSITIVE_INFINITY),s=Le(s,Number.NEGATIVE_INFINITY),{min:Le(e,i),max:Le(n,s),minDefined:pe(e),maxDefined:pe(n)}}getMinMax(e){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),a;if(s&&r)return{min:n,max:i};const o=this.getMatchingVisibleMetas();for(let c=0,d=o.length;c<d;++c)a=o[c].controller.getMinMax(this,e),s||(n=Math.min(n,a.min)),r||(i=Math.max(i,a.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:Le(n,Le(i,n)),max:Le(i,Le(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ee(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:s,grace:r,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Zp(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=o<this.ticks.length;this._convertTicksToLabels(c?Qo(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=Eb(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ee(this.options.afterUpdate,[this])}beforeSetDimensions(){ee(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ee(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ee(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ee(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i],r.label=ee(n.callback,[r.value,i,e],this)}afterTickToLabelConversion(){ee(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ee(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=Jo(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,r=n.maxRotation;let a=s,o,c,d;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const h=this._getLabelSizes(),u=h.widest.width,m=h.highest.height,g=Ge(this.chart.width-u,0,this.maxWidth);o=e.offset?this.maxWidth/i:g/(i-1),u+6>o&&(o=g/(i-(e.offset?.5:1)),c=this.maxHeight-On(e.grid)-n.padding-el(e.title,this.chart.options.font),d=Math.sqrt(u*u+m*m),a=ra(Math.min(Math.asin(Ge((h.highest.height+6)/o,-1,1)),Math.asin(Ge(c/d,-1,1))-Math.asin(Ge(m/d,-1,1)))),a=Math.max(s,Math.min(r,a))),this.labelRotation=a}afterCalculateLabelRotation(){ee(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ee(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const c=el(s,n.options.font);if(o?(e.width=this.maxWidth,e.height=On(r)+c):(e.height=this.maxHeight,e.width=On(r)+c),i.display&&this.ticks.length){const{first:d,last:h,widest:u,highest:m}=this._getLabelSizes(),g=i.padding*2,p=Pt(this.labelRotation),b=Math.cos(p),y=Math.sin(p);if(o){const x=i.mirror?0:y*u.width+b*m.height;e.height=Math.min(this.maxHeight,e.height+x+g)}else{const x=i.mirror?0:b*u.width+y*m.height;e.width=Math.min(this.maxWidth,e.width+x+g)}this._calculatePadding(d,h,y,b)}}this._handleMargins(),o?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,s){const{ticks:{align:r,padding:a},position:o}=this.options,c=this.labelRotation!==0,d=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,g=0;c?d?(m=s*e.width,g=i*n.height):(m=i*e.height,g=s*n.width):r==="start"?g=n.width:r==="end"?m=e.width:r!=="inner"&&(m=e.width/2,g=n.width/2),this.paddingLeft=Math.max((m-h+a)*this.width/(this.width-h),0),this.paddingRight=Math.max((g-u+a)*this.width/(this.width-u),0)}else{let h=n.height/2,u=e.height/2;r==="start"?(h=0,u=e.height):r==="end"&&(h=n.height,u=0),this.paddingTop=h+a,this.paddingBottom=u+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ee(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)q(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=Qo(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:s,_longestTextCache:r}=this,a=[],o=[],c=Math.floor(n/Jo(n,i));let d=0,h=0,u,m,g,p,b,y,x,N,w,k,_;for(u=0;u<n;u+=c){if(p=e[u].label,b=this._resolveTickFontOptions(u),s.font=y=b.string,x=r[y]=r[y]||{data:{},gc:[]},N=b.lineHeight,w=k=0,!q(p)&&!se(p))w=us(s,x.data,x.gc,w,p),k=N;else if(se(p))for(m=0,g=p.length;m<g;++m)_=p[m],!q(_)&&!se(_)&&(w=us(s,x.data,x.gc,w,_),k+=N);a.push(w),o.push(k),d=Math.max(w,d),h=Math.max(k,h)}jb(r,n);const C=a.indexOf(d),D=o.indexOf(h),S=M=>({width:a[M]||0,height:o[M]||0});return{first:S(0),last:S(n-1),widest:S(C),highest:S(D),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Cp(this._alignToPixels?Bt(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=Wb(this.getContext(),e,i))}return this.$context||(this.$context=zb(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Pt(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),a=e.autoSkipPadding||0,o=r?r.widest.width+a:0,c=r?r.highest.height+a:0;return this.isHorizontal()?c*i>o*s?o/i:c/s:c*s<o*i?c/i:o/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:a,border:o}=s,c=r.offset,d=this.isHorizontal(),u=this.ticks.length+(c?1:0),m=On(r),g=[],p=o.setContext(this.getContext()),b=p.display?p.width:0,y=b/2,x=function(j){return Bt(i,j,b)};let N,w,k,_,C,D,S,M,P,I,L,U;if(a==="top")N=x(this.bottom),D=this.bottom-m,M=N-y,I=x(e.top)+y,U=e.bottom;else if(a==="bottom")N=x(this.top),I=e.top,U=x(e.bottom)-y,D=N+y,M=this.top+m;else if(a==="left")N=x(this.right),C=this.right-m,S=N-y,P=x(e.left)+y,L=e.right;else if(a==="right")N=x(this.left),P=e.left,L=x(e.right)-y,C=N+y,S=this.left+m;else if(n==="x"){if(a==="center")N=x((e.top+e.bottom)/2+.5);else if(Y(a)){const j=Object.keys(a)[0],F=a[j];N=x(this.chart.scales[j].getPixelForValue(F))}I=e.top,U=e.bottom,D=N+y,M=D+m}else if(n==="y"){if(a==="center")N=x((e.left+e.right)/2);else if(Y(a)){const j=Object.keys(a)[0],F=a[j];N=x(this.chart.scales[j].getPixelForValue(F))}C=N-y,S=C-m,P=e.left,L=e.right}const W=H(s.ticks.maxTicksLimit,u),T=Math.max(1,Math.ceil(u/W));for(w=0;w<u;w+=T){const j=this.getContext(w),F=r.setContext(j),J=o.setContext(j),de=F.lineWidth,ke=F.color,Oe=J.dash||[],Ee=J.dashOffset,R=F.tickWidth,We=F.tickColor,bt=F.tickBorderDash||[],it=F.tickBorderDashOffset;k=Vb(this,w,c),k!==void 0&&(_=Bt(i,k,de),d?C=S=P=L=_:D=M=I=U=_,g.push({tx1:C,ty1:D,tx2:S,ty2:M,x1:P,y1:I,x2:L,y2:U,width:de,color:ke,borderDash:Oe,borderDashOffset:Ee,tickWidth:R,tickColor:We,tickBorderDash:bt,tickBorderDashOffset:it}))}return this._ticksLength=u,this._borderValue=N,g}_computeLabelItems(e){const n=this.axis,i=this.options,{position:s,ticks:r}=i,a=this.isHorizontal(),o=this.ticks,{align:c,crossAlign:d,padding:h,mirror:u}=r,m=On(i.grid),g=m+h,p=u?-h:g,b=-Pt(this.labelRotation),y=[];let x,N,w,k,_,C,D,S,M,P,I,L,U="middle";if(s==="top")C=this.bottom-p,D=this._getXAxisLabelAlignment();else if(s==="bottom")C=this.top+p,D=this._getXAxisLabelAlignment();else if(s==="left"){const T=this._getYAxisLabelAlignment(m);D=T.textAlign,_=T.x}else if(s==="right"){const T=this._getYAxisLabelAlignment(m);D=T.textAlign,_=T.x}else if(n==="x"){if(s==="center")C=(e.top+e.bottom)/2+g;else if(Y(s)){const T=Object.keys(s)[0],j=s[T];C=this.chart.scales[T].getPixelForValue(j)+g}D=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")_=(e.left+e.right)/2-g;else if(Y(s)){const T=Object.keys(s)[0],j=s[T];_=this.chart.scales[T].getPixelForValue(j)}D=this._getYAxisLabelAlignment(m).textAlign}n==="y"&&(c==="start"?U="top":c==="end"&&(U="bottom"));const W=this._getLabelSizes();for(x=0,N=o.length;x<N;++x){w=o[x],k=w.label;const T=r.setContext(this.getContext(x));S=this.getPixelForTick(x)+r.labelOffset,M=this._resolveTickFontOptions(x),P=M.lineHeight,I=se(k)?k.length:1;const j=I/2,F=T.color,J=T.textStrokeColor,de=T.textStrokeWidth;let ke=D;a?(_=S,D==="inner"&&(x===N-1?ke=this.options.reverse?"left":"right":x===0?ke=this.options.reverse?"right":"left":ke="center"),s==="top"?d==="near"||b!==0?L=-I*P+P/2:d==="center"?L=-W.highest.height/2-j*P+P:L=-W.highest.height+P/2:d==="near"||b!==0?L=P/2:d==="center"?L=W.highest.height/2-j*P:L=W.highest.height-I*P,u&&(L*=-1),b!==0&&!T.showLabelBackdrop&&(_+=P/2*Math.sin(b))):(C=S,L=(1-I)*P/2);let Oe;if(T.showLabelBackdrop){const Ee=Ne(T.backdropPadding),R=W.heights[x],We=W.widths[x];let bt=L-Ee.top,it=0-Ee.left;switch(U){case"middle":bt-=R/2;break;case"bottom":bt-=R;break}switch(D){case"center":it-=We/2;break;case"right":it-=We;break;case"inner":x===N-1?it-=We:x>0&&(it-=We/2);break}Oe={left:it,top:bt,width:We+Ee.width,height:R+Ee.height,color:T.backdropColor}}y.push({label:k,font:M,textOffset:L,options:{rotation:b,color:F,strokeColor:J,strokeWidth:de,textAlign:ke,textBaseline:U,translation:[_,C],backdrop:Oe}})}return y}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Pt(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,a=this._getLabelSizes(),o=e+r,c=a.widest.width;let d,h;return n==="left"?s?(h=this.right+r,i==="near"?d="left":i==="center"?(d="center",h+=c/2):(d="right",h+=c)):(h=this.right-o,i==="near"?d="right":i==="center"?(d="center",h-=c/2):(d="left",h=this.left)):n==="right"?s?(h=this.left+r,i==="near"?d="right":i==="center"?(d="center",h-=c/2):(d="left",h-=c)):(h=this.left+o,i==="near"?d="left":i==="center"?(d="center",h+=c/2):(d="right",h=this.right)):d="right",{textAlign:d,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:s,width:r,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,s,r,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,a;const o=(c,d,h)=>{!h.width||!h.color||(i.save(),i.lineWidth=h.width,i.strokeStyle=h.color,i.setLineDash(h.borderDash||[]),i.lineDashOffset=h.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(n.display)for(r=0,a=s.length;r<a;++r){const c=s[r];n.drawOnChartArea&&o({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&o({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),a=i.display?r.width:0;if(!a)return;const o=s.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,h,u,m;this.isHorizontal()?(d=Bt(e,this.left,a)-a/2,h=Bt(e,this.right,o)+o/2,u=m=c):(u=Bt(e,this.top,a)-a/2,m=Bt(e,this.bottom,o)+o/2,d=h=c),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(d,u),n.lineTo(h,m),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&da(i,s);const r=this.getLabelItems(e);for(const a of r){const o=a.options,c=a.font,d=a.label,h=a.textOffset;tn(i,d,0,h,c,o)}s&&ha(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=ge(i.font),a=Ne(i.padding),o=i.align;let c=r.lineHeight/2;n==="bottom"||n==="center"||Y(n)?(c+=a.bottom,se(i.text)&&(c+=r.lineHeight*(i.text.length-1))):c+=a.top;const{titleX:d,titleY:h,maxWidth:u,rotation:m}=$b(this,c,n,o);tn(e,i.text,0,0,r,{color:i.color,maxWidth:u,rotation:m,textAlign:Hb(o,n,s),textBaseline:"middle",translation:[d,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=H(e.grid&&e.grid.z,-1),s=H(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==rn.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,a;for(r=0,a=n.length;r<a;++r){const o=n[r];o[i]===this.id&&(!e||o.type===e)&&s.push(o)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return ge(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class zi{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;Gb(n)&&(i=this.register(n));const s=this.items,r=e.id,a=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in s||(s[r]=e,Ub(e,a,i),this.override&&le.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,s=this.scope;i in n&&delete n[i],s&&i in le[s]&&(delete le[s][i],this.override&&delete en[i])}}function Ub(t,e,n){const i=oi(Object.create(null),[n?le.get(n):{},le.get(e),t.defaults]);le.set(e,i),t.defaultRoutes&&Yb(e,t.defaultRoutes),t.descriptors&&le.describe(e,t.descriptors)}function Yb(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),s=i.pop(),r=[t].concat(i).join("."),a=e[n].split("."),o=a.pop(),c=a.join(".");le.route(r,s,c,o)})}function Gb(t){return"id"in t&&"defaults"in t}class qb{constructor(){this.controllers=new zi(ti,"datasets",!0),this.elements=new zi(Ot,"elements"),this.plugins=new zi(Object,"plugins"),this.scales=new zi(rn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(e,r,s):X(s,a=>{const o=i||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,n,i){const s=sa(e);ee(i["before"+s],[],i),n[e](i),ee(i["after"+s],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var Ze=new qb;class Kb{constructor(){this._init=[]}notify(e,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=s?this._descriptors(e).filter(s):this._descriptors(e),a=this._notify(r,e,n,i);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,n,i,s){s=s||{};for(const r of e){const a=r.plugin,o=a[i],c=[n,s,r.options];if(ee(o,c,a)===!1&&s.cancelable)return!1}return!0}invalidate(){q(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,s=H(i.options&&i.options.plugins,{}),r=Xb(i);return s===!1&&!n?[]:Jb(e,r,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,s=(r,a)=>r.filter(o=>!a.some(c=>o.plugin.id===c.plugin.id));this._notify(s(n,i),e,"stop"),this._notify(s(i,n),e,"start")}}function Xb(t){const e={},n=[],i=Object.keys(Ze.plugins.items);for(let r=0;r<i.length;r++)n.push(Ze.getPlugin(i[r]));const s=t.plugins||[];for(let r=0;r<s.length;r++){const a=s[r];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function Zb(t,e){return!e&&t===!1?null:t===!0?{}:t}function Jb(t,{plugins:e,localIds:n},i,s){const r=[],a=t.getContext();for(const o of e){const c=o.id,d=Zb(i[c],s);d!==null&&r.push({plugin:o,options:Qb(t.config,{plugin:o,local:n[c]},d,a)})}return r}function Qb(t,{plugin:e,local:n},i,s){const r=t.pluginScopeKeys(e),a=t.getOptionScopes(i,r);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function wr(t,e){const n=le.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function ex(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function tx(t,e){return t===e?"_index_":"_value_"}function tl(t){if(t==="x"||t==="y"||t==="r")return t}function nx(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Nr(t,...e){if(tl(t))return t;for(const n of e){const i=n.axis||nx(n.position)||t.length>1&&tl(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function nl(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function ix(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return nl(t,"x",n[0])||nl(t,"y",n[0])}return{}}function sx(t,e){const n=en[t.type]||{scales:{}},i=e.scales||{},s=wr(t.type,e),r=Object.create(null);return Object.keys(i).forEach(a=>{const o=i[a];if(!Y(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=Nr(a,o,ix(a,t),le.scales[o.type]),d=tx(c,s),h=n.scales||{};r[a]=Zn(Object.create(null),[{axis:c},o,h[c],h[d]])}),t.data.datasets.forEach(a=>{const o=a.type||t.type,c=a.indexAxis||wr(o,e),h=(en[o]||{}).scales||{};Object.keys(h).forEach(u=>{const m=ex(u,c),g=a[m+"AxisID"]||m;r[g]=r[g]||Object.create(null),Zn(r[g],[{axis:m},i[g],h[u]])})}),Object.keys(r).forEach(a=>{const o=r[a];Zn(o,[le.scales[o.type],le.scale])}),r}function oh(t){const e=t.options||(t.options={});e.plugins=H(e.plugins,{}),e.scales=sx(t,e)}function lh(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function rx(t){return t=t||{},t.data=lh(t.data),oh(t),t}const il=new Map,ch=new Set;function Wi(t,e){let n=il.get(t);return n||(n=e(),il.set(t,n),ch.add(n)),n}const Rn=(t,e,n)=>{const i=yn(e,n);i!==void 0&&t.add(i)};class ax{constructor(e){this._config=rx(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=lh(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),oh(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Wi(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Wi(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Wi(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return Wi(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let s=i.get(e);return(!s||n)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,n,i){const{options:s,type:r}=this,a=this._cachedScopes(e,i),o=a.get(n);if(o)return o;const c=new Set;n.forEach(h=>{e&&(c.add(e),h.forEach(u=>Rn(c,e,u))),h.forEach(u=>Rn(c,s,u)),h.forEach(u=>Rn(c,en[r]||{},u)),h.forEach(u=>Rn(c,le,u)),h.forEach(u=>Rn(c,yr,u))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),ch.has(n)&&a.set(n,d),d}chartOptionScopes(){const{options:e,type:n}=this;return[e,en[n]||{},le.datasets[n]||{},{type:n},le,yr]}resolveNamedOptions(e,n,i,s=[""]){const r={$shared:!0},{resolver:a,subPrefixes:o}=sl(this._resolverCache,e,s);let c=a;if(lx(a,n)){r.$shared=!1,i=At(i)?i():i;const d=this.createResolver(e,i,o);c=vn(a,i,d)}for(const d of n)r[d]=c[d];return r}createResolver(e,n,i=[""],s){const{resolver:r}=sl(this._resolverCache,e,i);return Y(n)?vn(r,n,void 0,s):r}}function sl(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const s=n.join();let r=i.get(s);return r||(r={resolver:ua(e,n),subPrefixes:n.filter(o=>!o.toLowerCase().includes("hover"))},i.set(s,r)),r}const ox=t=>Y(t)&&Object.getOwnPropertyNames(t).some(e=>At(t[e]));function lx(t,e){const{isScriptable:n,isIndexable:i}=Ud(t);for(const s of e){const r=n(s),a=i(s),o=(a||r)&&t[s];if(r&&(At(o)||ox(o))||a&&se(o))return!0}return!1}var cx="4.5.0";const dx=["top","bottom","left","right","chartArea"];function rl(t,e){return t==="top"||t==="bottom"||dx.indexOf(t)===-1&&e==="x"}function al(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function ol(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),ee(n&&n.onComplete,[t],e)}function hx(t){const e=t.chart,n=e.options.animation;ee(n&&n.onProgress,[t],e)}function dh(t){return ga()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const es={},ll=t=>{const e=dh(t);return Object.values(es).filter(n=>n.canvas===e).pop()};function ux(t,e,n){const i=Object.keys(t);for(const s of i){const r=+s;if(r>=e){const a=t[s];delete t[s],(n>0||r>e)&&(t[r+n]=a)}}}function fx(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}var vt;let As=(vt=class{static register(...e){Ze.add(...e),cl()}static unregister(...e){Ze.remove(...e),cl()}constructor(e,n){const i=this.config=new ax(n),s=dh(e),r=ll(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||Db(s)),this.platform.updateConfig(i);const o=this.platform.acquireContext(s,a.aspectRatio),c=o&&o.canvas,d=c&&c.height,h=c&&c.width;if(this.id=up(),this.ctx=o,this.canvas=c,this.width=h,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Kb,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Ap(u=>this.update(u),a.resizeDelay||0),this._dataChanges=[],es[this.id]=this,!o||!c){console.error("Failed to create chart: can't acquire context from the given item");return}at.listen(this,"complete",ol),at.listen(this,"progress",hx),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return q(e)?n&&r?r:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ze}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Do(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Mo(this.canvas,this.ctx),this}stop(){return at.stop(this),this}resize(e,n){at.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,n,r),o=i.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Do(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),ee(i.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};X(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,s=Object.keys(i).reduce((a,o)=>(a[o]=!1,a),{});let r=[];n&&(r=r.concat(Object.keys(n).map(a=>{const o=n[a],c=Nr(a,o),d=c==="r",h=c==="x";return{options:o,dposition:d?"chartArea":h?"bottom":"left",dtype:d?"radialLinear":h?"category":"linear"}}))),X(r,a=>{const o=a.options,c=o.id,d=Nr(c,o),h=H(o.type,a.dtype);(o.position===void 0||rl(o.position,d)!==rl(a.dposition))&&(o.position=a.dposition),s[c]=!0;let u=null;if(c in i&&i[c].type===h)u=i[c];else{const m=Ze.getScale(h);u=new m({id:c,type:h,ctx:this.ctx,chart:this}),i[u.id]=u}u.init(o,e)}),X(s,(a,o)=>{a||delete i[o]}),X(i,a=>{Ve.configure(this,a,a.options),Ve.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(al("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let a=this.getDatasetMeta(i);const o=r.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=o,a.indexAxis=r.indexAxis||wr(o,this.options),a.order=r.order||0,a.index=i,a.label=""+r.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const c=Ze.getController(o),{datasetElementType:d,dataElementType:h}=le.datasets[o];Object.assign(c,{dataElementType:Ze.getElement(h),datasetElementType:d&&Ze.getElement(d)}),a.controller=new c(this,i),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){X(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,h=this.data.datasets.length;d<h;d++){const{controller:u}=this.getDatasetMeta(d),m=!s&&r.indexOf(u)===-1;u.buildOrUpdateElements(m),a=Math.max(+u.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),s||X(r,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(al("z","_idx"));const{_active:o,_lastEvent:c}=this;c?this._eventHandler(c,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){X(this.scales,e=>{Ve.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!yo(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const a=i==="_removeElements"?-r:r;ux(e,s,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(e.filter(a=>a[0]===r).map((a,o)=>o+","+a.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!yo(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ve.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],X(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,At(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(at.has(this)?this.attached&&!at.running(this)&&at.start(this):(this.draw(),ol({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const a=n[s];(!e||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},s=I0(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&da(n,s),e.controller.draw(),s&&ha(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return ft(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,s){const r=db.modes[n];return typeof r=="function"?r(this,e,i,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=It(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(e),a=r.controller._resolveAnimations(void 0,s);li(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),a.update(r,{visible:i}),this.update(o=>o.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),at.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Mo(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete es[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(r,a)=>{n.addEventListener(this,r,a),e[r]=a},s=(r,a,o)=>{r.offsetX=a,r.offsetY=o,this._eventHandler(r)};X(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(c,d)=>{n.addEventListener(this,c,d),e[c]=d},s=(c,d)=>{e[c]&&(n.removeEventListener(this,c,d),delete e[c])},r=(c,d)=>{this.canvas&&this.resize(c,d)};let a;const o=()=>{s("attach",o),this.attached=!0,this.resize(),i("resize",r),i("detach",a)};a=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",o)},n.isAttached(this.canvas)?o():a()}unbindEvents(){X(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},X(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const s=i?"set":"remove";let r,a,o,c;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),o=0,c=e.length;o<c;++o){a=e[o];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:r,index:a})=>{const o=this.getDatasetMeta(r);if(!o)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:o.data[a],index:a}});!ls(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const s=this.options.hover,r=(c,d)=>c.filter(h=>!d.some(u=>h.datasetIndex===u.datasetIndex&&h.index===u.index)),a=r(n,e),o=i?e:r(e,n);a.length&&this.updateHoverStyle(a,s.mode,!1),o.length&&s.mode&&this.updateHoverStyle(o,s.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:s=[],options:r}=this,a=n,o=this._getActiveElements(e,s,i,a),c=xp(e),d=fx(e,this._lastEvent,i,c);i&&(this._lastEvent=null,ee(r.onHover,[e,o,this],this),c&&ee(r.onClick,[e,o,this],this));const h=!ls(o,s);return(h||n)&&(this._active=o,this._updateHoverStyles(o,s,n)),this._lastEvent=d,h}_getActiveElements(e,n,i,s){if(e.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,s)}},B(vt,"defaults",le),B(vt,"instances",es),B(vt,"overrides",en),B(vt,"registry",Ze),B(vt,"version",cx),B(vt,"getChart",ll),vt);function cl(){return X(As.instances,t=>t._plugins.invalidate())}function hh(t,e,n=e){t.lineCap=H(n.borderCapStyle,e.borderCapStyle),t.setLineDash(H(n.borderDash,e.borderDash)),t.lineDashOffset=H(n.borderDashOffset,e.borderDashOffset),t.lineJoin=H(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=H(n.borderWidth,e.borderWidth),t.strokeStyle=H(n.borderColor,e.borderColor)}function mx(t,e,n){t.lineTo(n.x,n.y)}function gx(t){return t.stepped?Wp:t.tension||t.cubicInterpolationMode==="monotone"?Hp:mx}function uh(t,e,n={}){const i=t.length,{start:s=0,end:r=i-1}=n,{start:a,end:o}=e,c=Math.max(s,a),d=Math.min(r,o),h=s<a&&r<a||s>o&&r>o;return{count:i,start:c,loop:e.loop,ilen:d<c&&!h?i+d-c:d-c}}function px(t,e,n,i){const{points:s,options:r}=e,{count:a,start:o,loop:c,ilen:d}=uh(s,n,i),h=gx(r);let{move:u=!0,reverse:m}=i||{},g,p,b;for(g=0;g<=d;++g)p=s[(o+(m?d-g:g))%a],!p.skip&&(u?(t.moveTo(p.x,p.y),u=!1):h(t,b,p,m,r.stepped),b=p);return c&&(p=s[(o+(m?d:0))%a],h(t,b,p,m,r.stepped)),!!c}function bx(t,e,n,i){const s=e.points,{count:r,start:a,ilen:o}=uh(s,n,i),{move:c=!0,reverse:d}=i||{};let h=0,u=0,m,g,p,b,y,x;const N=k=>(a+(d?o-k:k))%r,w=()=>{b!==y&&(t.lineTo(h,y),t.lineTo(h,b),t.lineTo(h,x))};for(c&&(g=s[N(0)],t.moveTo(g.x,g.y)),m=0;m<=o;++m){if(g=s[N(m)],g.skip)continue;const k=g.x,_=g.y,C=k|0;C===p?(_<b?b=_:_>y&&(y=_),h=(u*h+k)/++u):(w(),t.lineTo(k,_),p=C,u=0,b=y=_),x=_}w()}function kr(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?bx:px}function xx(t){return t.stepped?w0:t.tension||t.cubicInterpolationMode==="monotone"?N0:Ht}function yx(t,e,n,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,i)&&s.closePath()),hh(t,e.options),t.stroke(s)}function vx(t,e,n,i){const{segments:s,options:r}=e,a=kr(e);for(const o of s)hh(t,r,o.style),t.beginPath(),a(t,e,o,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const wx=typeof Path2D=="function";function Nx(t,e,n,i){wx&&!e.options.segment?yx(t,e,n,i):vx(t,e,n,i)}class $n extends Ot{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;f0(this._points,i,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=A0(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,s=e[n],r=this.points,a=P0(this,{property:n,start:s,end:s});if(!a.length)return;const o=[],c=xx(i);let d,h;for(d=0,h=a.length;d<h;++d){const{start:u,end:m}=a[d],g=r[u],p=r[m];if(g===p){o.push(g);continue}const b=Math.abs((s-g[n])/(p[n]-g[n])),y=c(g,p,b,i.stepped);y[n]=e[n],o.push(y)}return o.length===1?o[0]:o}pathSegment(e,n,i){return kr(this)(e,this,n,i)}path(e,n,i){const s=this.segments,r=kr(this);let a=this._loop;n=n||0,i=i||this.points.length-n;for(const o of s)a&=r(e,this,o,{start:n,end:n+i-1});return!!a}draw(e,n,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),Nx(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}B($n,"id","line"),B($n,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),B($n,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),B($n,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function dl(t,e,n,i){const s=t.options,{[n]:r}=t.getProps([n],i);return Math.abs(e-r)<s.radius+s.hitRadius}class ts extends Ot{constructor(n){super();B(this,"parsed");B(this,"skip");B(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.options,{x:a,y:o}=this.getProps(["x","y"],s);return Math.pow(n-a,2)+Math.pow(i-o,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(n,i){return dl(this,n,"x",i)}inYRange(n,i){return dl(this,n,"y",i)}getCenterPoint(n){const{x:i,y:s}=this.getProps(["x","y"],n);return{x:i,y:s}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const s=i&&n.borderWidth||0;return(i+s)*2}draw(n,i){const s=this.options;this.skip||s.radius<.1||!ft(this,i,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,vr(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}B(ts,"id","point"),B(ts,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),B(ts,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function fh(t,e){const{x:n,y:i,base:s,width:r,height:a}=t.getProps(["x","y","base","width","height"],e);let o,c,d,h,u;return t.horizontal?(u=a/2,o=Math.min(n,s),c=Math.max(n,s),d=i-u,h=i+u):(u=r/2,o=n-u,c=n+u,d=Math.min(i,s),h=Math.max(i,s)),{left:o,top:d,right:c,bottom:h}}function Mt(t,e,n,i){return t?0:Ge(e,n,i)}function kx(t,e,n){const i=t.options.borderWidth,s=t.borderSkipped,r=$d(i);return{t:Mt(s.top,r.top,0,n),r:Mt(s.right,r.right,0,e),b:Mt(s.bottom,r.bottom,0,n),l:Mt(s.left,r.left,0,e)}}function _x(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,r=Xt(s),a=Math.min(e,n),o=t.borderSkipped,c=i||Y(s);return{topLeft:Mt(!c||o.top||o.left,r.topLeft,0,a),topRight:Mt(!c||o.top||o.right,r.topRight,0,a),bottomLeft:Mt(!c||o.bottom||o.left,r.bottomLeft,0,a),bottomRight:Mt(!c||o.bottom||o.right,r.bottomRight,0,a)}}function Sx(t){const e=fh(t),n=e.right-e.left,i=e.bottom-e.top,s=kx(t,n/2,i/2),r=_x(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:r},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function Gs(t,e,n,i){const s=e===null,r=n===null,o=t&&!(s&&r)&&fh(t,i);return o&&(s||Gt(e,o.left,o.right))&&(r||Gt(n,o.top,o.bottom))}function Cx(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Px(t,e){t.rect(e.x,e.y,e.w,e.h)}function qs(t,e,n={}){const i=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-i,a=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+i,y:t.y+s,w:t.w+r,h:t.h+a,radius:t.radius}}class ns extends Ot{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:a}=Sx(this),o=Cx(a.radius)?ci:Px;e.save(),(a.w!==r.w||a.h!==r.h)&&(e.beginPath(),o(e,qs(a,n,r)),e.clip(),o(e,qs(r,-n,a)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),o(e,qs(r,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,i){return Gs(this,e,n,i)}inXRange(e,n){return Gs(this,e,null,n)}inYRange(e,n){return Gs(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+s)/2:n,y:r?i:(i+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}B(ns,"id","bar"),B(ns,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),B(ns,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const hl=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},Mx=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class ul extends Ot{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=ee(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=ge(i.font),r=s.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:c}=hl(i,r);let d,h;n.font=s.string,this.isHorizontal()?(d=this.maxWidth,h=this._fitRows(a,r,o,c)+10):(h=this.maxHeight,d=this._fitCols(a,s,o,c)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,s){const{ctx:r,maxWidth:a,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],h=s+o;let u=e;r.textAlign="left",r.textBaseline="middle";let m=-1,g=-h;return this.legendItems.forEach((p,b)=>{const y=i+n/2+r.measureText(p.text).width;(b===0||d[d.length-1]+y+2*o>a)&&(u+=h,d[d.length-(b>0?0:1)]=0,g+=h,m++),c[b]={left:0,top:g,row:m,width:y,height:s},d[d.length-1]+=y+o}),u}_fitCols(e,n,i,s){const{ctx:r,maxHeight:a,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],h=a-e;let u=o,m=0,g=0,p=0,b=0;return this.legendItems.forEach((y,x)=>{const{itemWidth:N,itemHeight:w}=Tx(i,n,r,y,s);x>0&&g+w+2*o>h&&(u+=m+o,d.push({width:m,height:g}),p+=m+o,b++,m=g=0),c[x]={left:p,top:g,col:b,width:N,height:w},m=Math.max(m,N),g+=w+o}),u+=m,d.push({width:m,height:g}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,a=xn(r,this.left,this.width);if(this.isHorizontal()){let o=0,c=ve(i,this.left+s,this.right-this.lineWidths[o]);for(const d of n)o!==d.row&&(o=d.row,c=ve(i,this.left+s,this.right-this.lineWidths[o])),d.top+=this.top+e+s,d.left=a.leftForLtr(a.x(c),d.width),c+=d.width+s}else{let o=0,c=ve(i,this.top+e+s,this.bottom-this.columnSizes[o].height);for(const d of n)d.col!==o&&(o=d.col,c=ve(i,this.top+e+s,this.bottom-this.columnSizes[o].height)),d.top=c,d.left+=this.left+s,d.left=a.leftForLtr(a.x(d.left),d.width),c+=d.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;da(e,this),this._draw(),ha(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:a}=e,o=le.color,c=xn(e.rtl,this.left,this.width),d=ge(a.font),{padding:h}=a,u=d.size,m=u/2;let g;this.drawTitle(),s.textAlign=c.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=d.string;const{boxWidth:p,boxHeight:b,itemHeight:y}=hl(a,u),x=function(C,D,S){if(isNaN(p)||p<=0||isNaN(b)||b<0)return;s.save();const M=H(S.lineWidth,1);if(s.fillStyle=H(S.fillStyle,o),s.lineCap=H(S.lineCap,"butt"),s.lineDashOffset=H(S.lineDashOffset,0),s.lineJoin=H(S.lineJoin,"miter"),s.lineWidth=M,s.strokeStyle=H(S.strokeStyle,o),s.setLineDash(H(S.lineDash,[])),a.usePointStyle){const P={radius:b*Math.SQRT2/2,pointStyle:S.pointStyle,rotation:S.rotation,borderWidth:M},I=c.xPlus(C,p/2),L=D+m;Wd(s,P,I,L,a.pointStyleWidth&&p)}else{const P=D+Math.max((u-b)/2,0),I=c.leftForLtr(C,p),L=Xt(S.borderRadius);s.beginPath(),Object.values(L).some(U=>U!==0)?ci(s,{x:I,y:P,w:p,h:b,radius:L}):s.rect(I,P,p,b),s.fill(),M!==0&&s.stroke()}s.restore()},N=function(C,D,S){tn(s,S.text,C,D+y/2,d,{strikethrough:S.hidden,textAlign:c.textAlign(S.textAlign)})},w=this.isHorizontal(),k=this._computeTitleHeight();w?g={x:ve(r,this.left+h,this.right-i[0]),y:this.top+h+k,line:0}:g={x:this.left+h,y:ve(r,this.top+k+h,this.bottom-n[0].height),line:0},Xd(this.ctx,e.textDirection);const _=y+h;this.legendItems.forEach((C,D)=>{s.strokeStyle=C.fontColor,s.fillStyle=C.fontColor;const S=s.measureText(C.text).width,M=c.textAlign(C.textAlign||(C.textAlign=a.textAlign)),P=p+m+S;let I=g.x,L=g.y;c.setWidth(this.width),w?D>0&&I+P+h>this.right&&(L=g.y+=_,g.line++,I=g.x=ve(r,this.left+h,this.right-i[g.line])):D>0&&L+_>this.bottom&&(I=g.x=I+n[g.line].width+h,g.line++,L=g.y=ve(r,this.top+k+h,this.bottom-n[g.line].height));const U=c.x(I);if(x(U,L,C),I=Dp(M,I+p+m,w?I+P:this.right,e.rtl),N(c.x(I),L,C),w)g.x+=P+h;else if(typeof C.text!="string"){const W=d.lineHeight;g.y+=mh(C,W)+h}else g.y+=_}),Zd(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=ge(n.font),s=Ne(n.padding);if(!n.display)return;const r=xn(e.rtl,this.left,this.width),a=this.ctx,o=n.position,c=i.size/2,d=s.top+c;let h,u=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),h=this.top+d,u=ve(e.align,u,this.right-m);else{const p=this.columnSizes.reduce((b,y)=>Math.max(b,y.height),0);h=d+ve(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const g=ve(o,u,u+m);a.textAlign=r.textAlign(oa(o)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=i.string,tn(a,n.text,g,h,i)}_computeTitleHeight(){const e=this.options.title,n=ge(e.font),i=Ne(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,s,r;if(Gt(e,this.left,this.right)&&Gt(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],Gt(e,s.left,s.left+s.width)&&Gt(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!Ex(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,r=Mx(s,i);s&&!r&&ee(n.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!r&&ee(n.onHover,[e,i,this],this)}else i&&ee(n.onClick,[e,i,this],this)}}function Tx(t,e,n,i,s){const r=Ax(i,t,e,n),a=Dx(s,i,e.lineHeight);return{itemWidth:r,itemHeight:a}}function Ax(t,e,n,i){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((r,a)=>r.length>a.length?r:a)),e+n.size/2+i.measureText(s).width}function Dx(t,e,n){let i=t;return typeof e.text!="string"&&(i=mh(e,n)),i}function mh(t,e){const n=t.text?t.text.length:0;return e*n}function Ex(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Lx={id:"legend",_element:ul,start(t,e,n){const i=t.legend=new ul({ctx:t.ctx,options:n,chart:t});Ve.configure(t,i,n),Ve.addBox(t,i)},stop(t){Ve.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;Ve.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:a,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(n?0:void 0),h=Ne(d.borderWidth);return{text:e[c.index].label,fillStyle:d.backgroundColor,fontColor:r,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:s||d.textAlign,borderRadius:a&&(o||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class gh extends Ot{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=se(i.text)?i.text.length:1;this._padding=Ne(i.padding);const r=s*ge(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:s,right:r,options:a}=this,o=a.align;let c=0,d,h,u;return this.isHorizontal()?(h=ve(o,i,r),u=n+e,d=r-i):(a.position==="left"?(h=i+e,u=ve(o,s,n),c=ue*-.5):(h=r-e,u=ve(o,n,s),c=ue*.5),d=s-n),{titleX:h,titleY:u,maxWidth:d,rotation:c}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=ge(n.font),r=i.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:c,rotation:d}=this._drawArgs(r);tn(e,n.text,0,0,i,{color:n.color,maxWidth:c,rotation:d,textAlign:oa(n.align),textBaseline:"middle",translation:[a,o]})}}function Ix(t,e){const n=new gh({ctx:t.ctx,options:e,chart:t});Ve.configure(t,n,e),Ve.addBox(t,n),t.titleBlock=n}var Ox={id:"title",_element:gh,start(t,e,n){Ix(t,n)},stop(t){const e=t.titleBlock;Ve.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;Ve.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Un={average(t){if(!t.length)return!1;let e,n,i=new Set,s=0,r=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const c=o.tooltipPosition();i.add(c.x),s+=c.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((o,c)=>o+c)/i.size,y:s/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,s=Number.POSITIVE_INFINITY,r,a,o;for(r=0,a=t.length;r<a;++r){const c=t[r].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),h=br(e,d);h<s&&(s=h,o=c)}}if(o){const c=o.tooltipPosition();n=c.x,i=c.y}return{x:n,y:i}}};function Xe(t,e){return e&&(se(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function ot(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Rx(t,e){const{element:n,datasetIndex:i,index:s}=e,r=t.getDatasetMeta(i).controller,{label:a,value:o}=r.getLabelAndValue(s);return{chart:t,label:a,parsed:r.getParsed(s),raw:t.data.datasets[i].data[s],formattedValue:o,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function fl(t,e){const n=t.chart.ctx,{body:i,footer:s,title:r}=t,{boxWidth:a,boxHeight:o}=e,c=ge(e.bodyFont),d=ge(e.titleFont),h=ge(e.footerFont),u=r.length,m=s.length,g=i.length,p=Ne(e.padding);let b=p.height,y=0,x=i.reduce((k,_)=>k+_.before.length+_.lines.length+_.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,u&&(b+=u*d.lineHeight+(u-1)*e.titleSpacing+e.titleMarginBottom),x){const k=e.displayColors?Math.max(o,c.lineHeight):c.lineHeight;b+=g*k+(x-g)*c.lineHeight+(x-1)*e.bodySpacing}m&&(b+=e.footerMarginTop+m*h.lineHeight+(m-1)*e.footerSpacing);let N=0;const w=function(k){y=Math.max(y,n.measureText(k).width+N)};return n.save(),n.font=d.string,X(t.title,w),n.font=c.string,X(t.beforeBody.concat(t.afterBody),w),N=e.displayColors?a+2+e.boxPadding:0,X(i,k=>{X(k.before,w),X(k.lines,w),X(k.after,w)}),N=0,n.font=h.string,X(t.footer,w),n.restore(),y+=p.width,{width:y,height:b}}function Fx(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function Bx(t,e,n,i){const{x:s,width:r}=i,a=n.caretSize+n.caretPadding;if(t==="left"&&s+r+a>e.width||t==="right"&&s-r-a<0)return!0}function Vx(t,e,n,i){const{x:s,width:r}=n,{width:a,chartArea:{left:o,right:c}}=t;let d="center";return i==="center"?d=s<=(o+c)/2?"left":"right":s<=r/2?d="left":s>=a-r/2&&(d="right"),Bx(d,t,e,n)&&(d="center"),d}function ml(t,e,n){const i=n.yAlign||e.yAlign||Fx(t,n);return{xAlign:n.xAlign||e.xAlign||Vx(t,e,n,i),yAlign:i}}function jx(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function zx(t,e,n){let{y:i,height:s}=t;return e==="top"?i+=n:e==="bottom"?i-=s+n:i-=s/2,i}function gl(t,e,n,i){const{caretSize:s,caretPadding:r,cornerRadius:a}=t,{xAlign:o,yAlign:c}=n,d=s+r,{topLeft:h,topRight:u,bottomLeft:m,bottomRight:g}=Xt(a);let p=jx(e,o);const b=zx(e,c,d);return c==="center"?o==="left"?p+=d:o==="right"&&(p-=d):o==="left"?p-=Math.max(h,m)+s:o==="right"&&(p+=Math.max(u,g)+s),{x:Ge(p,0,i.width-e.width),y:Ge(b,0,i.height-e.height)}}function Hi(t,e,n){const i=Ne(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function pl(t){return Xe([],ot(t))}function Wx(t,e,n){return It(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function bl(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const ph={beforeTitle:rt,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:rt,beforeBody:rt,beforeLabel:rt,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return q(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:rt,afterBody:rt,beforeFooter:rt,footer:rt,afterFooter:rt};function Te(t,e,n,i){const s=t[e].call(n,i);return typeof s>"u"?ph[e].call(n,i):s}class _r extends Ot{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new Qd(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=Wx(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,s=Te(i,"beforeTitle",this,e),r=Te(i,"title",this,e),a=Te(i,"afterTitle",this,e);let o=[];return o=Xe(o,ot(s)),o=Xe(o,ot(r)),o=Xe(o,ot(a)),o}getBeforeBody(e,n){return pl(Te(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,s=[];return X(e,r=>{const a={before:[],lines:[],after:[]},o=bl(i,r);Xe(a.before,ot(Te(o,"beforeLabel",this,r))),Xe(a.lines,Te(o,"label",this,r)),Xe(a.after,ot(Te(o,"afterLabel",this,r))),s.push(a)}),s}getAfterBody(e,n){return pl(Te(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,s=Te(i,"beforeFooter",this,e),r=Te(i,"footer",this,e),a=Te(i,"afterFooter",this,e);let o=[];return o=Xe(o,ot(s)),o=Xe(o,ot(r)),o=Xe(o,ot(a)),o}_createItems(e){const n=this._active,i=this.chart.data,s=[],r=[],a=[];let o=[],c,d;for(c=0,d=n.length;c<d;++c)o.push(Rx(this.chart,n[c]));return e.filter&&(o=o.filter((h,u,m)=>e.filter(h,u,m,i))),e.itemSort&&(o=o.sort((h,u)=>e.itemSort(h,u,i))),X(o,h=>{const u=bl(e.callbacks,h);s.push(Te(u,"labelColor",this,h)),r.push(Te(u,"labelPointStyle",this,h)),a.push(Te(u,"labelTextColor",this,h))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=a,this.dataPoints=o,o}update(e,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,a=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const o=Un[i.position].call(this,s,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const c=this._size=fl(this,i),d=Object.assign({},o,c),h=ml(this.chart,i,d),u=gl(i,d,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,r={opacity:1,x:u.x,y:u.y,width:c.width,height:c.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,s){const r=this.getCaretPosition(e,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:a,cornerRadius:o}=i,{topLeft:c,topRight:d,bottomLeft:h,bottomRight:u}=Xt(o),{x:m,y:g}=e,{width:p,height:b}=n;let y,x,N,w,k,_;return r==="center"?(k=g+b/2,s==="left"?(y=m,x=y-a,w=k+a,_=k-a):(y=m+p,x=y+a,w=k-a,_=k+a),N=y):(s==="left"?x=m+Math.max(c,h)+a:s==="right"?x=m+p-Math.max(d,u)-a:x=this.caretX,r==="top"?(w=g,k=w-a,y=x-a,N=x+a):(w=g+b,k=w+a,y=x+a,N=x-a),_=w),{x1:y,x2:x,x3:N,y1:w,y2:k,y3:_}}drawTitle(e,n,i){const s=this.title,r=s.length;let a,o,c;if(r){const d=xn(i.rtl,this.x,this.width);for(e.x=Hi(this,i.titleAlign,i),n.textAlign=d.textAlign(i.titleAlign),n.textBaseline="middle",a=ge(i.titleFont),o=i.titleSpacing,n.fillStyle=i.titleColor,n.font=a.string,c=0;c<r;++c)n.fillText(s[c],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,c+1===r&&(e.y+=i.titleMarginBottom-o)}}_drawColorBox(e,n,i,s,r){const a=this.labelColors[i],o=this.labelPointStyles[i],{boxHeight:c,boxWidth:d}=r,h=ge(r.bodyFont),u=Hi(this,"left",r),m=s.x(u),g=c<h.lineHeight?(h.lineHeight-c)/2:0,p=n.y+g;if(r.usePointStyle){const b={radius:Math.min(d,c)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},y=s.leftForLtr(m,d)+d/2,x=p+c/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,vr(e,b,y,x),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,vr(e,b,y,x)}else{e.lineWidth=Y(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const b=s.leftForLtr(m,d),y=s.leftForLtr(s.xPlus(m,1),d-2),x=Xt(a.borderRadius);Object.values(x).some(N=>N!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,ci(e,{x:b,y:p,w:d,h:c,radius:x}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),ci(e,{x:y,y:p+1,w:d-2,h:c-2,radius:x}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(b,p,d,c),e.strokeRect(b,p,d,c),e.fillStyle=a.backgroundColor,e.fillRect(y,p+1,d-2,c-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:a,displayColors:o,boxHeight:c,boxWidth:d,boxPadding:h}=i,u=ge(i.bodyFont);let m=u.lineHeight,g=0;const p=xn(i.rtl,this.x,this.width),b=function(S){n.fillText(S,p.x(e.x+g),e.y+m/2),e.y+=m+r},y=p.textAlign(a);let x,N,w,k,_,C,D;for(n.textAlign=a,n.textBaseline="middle",n.font=u.string,e.x=Hi(this,y,i),n.fillStyle=i.bodyColor,X(this.beforeBody,b),g=o&&y!=="right"?a==="center"?d/2+h:d+2+h:0,k=0,C=s.length;k<C;++k){for(x=s[k],N=this.labelTextColors[k],n.fillStyle=N,X(x.before,b),w=x.lines,o&&w.length&&(this._drawColorBox(n,e,k,p,i),m=Math.max(u.lineHeight,c)),_=0,D=w.length;_<D;++_)b(w[_]),m=u.lineHeight;X(x.after,b)}g=0,m=u.lineHeight,X(this.afterBody,b),e.y-=r}drawFooter(e,n,i){const s=this.footer,r=s.length;let a,o;if(r){const c=xn(i.rtl,this.x,this.width);for(e.x=Hi(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=c.textAlign(i.footerAlign),n.textBaseline="middle",a=ge(i.footerFont),n.fillStyle=i.footerColor,n.font=a.string,o=0;o<r;++o)n.fillText(s[o],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+i.footerSpacing}}drawBackground(e,n,i,s){const{xAlign:r,yAlign:a}=this,{x:o,y:c}=e,{width:d,height:h}=i,{topLeft:u,topRight:m,bottomLeft:g,bottomRight:p}=Xt(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(o+u,c),a==="top"&&this.drawCaret(e,n,i,s),n.lineTo(o+d-m,c),n.quadraticCurveTo(o+d,c,o+d,c+m),a==="center"&&r==="right"&&this.drawCaret(e,n,i,s),n.lineTo(o+d,c+h-p),n.quadraticCurveTo(o+d,c+h,o+d-p,c+h),a==="bottom"&&this.drawCaret(e,n,i,s),n.lineTo(o+g,c+h),n.quadraticCurveTo(o,c+h,o,c+h-g),a==="center"&&r==="left"&&this.drawCaret(e,n,i,s),n.lineTo(o,c+u),n.quadraticCurveTo(o,c,o+u,c),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const a=Un[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=fl(this,e),c=Object.assign({},a,this._size),d=ml(n,e,c),h=gl(e,c,d,n);(s._to!==h.x||r._to!==h.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=Ne(n.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&o&&(e.save(),e.globalAlpha=i,this.drawBackground(r,e,s,n),Xd(e,n.textDirection),r.y+=a.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),Zd(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,s=e.map(({datasetIndex:o,index:c})=>{const d=this.chart.getDatasetMeta(o);if(!d)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:d.data[c],index:c}}),r=!ls(i,s),a=this._positionChanged(s,n);(r||a)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],a=this._getActiveElements(e,r,n,i),o=this._positionChanged(a,e),c=n||!ls(a,r)||o;return c&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),c}_getActiveElements(e,n,i,s){const r=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,r.mode,r,i);return r.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:i,caretY:s,options:r}=this,a=Un[r.position].call(this,e,n);return a!==!1&&(i!==a.x||s!==a.y)}}B(_r,"positioners",Un);var Hx={id:"tooltip",_element:_r,positioners:Un,afterInit(t,e,n){n&&(t.tooltip=new _r({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ph},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const $x=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function Ux(t,e,n,i){const s=t.indexOf(e);if(s===-1)return $x(t,e,n,i);const r=t.lastIndexOf(e);return s!==r?n:s}const Yx=(t,e)=>t===null?null:Ge(Math.round(t),0,e);function xl(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Sr extends rn{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(q(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:Ux(i,e,H(n,e),this._addedLabels),Yx(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=e;a<=n;a++)s.push({value:a});return s}getLabelForValue(e){return xl.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}B(Sr,"id","category"),B(Sr,"defaults",{ticks:{callback:xl}});function Gx(t,e){const n=[],{bounds:s,step:r,min:a,max:o,precision:c,count:d,maxTicks:h,maxDigits:u,includeBounds:m}=t,g=r||1,p=h-1,{min:b,max:y}=e,x=!q(a),N=!q(o),w=!q(d),k=(y-b)/(u+1);let _=wo((y-b)/p/g)*g,C,D,S,M;if(_<1e-14&&!x&&!N)return[{value:b},{value:y}];M=Math.ceil(y/_)-Math.floor(b/_),M>p&&(_=wo(M*_/p/g)*g),q(c)||(C=Math.pow(10,c),_=Math.ceil(_*C)/C),s==="ticks"?(D=Math.floor(b/_)*_,S=Math.ceil(y/_)*_):(D=b,S=y),x&&N&&r&&kp((o-a)/r,_/1e3)?(M=Math.round(Math.min((o-a)/_,h)),_=(o-a)/M,D=a,S=o):w?(D=x?a:D,S=N?o:S,M=d-1,_=(S-D)/M):(M=(S-D)/_,Jn(M,Math.round(M),_/1e3)?M=Math.round(M):M=Math.ceil(M));const P=Math.max(No(_),No(D));C=Math.pow(10,q(c)?P:c),D=Math.round(D*C)/C,S=Math.round(S*C)/C;let I=0;for(x&&(m&&D!==a?(n.push({value:a}),D<a&&I++,Jn(Math.round((D+I*_)*C)/C,a,yl(a,k,t))&&I++):D<a&&I++);I<M;++I){const L=Math.round((D+I*_)*C)/C;if(N&&L>o)break;n.push({value:L})}return N&&m&&S!==o?n.length&&Jn(n[n.length-1].value,o,yl(o,k,t))?n[n.length-1].value=o:n.push({value:o}):(!N||S===o)&&n.push({value:S}),n}function yl(t,e,{horizontal:n,minRotation:i}){const s=Pt(i),r=(n?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+t).length;return Math.min(e/r,a)}class gs extends rn{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return q(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const a=c=>s=n?s:c,o=c=>r=i?r:c;if(e){const c=et(s),d=et(r);c<0&&d<0?o(0):c>0&&d>0&&a(0)}if(s===r){let c=r===0?1:Math.abs(r*.05);o(r+c),e||a(s-c)}this.min=s,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,a=Gx(s,r);return e.bounds==="ticks"&&Od(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-n)/Math.max(e.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return ca(e,this.chart.options.locale,this.options.ticks.format)}}class Cr extends gs{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=pe(e)?e:0,this.max=pe(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=Pt(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}B(Cr,"id","linear"),B(Cr,"defaults",{ticks:{callback:Ms.formatters.numeric}});const hi=t=>Math.floor(Ct(t)),jt=(t,e)=>Math.pow(10,hi(t)+e);function vl(t){return t/Math.pow(10,hi(t))===1}function wl(t,e,n){const i=Math.pow(10,n),s=Math.floor(t/i);return Math.ceil(e/i)-s}function qx(t,e){const n=e-t;let i=hi(n);for(;wl(t,e,i)>10;)i++;for(;wl(t,e,i)<10;)i--;return Math.min(i,hi(t))}function Kx(t,{min:e,max:n}){e=Le(t.min,e);const i=[],s=hi(e);let r=qx(e,n),a=r<0?Math.pow(10,Math.abs(r)):1;const o=Math.pow(10,r),c=s>r?Math.pow(10,s):0,d=Math.round((e-c)*a)/a,h=Math.floor((e-c)/o/10)*o*10;let u=Math.floor((d-h)/Math.pow(10,r)),m=Le(t.min,Math.round((c+h+u*Math.pow(10,r))*a)/a);for(;m<n;)i.push({value:m,major:vl(m),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(r++,u=2,a=r>=0?1:a),m=Math.round((c+h+u*Math.pow(10,r))*a)/a;const g=Le(t.max,m);return i.push({value:g,major:vl(g),significand:u}),i}class Nl extends rn{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const i=gs.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return pe(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=pe(e)?Math.max(0,e):null,this.max=pe(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!pe(this._userMin)&&(this.min=e===jt(this.min,0)?jt(this.min,-1):jt(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let i=this.min,s=this.max;const r=o=>i=e?i:o,a=o=>s=n?s:o;i===s&&(i<=0?(r(1),a(10)):(r(jt(i,-1)),a(jt(s,1)))),i<=0&&r(jt(s,-1)),s<=0&&a(jt(i,1)),this.min=i,this.max=s}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},i=Kx(n,this);return e.bounds==="ticks"&&Od(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":ca(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Ct(e),this._valueRange=Ct(this.max)-Ct(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Ct(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}B(Nl,"id","logarithmic"),B(Nl,"defaults",{ticks:{callback:Ms.formatters.logarithmic,major:{enabled:!0}}});function Pr(t){const e=t.ticks;if(e.display&&t.display){const n=Ne(e.backdropPadding);return H(e.font&&e.font.size,le.font.size)+n.height}return 0}function Xx(t,e,n){return n=se(n)?n:[n],{w:zp(t,e.string,n),h:n.length*e.lineHeight}}function kl(t,e,n,i,s){return t===i||t===s?{start:e-n/2,end:e+n/2}:t<i||t>s?{start:e-n,end:e}:{start:e,end:e+n}}function Zx(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],s=[],r=t._pointLabels.length,a=t.options.pointLabels,o=a.centerPointLabels?ue/r:0;for(let c=0;c<r;c++){const d=a.setContext(t.getPointLabelContext(c));s[c]=d.padding;const h=t.getPointPosition(c,t.drawingArea+s[c],o),u=ge(d.font),m=Xx(t.ctx,u,t._pointLabels[c]);i[c]=m;const g=Ye(t.getIndexAngle(c)+o),p=Math.round(ra(g)),b=kl(p,h.x,m.w,0,180),y=kl(p,h.y,m.h,90,270);Jx(n,e,g,b,y)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=ty(t,i,s)}function Jx(t,e,n,i,s){const r=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let o=0,c=0;i.start<e.l?(o=(e.l-i.start)/r,t.l=Math.min(t.l,e.l-o)):i.end>e.r&&(o=(i.end-e.r)/r,t.r=Math.max(t.r,e.r+o)),s.start<e.t?(c=(e.t-s.start)/a,t.t=Math.min(t.t,e.t-c)):s.end>e.b&&(c=(s.end-e.b)/a,t.b=Math.max(t.b,e.b+c))}function Qx(t,e,n){const i=t.drawingArea,{extra:s,additionalAngle:r,padding:a,size:o}=n,c=t.getPointPosition(e,i+s+a,r),d=Math.round(ra(Ye(c.angle+Ie))),h=sy(c.y,o.h,d),u=ny(d),m=iy(c.x,o.w,u);return{visible:!0,x:c.x,y:h,textAlign:u,left:m,top:h,right:m+o.w,bottom:h+o.h}}function ey(t,e){if(!e)return!0;const{left:n,top:i,right:s,bottom:r}=t;return!(ft({x:n,y:i},e)||ft({x:n,y:r},e)||ft({x:s,y:i},e)||ft({x:s,y:r},e))}function ty(t,e,n){const i=[],s=t._pointLabels.length,r=t.options,{centerPointLabels:a,display:o}=r.pointLabels,c={extra:Pr(r)/2,additionalAngle:a?ue/s:0};let d;for(let h=0;h<s;h++){c.padding=n[h],c.size=e[h];const u=Qx(t,h,c);i.push(u),o==="auto"&&(u.visible=ey(u,d),u.visible&&(d=u))}return i}function ny(t){return t===0||t===180?"center":t<180?"left":"right"}function iy(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function sy(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function ry(t,e,n){const{left:i,top:s,right:r,bottom:a}=n,{backdropColor:o}=e;if(!q(o)){const c=Xt(e.borderRadius),d=Ne(e.backdropPadding);t.fillStyle=o;const h=i-d.left,u=s-d.top,m=r-i+d.width,g=a-s+d.height;Object.values(c).some(p=>p!==0)?(t.beginPath(),ci(t,{x:h,y:u,w:m,h:g,radius:c}),t.fill()):t.fillRect(h,u,m,g)}}function ay(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let s=e-1;s>=0;s--){const r=t._pointLabelItems[s];if(!r.visible)continue;const a=i.setContext(t.getPointLabelContext(s));ry(n,a,r);const o=ge(a.font),{x:c,y:d,textAlign:h}=r;tn(n,t._pointLabels[s],c,d+o.lineHeight/2,o,{color:a.color,textAlign:h,textBaseline:"middle"})}}function bh(t,e,n,i){const{ctx:s}=t;if(n)s.arc(t.xCenter,t.yCenter,e,0,je);else{let r=t.getPointPosition(0,e);s.moveTo(r.x,r.y);for(let a=1;a<i;a++)r=t.getPointPosition(a,e),s.lineTo(r.x,r.y)}}function oy(t,e,n,i,s){const r=t.ctx,a=e.circular,{color:o,lineWidth:c}=e;!a&&!i||!o||!c||n<0||(r.save(),r.strokeStyle=o,r.lineWidth=c,r.setLineDash(s.dash||[]),r.lineDashOffset=s.dashOffset,r.beginPath(),bh(t,n,a,i),r.closePath(),r.stroke(),r.restore())}function ly(t,e,n){return It(t,{label:n,index:e,type:"pointLabel"})}class $i extends gs{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Ne(Pr(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=pe(e)&&!isNaN(e)?e:0,this.max=pe(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Pr(this.options))}generateTickLabels(e){gs.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{const s=ee(this.options.pointLabels.callback,[n,i],this);return s||s===0?s:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?Zx(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,s){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,s))}getIndexAngle(e){const n=je/(this._pointLabels.length||1),i=this.options.startAngle||0;return Ye(e*n+Pt(i))}getDistanceFromCenterForValue(e){if(q(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(q(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const i=n[e];return ly(this.getContext(),e,i)}}getPointPosition(e,n,i=0){const s=this.getIndexAngle(e)-Ie+i;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:i,right:s,bottom:r}=this._pointLabelItems[e];return{left:n,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),bh(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:i,grid:s,border:r}=n,a=this._pointLabels.length;let o,c,d;if(n.pointLabels.display&&ay(this,a),s.display&&this.ticks.forEach((h,u)=>{if(u!==0||u===0&&this.min<0){c=this.getDistanceFromCenterForValue(h.value);const m=this.getContext(u),g=s.setContext(m),p=r.setContext(m);oy(this,g,c,a,p)}}),i.display){for(e.save(),o=a-1;o>=0;o--){const h=i.setContext(this.getPointLabelContext(o)),{color:u,lineWidth:m}=h;!m||!u||(e.lineWidth=m,e.strokeStyle=u,e.setLineDash(h.borderDash),e.lineDashOffset=h.borderDashOffset,c=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),d=this.getPointPosition(o,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(d.x,d.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((o,c)=>{if(c===0&&this.min>=0&&!n.reverse)return;const d=i.setContext(this.getContext(c)),h=ge(d.font);if(r=this.getDistanceFromCenterForValue(this.ticks[c].value),d.showLabelBackdrop){e.font=h.string,a=e.measureText(o.label).width,e.fillStyle=d.backdropColor;const u=Ne(d.backdropPadding);e.fillRect(-a/2-u.left,-r-h.size/2-u.top,a+u.width,h.size+u.height)}tn(e,o.label,0,-r,h,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),e.restore()}drawTitle(){}}B($i,"id","radialLinear"),B($i,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ms.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),B($i,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),B($i,"descriptors",{angleLines:{_fallback:"grid"}});const Ds={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ae=Object.keys(Ds);function _l(t,e){return t-e}function Sl(t,e){if(q(e))return null;const n=t._adapter,{parser:i,round:s,isoWeekday:r}=t._parseOpts;let a=e;return typeof i=="function"&&(a=i(a)),pe(a)||(a=typeof i=="string"?n.parse(a,i):n.parse(a)),a===null?null:(s&&(a=s==="week"&&(hs(r)||r===!0)?n.startOf(a,"isoWeek",r):n.startOf(a,s)),+a)}function Cl(t,e,n,i){const s=Ae.length;for(let r=Ae.indexOf(t);r<s-1;++r){const a=Ds[Ae[r]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(o*a.size))<=i)return Ae[r]}return Ae[s-1]}function cy(t,e,n,i,s){for(let r=Ae.length-1;r>=Ae.indexOf(n);r--){const a=Ae[r];if(Ds[a].common&&t._adapter.diff(s,i,a)>=e-1)return a}return Ae[n?Ae.indexOf(n):0]}function dy(t){for(let e=Ae.indexOf(t)+1,n=Ae.length;e<n;++e)if(Ds[Ae[e]].common)return Ae[e]}function Pl(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:s}=aa(n,e),r=n[i]>=e?n[i]:n[s];t[r]=!0}}function hy(t,e,n,i){const s=t._adapter,r=+s.startOf(e[0].value,i),a=e[e.length-1].value;let o,c;for(o=r;o<=a;o=+s.add(o,1,i))c=n[o],c>=0&&(e[c].major=!0);return e}function Ml(t,e,n){const i=[],s={},r=e.length;let a,o;for(a=0;a<r;++a)o=e[a],s[o]=a,i.push({value:o,major:!1});return r===0||!n?i:hy(t,i,s,n)}class ps extends rn{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),s=this._adapter=new rb._date(e.adapters.date);s.init(n),Zn(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Sl(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:s,max:r,minDefined:a,maxDefined:o}=this.getUserBounds();function c(d){!a&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!o&&!isNaN(d.max)&&(r=Math.max(r,d.max))}(!a||!o)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=pe(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=pe(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,a=this.max,o=Mp(s,r,a);return this._unit=n.unit||(i.autoSkip?Cl(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):cy(this,o.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:dy(this._unit),this.initOffsets(s),e.reverse&&o.reverse(),Ml(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,s,r;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?i=r:i=(r-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=Ge(n,0,a),i=Ge(i,0,a),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,a=r.unit||Cl(r.minUnit,n,i,this._getLabelCapacity(n)),o=H(s.ticks.stepSize,1),c=a==="week"?r.isoWeekday:!1,d=hs(c)||c===!0,h={};let u=n,m,g;if(d&&(u=+e.startOf(u,"isoWeek",c)),u=+e.startOf(u,d?"day":a),e.diff(i,n,a)>1e5*o)throw new Error(n+" and "+i+" are too far apart with stepSize of "+o+" "+a);const p=s.ticks.source==="data"&&this.getDataTimestamps();for(m=u,g=0;m<i;m=+e.add(m,o,a),g++)Pl(h,m,p);return(m===i||s.bounds==="ticks"||g===1)&&Pl(h,m,p),Object.keys(h).sort(_l).map(b=>+b)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,r=this._unit,a=n||s[r];return this._adapter.format(e,a)}_tickFormatFunction(e,n,i,s){const r=this.options,a=r.ticks.callback;if(a)return ee(a,[e,n,i],this);const o=r.time.displayFormats,c=this._unit,d=this._majorUnit,h=c&&o[c],u=d&&o[d],m=i[n],g=d&&u&&m&&m.major;return this._adapter.format(e,s||(g?u:h))}generateTickLabels(e){let n,i,s;for(n=0,i=e.length;n<i;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,s=Pt(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),a=Math.sin(s),o=this._resolveTickFontOptions(0).size;return{w:i*r+o*a,h:i*a+o*r}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(e,0,Ml(this,[e],this._majorUnit),s),a=this._getLabelSize(r),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)e.push(Sl(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Bd(e.sort(_l))}}B(ps,"id","time"),B(ps,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ui(t,e,n){let i=0,s=t.length-1,r,a,o,c;n?(e>=t[i].pos&&e<=t[s].pos&&({lo:i,hi:s}=xr(t,"pos",e)),{pos:r,time:o}=t[i],{pos:a,time:c}=t[s]):(e>=t[i].time&&e<=t[s].time&&({lo:i,hi:s}=xr(t,"time",e)),{time:r,pos:o}=t[i],{time:a,pos:c}=t[s]);const d=a-r;return d?o+(c-o)*(e-r)/d:o}class Tl extends ps{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Ui(n,this.min),this._tableRange=Ui(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,s=[],r=[];let a,o,c,d,h;for(a=0,o=e.length;a<o;++a)d=e[a],d>=n&&d<=i&&s.push(d);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(a=0,o=s.length;a<o;++a)h=s[a+1],c=s[a-1],d=s[a],Math.round((h+c)/2)!==d&&r.push({time:d,pos:a/(o-1)});return r}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Ui(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Ui(this._table,i*this._tableRange+this._minPos,!0)}}B(Tl,"id","timeseries"),B(Tl,"defaults",ps.defaults);const xh="label";function Al(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function uy(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function yh(t,e){t.labels=e}function vh(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xh;const i=[];t.datasets=e.map(s=>{const r=t.datasets.find(a=>a[n]===s[n]);return!r||!s.data||i.includes(r)?{...s}:(i.push(r),Object.assign(r,s),r)})}function fy(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xh;const n={labels:[],datasets:[]};return yh(n,t.labels),vh(n,t.datasets,e),n}function my(t,e){const{height:n=150,width:i=300,redraw:s=!1,datasetIdKey:r,type:a,data:o,options:c,plugins:d=[],fallbackContent:h,updateMode:u,...m}=t,g=v.useRef(null),p=v.useRef(null),b=()=>{g.current&&(p.current=new As(g.current,{type:a,data:fy(o,r),options:c&&{...c},plugins:d}),Al(e,p.current))},y=()=>{Al(e,null),p.current&&(p.current.destroy(),p.current=null)};return v.useEffect(()=>{!s&&p.current&&c&&uy(p.current,c)},[s,c]),v.useEffect(()=>{!s&&p.current&&yh(p.current.config.data,o.labels)},[s,o.labels]),v.useEffect(()=>{!s&&p.current&&o.datasets&&vh(p.current.config.data,o.datasets,r)},[s,o.datasets]),v.useEffect(()=>{p.current&&(s?(y(),setTimeout(b)):p.current.update(u))},[s,c,o.labels,o.datasets,u]),v.useEffect(()=>{p.current&&(y(),setTimeout(b))},[a]),v.useEffect(()=>(b(),()=>y()),[]),Z.createElement("canvas",{ref:g,role:"img",height:n,width:i,...m},h)}const gy=v.forwardRef(my);function py(t,e){return As.register(e),v.forwardRef((n,i)=>Z.createElement(gy,{...n,ref:i,type:t}))}const Dl=py("bar",Ji);function by({limit:t=5,className:e}){const[n,i]=v.useState([]),[s,r]=v.useState(!0),[a,o]=v.useState(null);v.useEffect(()=>{(async()=>{try{r(!0),o(null);const d=await fetch("/.netlify/functions/leads?summary=cta_vs_signup_30d&unique=true",{headers:{"Content-Type":"application/json",...Jr()}});if(!d.ok)throw new Error(`HTTP ${d.status}`);const h=await d.json();i(Array.isArray(h.rows)?h.rows:[])}catch(d){o((d==null?void 0:d.message)||"Failed to load")}finally{r(!1)}})()},[]);const c=v.useMemo(()=>{const d=(n||[]).map(h=>{const u=h.cta_path||"â€”",m=h.signup_path||"â€”",g=typeof h.leads=="string"?parseInt(h.leads,10):h.leads||0;return{label:`${u} â†’ ${m}`,leads:g}});return d.sort((h,u)=>u.leads-h.leads),d.slice(0,Math.max(1,t))},[n,t]);return f("div",{className:`h-full ${e||""}`,children:[l("div",{className:"mb-4",children:f("div",{className:"flex items-center gap-2",children:[l("h3",{className:"text-white font-medium text-sm",children:"Top CTAs â†” Signup (30d)"}),l("span",{className:"rounded bg-orange-500/20 px-2 py-0.5 text-xs text-orange-200 border border-orange-400/30",children:"Unique leads"})]})}),l("div",{className:"flex-1",children:s?l("div",{className:"h-56 animate-pulse rounded-lg bg-white/10"}):a?f("div",{className:"text-sm text-red-400",children:["Failed to load: ",a]}):c.length===0?l("div",{className:"text-sm text-white/60",children:"No data in the last 30 days."}):l("div",{className:"h-64 w-full",children:l(ks,{width:"100%",height:"100%",children:f(Xr,{data:c,margin:{top:8,right:16,left:8,bottom:40},children:[l(_s,{vertical:!1,strokeDasharray:"3 3"}),l(Ss,{dataKey:"label",interval:0,angle:-20,textAnchor:"end",height:48,tick:{fontSize:12}}),l(Cs,{allowDecimals:!1,tick:{fontSize:12}}),l(Ps,{formatter:d=>[d,"Leads"],labelFormatter:d=>d}),l(Zr,{dataKey:"leads",radius:[6,6,0,0],fill:"#f97316"})]})})})})]})}function xy(t){return l("div",{className:`rounded-lg border bg-white ${t.className||""}`,children:t.children})}function yy(t){return l("div",{className:`px-4 pt-4 ${t.className||""}`,children:t.children})}function vy(t){return l("h3",{className:`text-lg font-semibold ${t.className||""}`,children:t.children})}function wy(t){return l("div",{className:`px-4 pb-4 ${t.className||""}`,children:t.children})}function Ny({limit:t=5,className:e}){const[n,i]=v.useState([]),[s,r]=v.useState(!0),[a,o]=v.useState(null);v.useEffect(()=>{(async()=>{try{r(!0),o(null);const d=await fetch("/.netlify/functions/leads?summary=landing_vs_signup_30d&unique=true",{headers:{"Content-Type":"application/json",...Jr()}});if(!d.ok)throw new Error(`HTTP ${d.status}`);const h=await d.json();i(Array.isArray(h.rows)?h.rows:[])}catch(d){o((d==null?void 0:d.message)||"Failed to load")}finally{r(!1)}})()},[]);const c=v.useMemo(()=>{const d=(n||[]).map(h=>{const u=h.landing_path||"â€”",m=h.signup_path||"â€”",g=typeof h.leads=="string"?parseInt(h.leads,10):h.leads||0;return{label:`${u} â†’ ${m}`,leads:g}});return d.sort((h,u)=>u.leads-h.leads),d.slice(0,Math.max(1,t))},[n,t]);return f(xy,{className:e,children:[l(yy,{className:"pb-0",children:f("div",{className:"flex items-center gap-2",children:[l(vy,{className:"text-base",children:"Top Landing â†” Signup (30d)"}),l("span",{className:"rounded bg-green-50 px-2 py-0.5 text-xs text-green-700",children:"Unique leads"})]})}),l(wy,{className:"pt-4",children:s?l("div",{className:"h-56 animate-pulse rounded-lg bg-gray-100"}):a?f("div",{className:"text-sm text-red-600",children:["Failed to load: ",a]}):c.length===0?l("div",{className:"text-sm text-gray-500",children:"No data in the last 30 days."}):l("div",{className:"h-64 w-full",children:l(ks,{width:"100%",height:"100%",children:f(Xr,{data:c,margin:{top:8,right:16,left:8,bottom:40},children:[l(_s,{vertical:!1,strokeDasharray:"3 3"}),l(Ss,{dataKey:"label",interval:0,angle:-20,textAnchor:"end",height:48,tick:{fontSize:12}}),l(Cs,{allowDecimals:!1,tick:{fontSize:12}}),l(Ps,{formatter:d=>[d,"Leads"],labelFormatter:d=>d}),l(Zr,{dataKey:"leads",radius:[6,6,0,0],fill:"#10b981"})]})})})})]})}function ky({className:t}){const[e,n]=v.useState([]),[i,s]=v.useState(!0),[r,a]=v.useState(null);v.useEffect(()=>{(async()=>{try{s(!0),a(null);const c=await fetch("/.netlify/functions/leads?summary=leads_per_day_30d&unique=true",{headers:{"Content-Type":"application/json",...Jr()}});if(!c.ok)throw new Error(`HTTP ${c.status}`);const d=await c.json();n(Array.isArray(d.rows)?d.rows:[])}catch(c){a((c==null?void 0:c.message)||"Failed to load")}finally{s(!1)}})()},[]);const o=v.useMemo(()=>(e||[]).map(c=>({date:new Date(c.date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),leads:typeof c.leads=="string"?parseInt(c.leads,10):c.leads||0})),[e]);return f("div",{className:`h-full ${t||""}`,children:[l("div",{className:"mb-4",children:f("div",{className:"flex items-center gap-2",children:[l("h3",{className:"text-white font-medium text-sm",children:"Leads per Day (30d)"}),l("span",{className:"rounded bg-orange-500/20 px-2 py-0.5 text-xs text-orange-200 border border-orange-400/30",children:"Unique leads"})]})}),l("div",{className:"flex-1",children:i?l("div",{className:"h-56 animate-pulse rounded-lg bg-white/10"}):r?f("div",{className:"text-sm text-red-400",children:["Failed to load: ",r]}):o.length===0?l("div",{className:"text-sm text-white/60",children:"No data in the last 30 days."}):l("div",{className:"h-64 w-full",children:l(ks,{width:"100%",height:"100%",children:f(sd,{data:o,margin:{top:8,right:16,left:8,bottom:24},children:[l(_s,{strokeDasharray:"3 3"}),l(Ss,{dataKey:"date",tick:{fontSize:12}}),l(Cs,{allowDecimals:!1,tick:{fontSize:12}}),l(Ps,{formatter:c=>[c,"Leads"],labelFormatter:c=>`Date: ${c}`}),l(rd,{type:"monotone",dataKey:"leads",stroke:"#f97316",strokeWidth:3,dot:{fill:"#f97316",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#f97316",strokeWidth:2,fill:"#fb923c"}})]})})})})]})}As.register(Sr,Cr,ns,Ox,Hx,Lx,$n,ts);const _y=()=>{var x,N,w,k,_,C,D,S,M;const[t,e]=v.useState(null),[n,i]=v.useState([]),[s,r]=v.useState(!0),[a,o]=v.useState(null);v.useEffect(()=>{(async()=>{try{r(!0);const I=localStorage.getItem("authToken"),L=await fetch("/.netlify/functions/leads?summary=true&unique=true",{headers:I?{Authorization:`Bearer ${I}`}:{}});if(!L.ok)throw new Error("Failed to fetch summary data");const U=await L.json();e(U);const W=await fetch("/.netlify/functions/leads?limit=10&unique=true",{headers:I?{Authorization:`Bearer ${I}`}:{}});if(!W.ok)throw new Error("Failed to fetch recent leads");const T=await W.json();i(T.leads||[]);const j=await fetch("/.netlify/functions/leads?summary=cta_vs_signup_30d&unique=true",{headers:I?{Authorization:`Bearer ${I}`}:{}}),F=j.ok?await j.json():{items:[]};window.__cta_signup_top__=F.items}catch(I){o(I instanceof Error?I.message:"An error occurred")}finally{r(!1)}})()},[]);const c=P=>new Date(P).toLocaleDateString("en-US",{month:"short",day:"numeric"}),d=P=>({"/":"Home Page","/special-offer":"Special Offer",whatsapp:"WhatsApp",chat:"Live Chat","/crm-import":"CRM Import"})[P]||P,h={labels:((x=t==null?void 0:t.dailySummary)==null?void 0:x.slice(0,14).reverse().map(P=>c(P.date)))||[],datasets:[{label:"Daily Leads",data:((N=t==null?void 0:t.dailySummary)==null?void 0:N.slice(0,14).reverse().map(P=>P.count))||[],backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:2,borderRadius:4,borderSkipped:!1}]},u={labels:((w=t==null?void 0:t.sourceStats)==null?void 0:w.map(P=>d(P.source_page)))||[],datasets:[{label:"Leads by Source",data:((k=t==null?void 0:t.sourceStats)==null?void 0:k.map(P=>P.count))||[],backgroundColor:["rgba(59, 130, 246, 0.8)","rgba(16, 185, 129, 0.8)","rgba(245, 158, 11, 0.8)","rgba(239, 68, 68, 0.8)","rgba(139, 92, 246, 0.8)","rgba(236, 72, 153, 0.8)"],borderColor:["rgba(59, 130, 246, 1)","rgba(16, 185, 129, 1)","rgba(245, 158, 11, 1)","rgba(239, 68, 68, 1)","rgba(139, 92, 246, 1)","rgba(236, 72, 153, 1)"],borderWidth:2}]},m={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"},ticks:{color:"#6B7280"}},x:{grid:{display:!1},ticks:{color:"#6B7280"}}}},g={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0}},title:{display:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"},ticks:{color:"#6B7280"}},x:{grid:{display:!1},ticks:{color:"#6B7280"}}}};if(s)return l("div",{className:"space-y-6",children:f("div",{className:"animate-pulse",children:[f("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[l("div",{className:"bg-gray-200 h-32 rounded-lg"}),l("div",{className:"bg-gray-200 h-32 rounded-lg"}),l("div",{className:"bg-gray-200 h-32 rounded-lg"})]}),l("div",{className:"bg-gray-200 h-96 rounded-lg"})]})});if(a)return f("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[l("h3",{className:"text-red-800 font-medium",children:"Error loading leads data"}),l("p",{className:"text-red-600 mt-1",children:a})]});const p=((C=(_=t==null?void 0:t.dailySummary)==null?void 0:_[0])==null?void 0:C.count)||0,b=((S=(D=t==null?void 0:t.dailySummary)==null?void 0:D[1])==null?void 0:S.count)||0,y=p-b;return f("div",{className:"space-y-8",children:[f("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:f("div",{className:"flex items-center",children:[l("div",{className:"flex-shrink-0",children:l(Fg,{className:"h-8 w-8 text-blue-600"})}),f("div",{className:"ml-4",children:[l("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:"Total Leads"}),l("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:(t==null?void 0:t.totalLeads)||0}),l("p",{className:"text-sm text-gray-600 mt-1",children:"All time"})]})]})}),l("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:f("div",{className:"flex items-center",children:[l("div",{className:"flex-shrink-0",children:l(kg,{className:"h-8 w-8 text-green-600"})}),f("div",{className:"ml-4",children:[l("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:"Today's Leads"}),l("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:p}),y!==0&&f("p",{className:`text-sm mt-1 ${y>0?"text-green-600":"text-red-600"}`,children:[y>0?"+":"",y," from yesterday"]})]})]})}),l("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:f("div",{className:"flex items-center",children:[l("div",{className:"flex-shrink-0",children:l(Cg,{className:"h-8 w-8 text-purple-600"})}),f("div",{className:"ml-4",children:[l("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:"Top Source"}),((M=t==null?void 0:t.sourceStats)==null?void 0:M[0])&&f(Qe,{children:[l("p",{className:"text-lg font-bold text-gray-900 mt-1",children:d(t.sourceStats[0].source_page)}),f("p",{className:"text-sm text-gray-600 mt-1",children:[t.sourceStats[0].count," leads"]})]})]})]})})]}),f("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[f("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:[l("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Daily Leads - Last 14 Days"}),l("div",{className:"h-80",children:l(Dl,{data:h,options:m})})]}),f("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:[l("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Leads by Source"}),l("div",{className:"h-80",children:l(Dl,{data:u,options:g})})]})]}),f("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l(by,{limit:5}),l(Ny,{limit:5})]}),l(ky,{}),f("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:[l("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Recent Leads"}),l("div",{className:"overflow-x-auto",children:f("table",{className:"min-w-full divide-y divide-gray-200",children:[l("thead",{className:"bg-gray-50",children:f("tr",{children:[l("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),l("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),l("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),l("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Source"}),l("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),l("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(P=>f("tr",{className:"hover:bg-gray-50",children:[l("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:P.full_name}),l("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.email}),l("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.phone||"-"}),l("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:d(P.source_page)}),l("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(P.created_at).toLocaleDateString()})]},P.id))})]})}),n.length===0&&l("div",{className:"text-center py-8",children:l("p",{className:"text-gray-500",children:"No leads found"})})]})]})};class Sy{constructor(){this.sessionId=this.getOrCreateSessionId()}getOrCreateSessionId(){let e=sessionStorage.getItem("admin_session_id");return e||(e=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,sessionStorage.setItem("admin_session_id",e)),e}setUserId(e){this.userId=e}async logAction(e,n,i){try{const s={user_id:this.userId,session_id:this.sessionId,action_type:e,context:n,page_url:window.location.href,details:i||{},user_agent:navigator.userAgent,timestamp:new Date().toISOString()};await this.sendToBackend(s),console.log("ðŸ” Action logged:",{type:e,context:n,details:i,timestamp:s.timestamp})}catch(s){console.error("Failed to log action:",s)}}async sendToBackend(e){}async logNavigation(e,n,i="click"){await this.logAction("navigation",`${e} -> ${n}`,{from_page:e,to_page:n,method:i})}async logButtonClick(e,n,i){await this.logAction("button_click",n,{button_name:e,...i})}async logFormSubmit(e,n){await this.logAction("form_submit",e,{form_fields:Object.keys(n||{}),...n})}async logDataView(e,n,i){await this.logAction("data_view",`viewing_${e}`,{data_type:e,filters:n,result_count:i})}async logError(e,n,i){await this.logAction("error_occurred",e,{error_message:n,stack_trace:i,url:window.location.href,timestamp:new Date().toISOString()})}async logPageLoad(e,n){await this.logAction("page_load",e,{page_name:e,load_time:n,referrer:document.referrer})}}const ye=new Sy,Cy=()=>({logAction:ye.logAction.bind(ye),logNavigation:ye.logNavigation.bind(ye),logButtonClick:ye.logButtonClick.bind(ye),logFormSubmit:ye.logFormSubmit.bind(ye),logDataView:ye.logDataView.bind(ye),logError:ye.logError.bind(ye),logPageLoad:ye.logPageLoad.bind(ye),setUserId:ye.setUserId.bind(ye)}),El=()=>{const{user:t}=vi(),{logPageLoad:e,setUserId:n}=Cy(),[i,s]=v.useState(!1),[r,a]=v.useState(!1);v.useEffect(()=>{t!=null&&t.id&&n(t.id)},[t,n]),v.useEffect(()=>{e("admin_dashboard_overview")},[e]);const o=()=>{localStorage.removeItem("authToken"),window.location.href="/login"};return!t||t.role!=="admin"?l("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:f("div",{className:"text-center",children:[l("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),l("p",{className:"text-gray-600 mb-4",children:"You need admin privileges to access this page."}),l(G,{to:"/login",className:"text-blue-600 hover:text-blue-800",children:"Go to Login"})]})}):i?l("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l(wi,{})}):f("div",{className:"h-screen bg-gradient-to-br from-black via-gray-900 to-black flex relative overflow-hidden",children:[l("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url('/spectra-system-on-colorbar.png')"}}),l("div",{className:"absolute inset-0 bg-black opacity-70"}),l("div",{className:"absolute inset-0 bg-gradient-to-br from-black/15 via-transparent to-black/25"}),l("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-transparent"}),l(bg,{user:t,collapsed:r,onToggle:()=>a(!r),onLogout:o}),l("div",{className:`flex-1 flex flex-col relative z-10 transition-all duration-200 ${r?"ml-[72px]":"ml-[260px]"}`,children:l("main",{className:"flex-1 overflow-y-auto overflow-x-hidden overscroll-none",children:l("div",{className:"p-6 sm:p-8 lg:p-10",children:f("div",{className:"space-y-6",children:[l("h2",{className:"text-2xl font-bold text-white mb-6",children:"Dashboard Overview"}),l(_y,{}),f("div",{className:"bg-white/10 backdrop-blur-lg border border-white/20 rounded-lg p-6",children:[l("h3",{className:"text-lg font-semibold text-white mb-4",children:"2-Table Architecture Summary"}),f("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f("div",{className:"bg-blue-500/20 p-4 rounded-lg border border-blue-400/30",children:[l("h4",{className:"font-semibold text-blue-200",children:"Leads Table"}),l("p",{className:"text-sm text-blue-300 mt-1",children:"4-stage funnel: CTA â†’ Account â†’ Address â†’ Payment Viewed"})]}),f("div",{className:"bg-green-500/20 p-4 rounded-lg border border-green-400/30",children:[l("h4",{className:"font-semibold text-green-200",children:"Subscribers Table"}),l("p",{className:"text-sm text-green-300 mt-1",children:"Completed subscriptions with secure payment integration"})]})]})]})]})})})})]})},Ll=({children:t,showNavigation:e=!0,showFooter:n=!0,className:i=""})=>{const[s,r]=v.useState(!1);return f("div",{className:`min-h-screen flex flex-col bg-white ${i}`,children:[e&&l(ea,{isMobileMenuOpen:s,setIsMobileMenuOpen:r}),l("main",{className:"flex-1 w-full",children:t}),n&&l(Nd,{})]})},Py=()=>{const t=nn(),{user:e,loading:n,refreshUser:i}=vi(),{addToast:s}=pd(),[r,a]=v.useState(!1),[o,c]=v.useState(!1),[d,h]=v.useState(!1),[u,m]=v.useState({full_name:(e==null?void 0:e.full_name)||"",phone:(e==null?void 0:e.phone)||"",email:(e==null?void 0:e.email)||""}),[g,p]=v.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[b,y]=v.useState(!1),[x,N]=v.useState(!1),[w,k]=v.useState(!1);if(Z.useEffect(()=>{e&&m({full_name:e.full_name||"",phone:e.phone||"",email:e.email||""})},[e]),n)return l(Ll,{children:l("div",{className:"min-h-screen flex items-center justify-center",children:l(wi,{})})});if(!e)return t("/login"),null;const _=async M=>{M.preventDefault(),y(!0);try{await Je.updateProfile({full_name:u.full_name,phone:u.phone}),await i(),s({type:"success",message:"Profile updated successfully!",duration:4e3}),a(!1)}catch(P){console.error("Profile update error:",P),s({type:"error",message:P.message||"Failed to update profile",duration:5e3})}finally{y(!1)}},C=async M=>{if(M.preventDefault(),g.newPassword!==g.confirmPassword){s({type:"error",message:"New passwords do not match",duration:4e3});return}if(g.newPassword.length<8){s({type:"error",message:"Password must be at least 8 characters long",duration:4e3});return}N(!0);try{await new Promise(P=>setTimeout(P,1e3)),s({type:"success",message:"Password updated successfully!",duration:4e3}),p({currentPassword:"",newPassword:"",confirmPassword:""}),c(!1)}catch(P){s({type:"error",message:P.message||"Failed to update password",duration:5e3})}finally{N(!1)}},D=async()=>{k(!0);try{await new Promise(M=>setTimeout(M,1e3)),localStorage.removeItem("auth_token"),sessionStorage.removeItem("auth_token"),s({type:"info",message:"Account deleted successfully",duration:4e3}),t("/")}catch(M){s({type:"error",message:M.message||"Failed to delete account",duration:5e3})}finally{k(!1),h(!1)}},S=M=>new Date(M).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return f(Ll,{children:[l("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-white py-8",children:f("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[l("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",children:f("div",{className:"flex items-center justify-between",children:[f("div",{className:"flex items-center gap-4",children:[l("div",{className:"w-16 h-16 bg-gradient-to-br from-[#EAB776] to-[#B18059] rounded-full flex items-center justify-center text-white text-xl font-bold",children:e.full_name?e.full_name.charAt(0).toUpperCase():e.email.charAt(0).toUpperCase()}),f("div",{children:[l("h1",{className:"text-2xl font-bold text-gray-900",children:e.full_name||"User Profile"}),l("p",{className:"text-gray-600",children:e.email}),f("div",{className:"flex items-center gap-2 mt-1",children:[l("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:e.role==="admin"?"ðŸ‘‘ Admin":"ðŸ‘¤ User"}),f("span",{className:"text-xs text-gray-500",children:["Joined ",S(e.created_at)]})]})]})]}),l(me,{onClick:()=>a(!0),variant:"outline",children:"Edit Profile"})]})}),f("div",{className:"grid gap-6 md:grid-cols-2",children:[f("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[l("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Personal Information"}),f("div",{className:"space-y-4",children:[f("div",{children:[l("label",{className:"block text-sm font-medium text-gray-500",children:"Full Name"}),l("p",{className:"mt-1 text-gray-900",children:e.full_name||"Not provided"})]}),f("div",{children:[l("label",{className:"block text-sm font-medium text-gray-500",children:"Email"}),l("p",{className:"mt-1 text-gray-900",children:e.email})]}),f("div",{children:[l("label",{className:"block text-sm font-medium text-gray-500",children:"Phone"}),l("p",{className:"mt-1 text-gray-900",children:e.phone||"Not provided"})]})]})]}),f("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[l("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Settings"}),f("div",{className:"space-y-4",children:[l(me,{onClick:()=>c(!0),variant:"outline",className:"w-full justify-start",children:"ðŸ” Change Password"}),f("div",{className:"pt-4 border-t border-gray-100",children:[l("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Danger Zone"}),l(me,{onClick:()=>h(!0),variant:"destructive",size:"sm",children:"Delete Account"}),l("p",{className:"text-xs text-gray-500 mt-1",children:"This action cannot be undone"})]})]})]})]})]})}),l(fr,{isOpen:r,onClose:()=>a(!1),title:"Edit Profile",size:"md",children:f("form",{onSubmit:_,className:"space-y-4",children:[f("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),l("input",{type:"text",value:u.full_name,onChange:M=>m(P=>({...P,full_name:M.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#B18059] focus:border-transparent",placeholder:"Enter your full name"})]}),f("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),l("input",{type:"tel",value:u.phone,onChange:M=>m(P=>({...P,phone:M.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#B18059] focus:border-transparent",placeholder:"Enter your phone number"})]}),f("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),l("input",{type:"email",value:u.email,onChange:M=>m(P=>({...P,email:M.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#B18059] focus:border-transparent",disabled:!0}),l("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),f("div",{className:"flex gap-3 justify-end pt-4",children:[l(me,{type:"button",variant:"outline",onClick:()=>a(!1),disabled:b,children:"Cancel"}),l(me,{type:"submit",disabled:b,children:b?"Saving...":"Save Changes"})]})]})}),l(fr,{isOpen:o,onClose:()=>c(!1),title:"Change Password",size:"md",children:f("form",{onSubmit:C,className:"space-y-4",children:[f("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),l("input",{type:"password",value:g.currentPassword,onChange:M=>p(P=>({...P,currentPassword:M.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#B18059] focus:border-transparent",required:!0})]}),f("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),l("input",{type:"password",value:g.newPassword,onChange:M=>p(P=>({...P,newPassword:M.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#B18059] focus:border-transparent",minLength:8,required:!0})]}),f("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),l("input",{type:"password",value:g.confirmPassword,onChange:M=>p(P=>({...P,confirmPassword:M.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#B18059] focus:border-transparent",minLength:8,required:!0})]}),f("div",{className:"flex gap-3 justify-end pt-4",children:[l(me,{type:"button",variant:"outline",onClick:()=>c(!1),disabled:x,children:"Cancel"}),l(me,{type:"submit",disabled:x,children:x?"Updating...":"Update Password"})]})]})}),l(md,{isOpen:d,onClose:()=>h(!1),onConfirm:D,title:"Delete Account",message:"Are you sure you want to delete your account? This action cannot be undone and will permanently remove all your data.",confirmText:"Yes, Delete Account",cancelText:"Cancel",variant:"destructive",loading:w})]})};function lt({className:t,...e}){return l("div",{className:Q("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e})}function ct({className:t,...e}){return l("div",{className:Q("flex flex-col space-y-1.5 p-6",t),...e})}function dt({className:t,...e}){return l("h3",{className:Q("text-2xl font-semibold leading-none tracking-tight",t),...e})}function Yi({className:t,...e}){return l("p",{className:Q("text-sm text-muted-foreground",t),...e})}function ht({className:t,...e}){return l("div",{className:Q("p-6 pt-0",t),...e})}const xa=Z.createContext({}),wh=Z.forwardRef(({className:t,defaultValue:e,value:n,onValueChange:i,...s},r)=>{const[a,o]=Z.useState(e||""),c=n!==void 0?n:a,d=h=>{n===void 0&&o(h),i==null||i(h)};return l(xa.Provider,{value:{value:c,onValueChange:d},children:l("div",{ref:r,className:Q("w-full",t),...s})})});wh.displayName="Tabs";const Nh=Z.forwardRef(({className:t,...e},n)=>l("div",{ref:n,className:Q("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Nh.displayName="TabsList";const Yn=Z.forwardRef(({className:t,value:e,...n},i)=>{const{value:s,onValueChange:r}=Z.useContext(xa);return l("button",{ref:i,className:Q("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",s===e?"bg-background text-foreground shadow-sm":"",t),onClick:()=>r==null?void 0:r(e),...n})});Yn.displayName="TabsTrigger";const Gn=Z.forwardRef(({className:t,value:e,...n},i)=>{const{value:s}=Z.useContext(xa);return s!==e?null:l("div",{ref:i,className:Q("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...n})});Gn.displayName="TabsContent";class Pe{static async getPayments(e={}){const n=new URLSearchParams;e.client&&n.append("client",e.client),e.currency&&n.append("currency",e.currency),e.country&&n.append("country",e.country),e.startDate&&n.append("startDate",e.startDate),e.endDate&&n.append("endDate",e.endDate),e.limit&&n.append("limit",e.limit.toString()),e.offset&&n.append("offset",e.offset.toString());const i=await fetch(`${this.baseUrl}/get-payments?${n}`);if(!i.ok)throw new Error("Failed to fetch payments");return i.json()}static async getSummary(){const e=await fetch(`${this.baseUrl}/get-payments-summary`);if(!e.ok)throw new Error("Failed to fetch payment summary");return e.json()}static formatCurrency(e,n){return new Intl.NumberFormat("he-IL",{style:"currency",currency:n,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}static formatDate(e){return new Date(e).toLocaleDateString("he-IL",{year:"numeric",month:"short",day:"numeric"})}static formatMonth(e){return new Date(e+"-01").toLocaleDateString("he-IL",{year:"numeric",month:"long"})}}Pe.baseUrl="/.netlify/functions";const qn=Z.forwardRef(({className:t,type:e,...n},i)=>l("input",{type:e,className:Q("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:i,...n}));qn.displayName="Input";const ya=Z.createContext({}),kh=Z.forwardRef(({className:t,value:e,onValueChange:n,children:i,...s},r)=>l(ya.Provider,{value:{value:e,onValueChange:n},children:l("div",{ref:r,className:Q("relative",t),...s,children:i})}));kh.displayName="Select";const _h=Z.forwardRef(({className:t,children:e,...n},i)=>l("button",{ref:i,className:Q("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...n,children:e}));_h.displayName="SelectTrigger";const Sh=Z.forwardRef(({className:t,placeholder:e,...n},i)=>{const{value:s}=Z.useContext(ya);return l("span",{ref:i,className:Q("",t),...n,children:s||e})});Sh.displayName="SelectValue";const Ch=Z.forwardRef(({className:t,children:e,...n},i)=>l("div",{ref:i,className:Q("absolute top-full z-50 mt-1 w-full rounded-md border bg-popover p-1 text-popover-foreground shadow-md",t),...n,children:e}));Ch.displayName="SelectContent";const is=Z.forwardRef(({className:t,children:e,value:n,...i},s)=>{const{onValueChange:r}=Z.useContext(ya);return l("div",{ref:s,className:Q("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none hover:bg-accent hover:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),onClick:()=>r==null?void 0:r(n),...i,children:e})});is.displayName="SelectItem";const Ph=Z.forwardRef(({className:t,...e},n)=>l("div",{className:"relative w-full overflow-auto",children:l("table",{ref:n,className:Q("w-full caption-bottom text-sm",t),...e})}));Ph.displayName="Table";const Mh=Z.forwardRef(({className:t,...e},n)=>l("thead",{ref:n,className:Q("[&_tr]:border-b",t),...e}));Mh.displayName="TableHeader";const Th=Z.forwardRef(({className:t,...e},n)=>l("tbody",{ref:n,className:Q("[&_tr:last-child]:border-0",t),...e}));Th.displayName="TableBody";const My=Z.forwardRef(({className:t,...e},n)=>l("tfoot",{ref:n,className:Q("bg-primary font-medium text-primary-foreground",t),...e}));My.displayName="TableFooter";const Kn=Z.forwardRef(({className:t,...e},n)=>l("tr",{ref:n,className:Q("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Kn.displayName="TableRow";const dn=Z.forwardRef(({className:t,...e},n)=>l("th",{ref:n,className:Q("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));dn.displayName="TableHead";const wt=Z.forwardRef(({className:t,...e},n)=>l("td",{ref:n,className:Q("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));wt.displayName="TableCell";const Ty=Z.forwardRef(({className:t,...e},n)=>l("caption",{ref:n,className:Q("mt-4 text-sm text-muted-foreground",t),...e}));Ty.displayName="TableCaption";const Ay=({filters:t={}})=>{const[e,n]=v.useState([]),[i,s]=v.useState({total:0,limit:20,offset:0,pages:0}),[r,a]=v.useState(!0),[o,c]=v.useState(t),[d,h]=v.useState(""),[u,m]=v.useState(!1),g=v.useCallback(async(N=0)=>{try{a(!0);const w=await Pe.getPayments({...o,client:d||o.client,limit:i.limit,offset:N});n(w.payments),s(w.pagination)}catch(w){console.error("Error loading payments:",w)}finally{a(!1)}},[o,d,i.limit]);v.useEffect(()=>{g(0)},[o,d]);const p=N=>{g(N)},b=(N,w)=>{c(k=>({...k,[N]:w}))},y=()=>{c({}),h("")},x=Math.floor(i.offset/i.limit)+1;return f(lt,{children:[l(ct,{children:f("div",{className:"flex items-center justify-between",children:[l(dt,{children:"Payment Transactions"}),f("div",{className:"flex items-center gap-2",children:[f("div",{className:"relative",children:[l(og,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),l(qn,{placeholder:"Search client...",value:d,onChange:N=>h(N.target.value),className:"pl-8 w-64"})]}),f(me,{variant:"outline",size:"sm",onClick:()=>m(!u),children:[l(Qm,{className:"h-4 w-4 mr-2"}),"Filters"]})]})]})}),f(ht,{children:[u&&f("div",{className:"mb-4 p-4 border rounded-lg bg-muted/50",children:[f("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[f("div",{children:[l("label",{className:"text-sm font-medium mb-1 block",children:"Currency"}),f(kh,{value:o.currency,onValueChange:N=>b("currency",N),children:[l(_h,{children:l(Sh,{placeholder:"All currencies"})}),f(Ch,{children:[l(is,{value:"all",children:"All currencies"}),l(is,{value:"ILS",children:"ILS"}),l(is,{value:"USD",children:"USD"})]})]})]}),f("div",{children:[l("label",{className:"text-sm font-medium mb-1 block",children:"Country"}),l(qn,{placeholder:"Filter by country",value:o.country||"",onChange:N=>b("country",N.target.value)})]}),f("div",{children:[l("label",{className:"text-sm font-medium mb-1 block",children:"Start Date"}),l(qn,{type:"date",value:o.startDate||"",onChange:N=>b("startDate",N.target.value)})]}),f("div",{children:[l("label",{className:"text-sm font-medium mb-1 block",children:"End Date"}),l(qn,{type:"date",value:o.endDate||"",onChange:N=>b("endDate",N.target.value)})]})]}),l("div",{className:"flex justify-end mt-4",children:f(me,{variant:"ghost",size:"sm",onClick:y,children:[l(pg,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})})]}),l("div",{className:"rounded-md border",children:f(Ph,{children:[l(Mh,{children:f(Kn,{children:[l(dn,{children:"Client"}),l(dn,{children:"Date"}),l(dn,{children:"Country"}),l(dn,{children:"Currency"}),l(dn,{className:"text-right",children:"Amount"})]})}),l(Th,{children:r?l(Kn,{children:l(wt,{colSpan:5,className:"text-center py-8",children:l("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"})})}):e.length===0?l(Kn,{children:l(wt,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"No payments found"})}):e.map(N=>f(Kn,{children:[l(wt,{className:"font-medium",children:N.client}),l(wt,{children:Pe.formatDate(N.payment_date)}),l(wt,{children:N.country}),l(wt,{children:l("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${N.currency==="ILS"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:N.currency})}),l(wt,{className:"text-right font-medium",children:Pe.formatCurrency(N.amount,N.currency)})]},N.id))})]})}),!r&&e.length>0&&f("div",{className:"flex items-center justify-between mt-4",children:[f("p",{className:"text-sm text-muted-foreground",children:["Showing ",i.offset+1," to ",Math.min(i.offset+i.limit,i.total)," of ",i.total," payments"]}),f("div",{className:"flex items-center gap-2",children:[f(me,{variant:"outline",size:"sm",onClick:()=>p(Math.max(0,i.offset-i.limit)),disabled:i.offset===0,children:[l(Gm,{className:"h-4 w-4"}),"Previous"]}),f("span",{className:"text-sm",children:["Page ",x," of ",i.pages]}),f(me,{variant:"outline",size:"sm",onClick:()=>p(i.offset+i.limit),disabled:x>=i.pages,children:["Next",l(mr,{className:"h-4 w-4"})]})]})]})]})]})},Dy=({data:t,type:e="line"})=>{const n=(o,c)=>{const d=c;return Pe.formatCurrency(o,d)},i=o=>Pe.formatMonth(o),s=({active:o,payload:c,label:d})=>o&&c&&c.length?f("div",{className:"bg-background border rounded-lg shadow-lg p-3",children:[l("p",{className:"font-medium mb-2",children:i(d)}),c.map(h=>f("p",{className:"text-sm",style:{color:h.color},children:[h.name,": ",n(h.value,h.name)]},h.name))]}):null,r=e==="line"?sd:Xr,a=e==="line"?rd:Zr;return l(ks,{width:"100%",height:350,children:f(r,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[l(_s,{strokeDasharray:"3 3",className:"opacity-30"}),l(Ss,{dataKey:"month",tickFormatter:i,className:"text-xs"}),l(Cs,{className:"text-xs",tickFormatter:o=>new Intl.NumberFormat("he-IL",{notation:"compact",compactDisplay:"short"}).format(o)}),l(Ps,{content:l(s,{})}),l(Af,{}),l(a,{type:"monotone",dataKey:"ILS",stroke:"#3B82F6",fill:"#3B82F6",strokeWidth:2,name:"ILS"}),l(a,{type:"monotone",dataKey:"USD",stroke:"#10B981",fill:"#10B981",strokeWidth:2,name:"USD"})]})})},Ah=6048e5,Ey=864e5,Il=Symbol.for("constructDateFrom");function Dt(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Il in t?t[Il](e):t instanceof Date?new t.constructor(e):new Date(e)}function Ke(t,e){return Dt(e||t,t)}let Ly={};function Es(){return Ly}function ui(t,e){var o,c,d,h;const n=Es(),i=(e==null?void 0:e.weekStartsOn)??((c=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,s=Ke(t,e==null?void 0:e.in),r=s.getDay(),a=(r<i?7:0)+r-i;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function bs(t,e){return ui(t,{...e,weekStartsOn:1})}function Dh(t,e){const n=Ke(t,e==null?void 0:e.in),i=n.getFullYear(),s=Dt(n,0);s.setFullYear(i+1,0,4),s.setHours(0,0,0,0);const r=bs(s),a=Dt(n,0);a.setFullYear(i,0,4),a.setHours(0,0,0,0);const o=bs(a);return n.getTime()>=r.getTime()?i+1:n.getTime()>=o.getTime()?i:i-1}function Ol(t){const e=Ke(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Iy(t,...e){const n=Dt.bind(null,t||e.find(i=>typeof i=="object"));return e.map(n)}function Rl(t,e){const n=Ke(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function Oy(t,e,n){const[i,s]=Iy(n==null?void 0:n.in,t,e),r=Rl(i),a=Rl(s),o=+r-Ol(r),c=+a-Ol(a);return Math.round((o-c)/Ey)}function Ry(t,e){const n=Dh(t,e),i=Dt((e==null?void 0:e.in)||t,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),bs(i)}function Fy(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function By(t){return!(!Fy(t)&&typeof t!="number"||isNaN(+Ke(t)))}function Vy(t,e){const n=Ke(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const jy={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},zy=(t,e,n)=>{let i;const s=jy[t];return typeof s=="string"?i=s:e===1?i=s.one:i=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function Ks(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Wy={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Hy={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$y={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Uy={date:Ks({formats:Wy,defaultWidth:"full"}),time:Ks({formats:Hy,defaultWidth:"full"}),dateTime:Ks({formats:$y,defaultWidth:"full"})},Yy={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Gy=(t,e,n,i)=>Yy[t];function Fn(t){return(e,n)=>{const i=n!=null&&n.context?String(n.context):"standalone";let s;if(i==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):a;s=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[o]||t.values[a]}const r=t.argumentCallback?t.argumentCallback(e):e;return s[r]}}const qy={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ky={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Xy={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Zy={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Jy={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Qy={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},e1=(t,e)=>{const n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},t1={ordinalNumber:e1,era:Fn({values:qy,defaultWidth:"wide"}),quarter:Fn({values:Ky,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Fn({values:Xy,defaultWidth:"wide"}),day:Fn({values:Zy,defaultWidth:"wide"}),dayPeriod:Fn({values:Jy,defaultWidth:"wide",formattingValues:Qy,defaultFormattingWidth:"wide"})};function Bn(t){return(e,n={})=>{const i=n.width,s=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],r=e.match(s);if(!r)return null;const a=r[0],o=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(o)?i1(o,u=>u.test(a)):n1(o,u=>u.test(a));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const h=e.slice(a.length);return{value:d,rest:h}}}function n1(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function i1(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function s1(t){return(e,n={})=>{const i=e.match(t.matchPattern);if(!i)return null;const s=i[0],r=e.match(t.parsePattern);if(!r)return null;let a=t.valueCallback?t.valueCallback(r[0]):r[0];a=n.valueCallback?n.valueCallback(a):a;const o=e.slice(s.length);return{value:a,rest:o}}}const r1=/^(\d+)(th|st|nd|rd)?/i,a1=/\d+/i,o1={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},l1={any:[/^b/i,/^(a|c)/i]},c1={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},d1={any:[/1/i,/2/i,/3/i,/4/i]},h1={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},u1={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},f1={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},m1={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},g1={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},p1={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},b1={ordinalNumber:s1({matchPattern:r1,parsePattern:a1,valueCallback:t=>parseInt(t,10)}),era:Bn({matchPatterns:o1,defaultMatchWidth:"wide",parsePatterns:l1,defaultParseWidth:"any"}),quarter:Bn({matchPatterns:c1,defaultMatchWidth:"wide",parsePatterns:d1,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Bn({matchPatterns:h1,defaultMatchWidth:"wide",parsePatterns:u1,defaultParseWidth:"any"}),day:Bn({matchPatterns:f1,defaultMatchWidth:"wide",parsePatterns:m1,defaultParseWidth:"any"}),dayPeriod:Bn({matchPatterns:g1,defaultMatchWidth:"any",parsePatterns:p1,defaultParseWidth:"any"})},x1={code:"en-US",formatDistance:zy,formatLong:Uy,formatRelative:Gy,localize:t1,match:b1,options:{weekStartsOn:0,firstWeekContainsDate:1}};function y1(t,e){const n=Ke(t,e==null?void 0:e.in);return Oy(n,Vy(n))+1}function v1(t,e){const n=Ke(t,e==null?void 0:e.in),i=+bs(n)-+Ry(n);return Math.round(i/Ah)+1}function Eh(t,e){var h,u,m,g;const n=Ke(t,e==null?void 0:e.in),i=n.getFullYear(),s=Es(),r=(e==null?void 0:e.firstWeekContainsDate)??((u=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:u.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(m=s.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,a=Dt((e==null?void 0:e.in)||t,0);a.setFullYear(i+1,0,r),a.setHours(0,0,0,0);const o=ui(a,e),c=Dt((e==null?void 0:e.in)||t,0);c.setFullYear(i,0,r),c.setHours(0,0,0,0);const d=ui(c,e);return+n>=+o?i+1:+n>=+d?i:i-1}function w1(t,e){var o,c,d,h;const n=Es(),i=(e==null?void 0:e.firstWeekContainsDate)??((c=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,s=Eh(t,e),r=Dt((e==null?void 0:e.in)||t,0);return r.setFullYear(s,0,i),r.setHours(0,0,0,0),ui(r,e)}function N1(t,e){const n=Ke(t,e==null?void 0:e.in),i=+ui(n,e)-+w1(n,e);return Math.round(i/Ah)+1}function K(t,e){const n=t<0?"-":"",i=Math.abs(t).toString().padStart(e,"0");return n+i}const yt={y(t,e){const n=t.getFullYear(),i=n>0?n:1-n;return K(e==="yy"?i%100:i,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):K(n+1,2)},d(t,e){return K(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return K(t.getHours()%12||12,e.length)},H(t,e){return K(t.getHours(),e.length)},m(t,e){return K(t.getMinutes(),e.length)},s(t,e){return K(t.getSeconds(),e.length)},S(t,e){const n=e.length,i=t.getMilliseconds(),s=Math.trunc(i*Math.pow(10,n-3));return K(s,e.length)}},cn={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Fl={G:function(t,e,n){const i=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const i=t.getFullYear(),s=i>0?i:1-i;return n.ordinalNumber(s,{unit:"year"})}return yt.y(t,e)},Y:function(t,e,n,i){const s=Eh(t,i),r=s>0?s:1-s;if(e==="YY"){const a=r%100;return K(a,2)}return e==="Yo"?n.ordinalNumber(r,{unit:"year"}):K(r,e.length)},R:function(t,e){const n=Dh(t);return K(n,e.length)},u:function(t,e){const n=t.getFullYear();return K(n,e.length)},Q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return K(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return K(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,e,n){const i=t.getMonth();switch(e){case"M":case"MM":return yt.M(t,e);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,e,n){const i=t.getMonth();switch(e){case"L":return String(i+1);case"LL":return K(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,e,n,i){const s=N1(t,i);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):K(s,e.length)},I:function(t,e,n){const i=v1(t);return e==="Io"?n.ordinalNumber(i,{unit:"week"}):K(i,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):yt.d(t,e)},D:function(t,e,n){const i=y1(t);return e==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):K(i,e.length)},E:function(t,e,n){const i=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,e,n,i){const s=t.getDay(),r=(s-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(r);case"ee":return K(r,2);case"eo":return n.ordinalNumber(r,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,i){const s=t.getDay(),r=(s-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(r);case"cc":return K(r,e.length);case"co":return n.ordinalNumber(r,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const i=t.getDay(),s=i===0?7:i;switch(e){case"i":return String(s);case"ii":return K(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const i=t.getHours();let s;switch(i===12?s=cn.noon:i===0?s=cn.midnight:s=i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const i=t.getHours();let s;switch(i>=17?s=cn.evening:i>=12?s=cn.afternoon:i>=4?s=cn.morning:s=cn.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let i=t.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return yt.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):yt.H(t,e)},K:function(t,e,n){const i=t.getHours()%12;return e==="Ko"?n.ordinalNumber(i,{unit:"hour"}):K(i,e.length)},k:function(t,e,n){let i=t.getHours();return i===0&&(i=24),e==="ko"?n.ordinalNumber(i,{unit:"hour"}):K(i,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):yt.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):yt.s(t,e)},S:function(t,e){return yt.S(t,e)},X:function(t,e,n){const i=t.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return Vl(i);case"XXXX":case"XX":return $t(i);case"XXXXX":case"XXX":default:return $t(i,":")}},x:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"x":return Vl(i);case"xxxx":case"xx":return $t(i);case"xxxxx":case"xxx":default:return $t(i,":")}},O:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Bl(i,":");case"OOOO":default:return"GMT"+$t(i,":")}},z:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Bl(i,":");case"zzzz":default:return"GMT"+$t(i,":")}},t:function(t,e,n){const i=Math.trunc(+t/1e3);return K(i,e.length)},T:function(t,e,n){return K(+t,e.length)}};function Bl(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),s=Math.trunc(i/60),r=i%60;return r===0?n+String(s):n+String(s)+e+K(r,2)}function Vl(t,e){return t%60===0?(t>0?"-":"+")+K(Math.abs(t)/60,2):$t(t,e)}function $t(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),s=K(Math.trunc(i/60),2),r=K(i%60,2);return n+s+e+r}const jl=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Lh=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},k1=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],i=n[1],s=n[2];if(!s)return jl(t,e);let r;switch(i){case"P":r=e.dateTime({width:"short"});break;case"PP":r=e.dateTime({width:"medium"});break;case"PPP":r=e.dateTime({width:"long"});break;case"PPPP":default:r=e.dateTime({width:"full"});break}return r.replace("{{date}}",jl(i,e)).replace("{{time}}",Lh(s,e))},_1={p:Lh,P:k1},S1=/^D+$/,C1=/^Y+$/,P1=["D","DD","YY","YYYY"];function M1(t){return S1.test(t)}function T1(t){return C1.test(t)}function A1(t,e,n){const i=D1(t,e,n);if(console.warn(i),P1.includes(t))throw new RangeError(i)}function D1(t,e,n){const i=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const E1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,L1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,I1=/^'([^]*?)'?$/,O1=/''/g,R1=/[a-zA-Z]/;function zl(t,e,n){var h,u,m,g,p,b,y,x;const i=Es(),s=(n==null?void 0:n.locale)??i.locale??x1,r=(n==null?void 0:n.firstWeekContainsDate)??((u=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:u.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(m=i.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((b=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:b.weekStartsOn)??i.weekStartsOn??((x=(y=i.locale)==null?void 0:y.options)==null?void 0:x.weekStartsOn)??0,o=Ke(t,n==null?void 0:n.in);if(!By(o))throw new RangeError("Invalid time value");let c=e.match(L1).map(N=>{const w=N[0];if(w==="p"||w==="P"){const k=_1[w];return k(N,s.formatLong)}return N}).join("").match(E1).map(N=>{if(N==="''")return{isToken:!1,value:"'"};const w=N[0];if(w==="'")return{isToken:!1,value:F1(N)};if(Fl[w])return{isToken:!0,value:N};if(w.match(R1))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:N}});s.localize.preprocessor&&(c=s.localize.preprocessor(o,c));const d={firstWeekContainsDate:r,weekStartsOn:a,locale:s};return c.map(N=>{if(!N.isToken)return N.value;const w=N.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&T1(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&M1(w))&&A1(w,e,String(t));const k=Fl[w[0]];return k(o,w,s.localize,d)}).join("")}function F1(t){const e=t.match(I1);return e?e[1].replace(O1,"'"):t}const B1=()=>{var g,p,b,y;const[t,e]=v.useState(null),[n,i]=v.useState([]),[s,r]=v.useState(!0),[a,o]=v.useState({});v.useState({startDate:zl(new Date(new Date().setMonth(new Date().getMonth()-3)),"yyyy-MM-dd"),endDate:zl(new Date,"yyyy-MM-dd")}),v.useEffect(()=>{c()},[]);const c=async()=>{try{r(!0);const x=await Pe.getSummary();e(x.summary),i(x.charts.monthlyTrends)}catch(x){console.error("Error loading dashboard data:",x)}finally{r(!1)}},d=()=>{console.log("Exporting data...")};if(s)return l("div",{className:"flex items-center justify-center h-96",children:f("div",{className:"text-center",children:[l("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),l("p",{className:"mt-4 text-muted-foreground",children:"Loading payment data..."})]})});const h=((g=t==null?void 0:t.totalsByCurrency.find(x=>x.currency==="ILS"))==null?void 0:g.total_amount)||0,u=((p=t==null?void 0:t.totalsByCurrency.find(x=>x.currency==="USD"))==null?void 0:p.total_amount)||0,m=(t==null?void 0:t.totalsByCurrency.reduce((x,N)=>x+N.unique_clients,0))||0;return t!=null&&t.totalsByCurrency.reduce((x,N)=>x+N.transaction_count,0),f("div",{className:"space-y-6",children:[f("div",{className:"flex justify-between items-center",children:[f("div",{children:[l("h1",{className:"text-3xl font-bold",children:"Payments Dashboard"}),l("p",{className:"text-muted-foreground",children:"Track and analyze Spectra/Booksy payments"})]}),f(me,{onClick:d,variant:"outline",children:[l(Zm,{className:"h-4 w-4 mr-2"}),"Export Data"]})]}),f("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[f(lt,{children:[f(ct,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l(dt,{className:"text-sm font-medium",children:"Total Revenue (ILS)"}),l(gr,{className:"h-4 w-4 text-muted-foreground"})]}),f(ht,{children:[l("div",{className:"text-2xl font-bold",children:Pe.formatCurrency(h,"ILS")}),f("p",{className:"text-xs text-muted-foreground",children:[((b=t==null?void 0:t.totalsByCurrency.find(x=>x.currency==="ILS"))==null?void 0:b.transaction_count)||0," transactions"]})]})]}),f(lt,{children:[f(ct,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l(dt,{className:"text-sm font-medium",children:"Total Revenue (USD)"}),l(gr,{className:"h-4 w-4 text-muted-foreground"})]}),f(ht,{children:[l("div",{className:"text-2xl font-bold",children:Pe.formatCurrency(u,"USD")}),f("p",{className:"text-xs text-muted-foreground",children:[((y=t==null?void 0:t.totalsByCurrency.find(x=>x.currency==="USD"))==null?void 0:y.transaction_count)||0," transactions"]})]})]}),f(lt,{children:[f(ct,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l(dt,{className:"text-sm font-medium",children:"Total Clients"}),l(Ad,{className:"h-4 w-4 text-muted-foreground"})]}),f(ht,{children:[l("div",{className:"text-2xl font-bold",children:m}),l("p",{className:"text-xs text-muted-foreground",children:"Active paying clients"})]})]}),f(lt,{children:[f(ct,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l(dt,{className:"text-sm font-medium",children:"Countries"}),l(Td,{className:"h-4 w-4 text-muted-foreground"})]}),f(ht,{children:[l("div",{className:"text-2xl font-bold",children:(t==null?void 0:t.countrySummary.length)||0}),l("p",{className:"text-xs text-muted-foreground",children:"Global presence"})]})]})]}),f(wh,{defaultValue:"overview",className:"space-y-4",children:[f(Nh,{children:[l(Yn,{value:"overview",children:"Overview"}),l(Yn,{value:"payments",children:"Payments"}),l(Yn,{value:"clients",children:"Top Clients"}),l(Yn,{value:"countries",children:"Countries"})]}),f(Gn,{value:"overview",className:"space-y-4",children:[f(lt,{children:[f(ct,{children:[l(dt,{children:"Monthly Revenue Trends"}),l(Yi,{children:"Revenue breakdown by currency over time"})]}),l(ht,{children:l(Dy,{data:n})})]}),f(lt,{children:[f(ct,{children:[l(dt,{children:"Recent Payments"}),l(Yi,{children:"Latest 5 transactions"})]}),l(ht,{children:l("div",{className:"space-y-4",children:t==null?void 0:t.recentPayments.map((x,N)=>f("div",{className:"flex items-center justify-between p-2 hover:bg-muted/50 rounded",children:[f("div",{children:[l("p",{className:"font-medium",children:x.client}),f("p",{className:"text-sm text-muted-foreground",children:[Pe.formatDate(x.payment_date)," â€¢ ",x.country]})]}),l("div",{className:"text-right",children:l("p",{className:"font-medium",children:Pe.formatCurrency(x.amount,x.currency)})})]},N))})})]})]}),l(Gn,{value:"payments",children:l(Ay,{filters:a})}),l(Gn,{value:"clients",className:"space-y-4",children:f(lt,{children:[f(ct,{children:[l(dt,{children:"Top Paying Clients"}),l(Yi,{children:"Clients with highest total payments"})]}),l(ht,{children:l("div",{className:"space-y-4",children:t==null?void 0:t.topClients.map((x,N)=>f("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[f("div",{className:"space-y-1",children:[l("p",{className:"font-medium",children:x.client}),f("div",{className:"flex gap-4 text-sm text-muted-foreground",children:[f("span",{children:[x.payment_count," payments"]}),f("span",{children:["Avg: ",Pe.formatCurrency(x.avg_amount,x.currency)]}),f("span",{children:["Last: ",Pe.formatDate(x.last_payment)]})]})]}),l("div",{className:"text-right",children:l("p",{className:"text-lg font-bold",children:Pe.formatCurrency(x.total_amount,x.currency)})})]},N))})})]})}),l(Gn,{value:"countries",className:"space-y-4",children:f(lt,{children:[f(ct,{children:[l(dt,{children:"Revenue by Country"}),l(Yi,{children:"Geographic distribution of payments"})]}),l(ht,{children:l("div",{className:"space-y-4",children:t==null?void 0:t.countrySummary.map((x,N)=>f("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[f("div",{className:"space-y-1",children:[l("p",{className:"font-medium",children:x.country}),f("div",{className:"flex gap-4 text-sm text-muted-foreground",children:[f("span",{children:[x.unique_clients," clients"]}),f("span",{children:[x.transaction_count," transactions"]}),f("span",{children:["Currency: ",x.currency]})]})]}),l("div",{className:"text-right",children:l("p",{className:"text-lg font-bold",children:Pe.formatCurrency(x.total_amount,x.currency)})})]},N))})})]})})]})]})},Ih=v.createContext({});function V1(t){const e=v.useRef(null);return e.current===null&&(e.current=t()),e.current}const va=typeof window<"u",j1=va?v.useLayoutEffect:v.useEffect,wa=v.createContext(null);function Na(t,e){t.indexOf(e)===-1&&t.push(e)}function ka(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const mt=(t,e,n)=>n>e?e:n<t?t:n;function Mr(t,e){return e?`${t}. For more information and steps for solving, visit https://motion.dev/troubleshooting/${e}`:t}let _n=()=>{},gt=()=>{};_n=(t,e,n)=>{!t&&typeof console<"u"&&console.warn(Mr(e,n))},gt=(t,e,n)=>{if(!t)throw new Error(Mr(e,n))};const pt={},Oh=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Rh(t){return typeof t=="object"&&t!==null}const Fh=t=>/^0[^.\s]+$/u.test(t);function _a(t){let e;return()=>(e===void 0&&(e=t()),e)}const ze=t=>t,z1=(t,e)=>n=>e(t(n)),_i=(...t)=>t.reduce(z1),fi=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Sa{constructor(){this.subscriptions=[]}add(e){return Na(this.subscriptions,e),()=>ka(this.subscriptions,e)}notify(e,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,i);else for(let r=0;r<s;r++){const a=this.subscriptions[r];a&&a(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qe=t=>t*1e3,tt=t=>t/1e3;function Bh(t,e){return e?t*(1e3/e):0}const Wl=new Set;function Ca(t,e,n){t||Wl.has(e)||(console.warn(Mr(e,n)),Wl.add(e))}const Vh=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,W1=1e-7,H1=12;function $1(t,e,n,i,s){let r,a,o=0;do a=e+(n-e)/2,r=Vh(a,i,s)-t,r>0?n=a:e=a;while(Math.abs(r)>W1&&++o<H1);return a}function Si(t,e,n,i){if(t===e&&n===i)return ze;const s=r=>$1(r,0,1,t,n);return r=>r===0||r===1?r:Vh(s(r),e,i)}const jh=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,zh=t=>e=>1-t(1-e),Wh=Si(.33,1.53,.69,.99),Pa=zh(Wh),Hh=jh(Pa),$h=t=>(t*=2)<1?.5*Pa(t):.5*(2-Math.pow(2,-10*(t-1))),Ma=t=>1-Math.sin(Math.acos(t)),Uh=zh(Ma),Yh=jh(Ma),U1=Si(.42,0,1,1),Y1=Si(0,0,.58,1),Gh=Si(.42,0,.58,1),G1=t=>Array.isArray(t)&&typeof t[0]!="number",qh=t=>Array.isArray(t)&&typeof t[0]=="number",Hl={linear:ze,easeIn:U1,easeInOut:Gh,easeOut:Y1,circIn:Ma,circInOut:Yh,circOut:Uh,backIn:Pa,backInOut:Hh,backOut:Wh,anticipate:$h},q1=t=>typeof t=="string",$l=t=>{if(qh(t)){gt(t.length===4,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");const[e,n,i,s]=t;return Si(e,n,i,s)}else if(q1(t))return gt(Hl[t]!==void 0,`Invalid easing type '${t}'`,"invalid-easing-type"),Hl[t];return t},Gi=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Ul={value:null,addProjectionMetrics:null};function K1(t,e){let n=new Set,i=new Set,s=!1,r=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},c=0;function d(u){a.has(u)&&(h.schedule(u),t()),c++,u(o)}const h={schedule:(u,m=!1,g=!1)=>{const b=g&&s?n:i;return m&&a.add(u),b.has(u)||b.add(u),u},cancel:u=>{i.delete(u),a.delete(u)},process:u=>{if(o=u,s){r=!0;return}s=!0,[n,i]=[i,n],n.forEach(d),e&&Ul.value&&Ul.value.frameloop[e].push(c),c=0,n.clear(),s=!1,r&&(r=!1,h.process(u))}};return h}const X1=40;function Kh(t,e){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},r=()=>n=!0,a=Gi.reduce((w,k)=>(w[k]=K1(r,e?k:void 0),w),{}),{setup:o,read:c,resolveKeyframes:d,preUpdate:h,update:u,preRender:m,render:g,postRender:p}=a,b=()=>{const w=pt.useManualTiming?s.timestamp:performance.now();n=!1,pt.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(w-s.timestamp,X1),1)),s.timestamp=w,s.isProcessing=!0,o.process(s),c.process(s),d.process(s),h.process(s),u.process(s),m.process(s),g.process(s),p.process(s),s.isProcessing=!1,n&&e&&(i=!1,t(b))},y=()=>{n=!0,i=!0,s.isProcessing||t(b)};return{schedule:Gi.reduce((w,k)=>{const _=a[k];return w[k]=(C,D=!1,S=!1)=>(n||y(),_.schedule(C,D,S)),w},{}),cancel:w=>{for(let k=0;k<Gi.length;k++)a[Gi[k]].cancel(w)},state:s,steps:a}}const{schedule:re,cancel:Et,state:be,steps:Xs}=Kh(typeof requestAnimationFrame<"u"?requestAnimationFrame:ze,!0);let ss;function Z1(){ss=void 0}const De={now:()=>(ss===void 0&&De.set(be.isProcessing||pt.useManualTiming?be.timestamp:performance.now()),ss),set:t=>{ss=t,queueMicrotask(Z1)}},Xh=t=>e=>typeof e=="string"&&e.startsWith(t),Ta=Xh("--"),J1=Xh("var(--"),Aa=t=>J1(t)?Q1.test(t.split("/*")[0].trim()):!1,Q1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Sn={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},mi={...Sn,transform:t=>mt(0,1,t)},qi={...Sn,default:1},ni=t=>Math.round(t*1e5)/1e5,Da=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ev(t){return t==null}const tv=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ea=(t,e)=>n=>!!(typeof n=="string"&&tv.test(n)&&n.startsWith(t)||e&&!ev(n)&&Object.prototype.hasOwnProperty.call(n,e)),Zh=(t,e,n)=>i=>{if(typeof i!="string")return i;const[s,r,a,o]=i.match(Da);return{[t]:parseFloat(s),[e]:parseFloat(r),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},nv=t=>mt(0,255,t),Zs={...Sn,transform:t=>Math.round(nv(t))},qt={test:Ea("rgb","red"),parse:Zh("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Zs.transform(t)+", "+Zs.transform(e)+", "+Zs.transform(n)+", "+ni(mi.transform(i))+")"};function iv(t){let e="",n="",i="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const Tr={test:Ea("#"),parse:iv,transform:qt.transform},Ci=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Nt=Ci("deg"),nt=Ci("%"),V=Ci("px"),sv=Ci("vh"),rv=Ci("vw"),Yl=(()=>({...nt,parse:t=>nt.parse(t)/100,transform:t=>nt.transform(t*100)}))(),un={test:Ea("hsl","hue"),parse:Zh("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+nt.transform(ni(e))+", "+nt.transform(ni(n))+", "+ni(mi.transform(i))+")"},he={test:t=>qt.test(t)||Tr.test(t)||un.test(t),parse:t=>qt.test(t)?qt.parse(t):un.test(t)?un.parse(t):Tr.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?qt.transform(t):un.transform(t),getAnimatableNone:t=>{const e=he.parse(t);return e.alpha=0,he.transform(e)}},av=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ov(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Da))==null?void 0:e.length)||0)+(((n=t.match(av))==null?void 0:n.length)||0)>0}const Jh="number",Qh="color",lv="var",cv="var(",Gl="${}",dv=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function gi(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},s=[];let r=0;const o=e.replace(dv,c=>(he.test(c)?(i.color.push(r),s.push(Qh),n.push(he.parse(c))):c.startsWith(cv)?(i.var.push(r),s.push(lv),n.push(c)):(i.number.push(r),s.push(Jh),n.push(parseFloat(c))),++r,Gl)).split(Gl);return{values:n,split:o,indexes:i,types:s}}function eu(t){return gi(t).values}function tu(t){const{split:e,types:n}=gi(t),i=e.length;return s=>{let r="";for(let a=0;a<i;a++)if(r+=e[a],s[a]!==void 0){const o=n[a];o===Jh?r+=ni(s[a]):o===Qh?r+=he.transform(s[a]):r+=s[a]}return r}}const hv=t=>typeof t=="number"?0:he.test(t)?he.getAnimatableNone(t):t;function uv(t){const e=eu(t);return tu(t)(e.map(hv))}const Lt={test:ov,parse:eu,createTransformer:tu,getAnimatableNone:uv};function Js(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function fv({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let s=0,r=0,a=0;if(!e)s=r=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,c=2*n-o;s=Js(c,o,t+1/3),r=Js(c,o,t),a=Js(c,o,t-1/3)}return{red:Math.round(s*255),green:Math.round(r*255),blue:Math.round(a*255),alpha:i}}function xs(t,e){return n=>n>0?e:t}const oe=(t,e,n)=>t+(e-t)*n,Qs=(t,e,n)=>{const i=t*t,s=n*(e*e-i)+i;return s<0?0:Math.sqrt(s)},mv=[Tr,qt,un],gv=t=>mv.find(e=>e.test(t));function ql(t){const e=gv(t);if(_n(!!e,`'${t}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!e)return!1;let n=e.parse(t);return e===un&&(n=fv(n)),n}const Kl=(t,e)=>{const n=ql(t),i=ql(e);if(!n||!i)return xs(t,e);const s={...n};return r=>(s.red=Qs(n.red,i.red,r),s.green=Qs(n.green,i.green,r),s.blue=Qs(n.blue,i.blue,r),s.alpha=oe(n.alpha,i.alpha,r),qt.transform(s))},Ar=new Set(["none","hidden"]);function pv(t,e){return Ar.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function bv(t,e){return n=>oe(t,e,n)}function La(t){return typeof t=="number"?bv:typeof t=="string"?Aa(t)?xs:he.test(t)?Kl:vv:Array.isArray(t)?nu:typeof t=="object"?he.test(t)?Kl:xv:xs}function nu(t,e){const n=[...t],i=n.length,s=t.map((r,a)=>La(r)(r,e[a]));return r=>{for(let a=0;a<i;a++)n[a]=s[a](r);return n}}function xv(t,e){const n={...t,...e},i={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(i[s]=La(t[s])(t[s],e[s]));return s=>{for(const r in i)n[r]=i[r](s);return n}}function yv(t,e){const n=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const r=e.types[s],a=t.indexes[r][i[r]],o=t.values[a]??0;n[s]=o,i[r]++}return n}const vv=(t,e)=>{const n=Lt.createTransformer(e),i=gi(t),s=gi(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?Ar.has(t)&&!s.values.length||Ar.has(e)&&!i.values.length?pv(t,e):_i(nu(yv(i,s),s.values),n):(_n(!0,`Complex values '${t}' and '${e}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),xs(t,e))};function iu(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?oe(t,e,n):La(t)(t,e)}const wv=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>re.update(e,n),stop:()=>Et(e),now:()=>be.isProcessing?be.timestamp:De.now()}},su=(t,e,n=10)=>{let i="";const s=Math.max(Math.round(e/n),2);for(let r=0;r<s;r++)i+=Math.round(t(r/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},ys=2e4;function Ia(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<ys;)e+=n,i=t.next(e);return e>=ys?1/0:e}function Nv(t,e=100,n){const i=n({...t,keyframes:[0,e]}),s=Math.min(Ia(i),ys);return{type:"keyframes",ease:r=>i.next(s*r).value/e,duration:tt(s)}}const kv=5;function ru(t,e,n){const i=Math.max(e-kv,0);return Bh(n-t(i),e-i)}const ae={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},er=.001;function _v({duration:t=ae.duration,bounce:e=ae.bounce,velocity:n=ae.velocity,mass:i=ae.mass}){let s,r;_n(t<=qe(ae.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let a=1-e;a=mt(ae.minDamping,ae.maxDamping,a),t=mt(ae.minDuration,ae.maxDuration,tt(t)),a<1?(s=d=>{const h=d*a,u=h*t,m=h-n,g=Dr(d,a),p=Math.exp(-u);return er-m/g*p},r=d=>{const u=d*a*t,m=u*n+n,g=Math.pow(a,2)*Math.pow(d,2)*t,p=Math.exp(-u),b=Dr(Math.pow(d,2),a);return(-s(d)+er>0?-1:1)*((m-g)*p)/b}):(s=d=>{const h=Math.exp(-d*t),u=(d-n)*t+1;return-er+h*u},r=d=>{const h=Math.exp(-d*t),u=(n-d)*(t*t);return h*u});const o=5/t,c=Cv(s,r,o);if(t=qe(t),isNaN(c))return{stiffness:ae.stiffness,damping:ae.damping,duration:t};{const d=Math.pow(c,2)*i;return{stiffness:d,damping:a*2*Math.sqrt(i*d),duration:t}}}const Sv=12;function Cv(t,e,n){let i=n;for(let s=1;s<Sv;s++)i=i-t(i)/e(i);return i}function Dr(t,e){return t*Math.sqrt(1-e*e)}const Pv=["duration","bounce"],Mv=["stiffness","damping","mass"];function Xl(t,e){return e.some(n=>t[n]!==void 0)}function Tv(t){let e={velocity:ae.velocity,stiffness:ae.stiffness,damping:ae.damping,mass:ae.mass,isResolvedFromDuration:!1,...t};if(!Xl(t,Mv)&&Xl(t,Pv))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,r=2*mt(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:ae.mass,stiffness:s,damping:r}}else{const n=_v(t);e={...e,...n,mass:ae.mass},e.isResolvedFromDuration=!0}return e}function vs(t=ae.visualDuration,e=ae.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:s}=n;const r=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:r},{stiffness:c,damping:d,mass:h,duration:u,velocity:m,isResolvedFromDuration:g}=Tv({...n,velocity:-tt(n.velocity||0)}),p=m||0,b=d/(2*Math.sqrt(c*h)),y=a-r,x=tt(Math.sqrt(c/h)),N=Math.abs(y)<5;i||(i=N?ae.restSpeed.granular:ae.restSpeed.default),s||(s=N?ae.restDelta.granular:ae.restDelta.default);let w;if(b<1){const _=Dr(x,b);w=C=>{const D=Math.exp(-b*x*C);return a-D*((p+b*x*y)/_*Math.sin(_*C)+y*Math.cos(_*C))}}else if(b===1)w=_=>a-Math.exp(-x*_)*(y+(p+x*y)*_);else{const _=x*Math.sqrt(b*b-1);w=C=>{const D=Math.exp(-b*x*C),S=Math.min(_*C,300);return a-D*((p+b*x*y)*Math.sinh(S)+_*y*Math.cosh(S))/_}}const k={calculatedDuration:g&&u||null,next:_=>{const C=w(_);if(g)o.done=_>=u;else{let D=_===0?p:0;b<1&&(D=_===0?qe(p):ru(w,_,C));const S=Math.abs(D)<=i,M=Math.abs(a-C)<=s;o.done=S&&M}return o.value=o.done?a:C,o},toString:()=>{const _=Math.min(Ia(k),ys),C=su(D=>k.next(_*D).value,_,30);return _+"ms "+C},toTransition:()=>{}};return k}vs.applyToOptions=t=>{const e=Nv(t,100,vs);return t.ease=e.ease,t.duration=qe(e.duration),t.type="keyframes",t};function Er({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:r=500,modifyTarget:a,min:o,max:c,restDelta:d=.5,restSpeed:h}){const u=t[0],m={done:!1,value:u},g=S=>o!==void 0&&S<o||c!==void 0&&S>c,p=S=>o===void 0?c:c===void 0||Math.abs(o-S)<Math.abs(c-S)?o:c;let b=n*e;const y=u+b,x=a===void 0?y:a(y);x!==y&&(b=x-u);const N=S=>-b*Math.exp(-S/i),w=S=>x+N(S),k=S=>{const M=N(S),P=w(S);m.done=Math.abs(M)<=d,m.value=m.done?x:P};let _,C;const D=S=>{g(m.value)&&(_=S,C=vs({keyframes:[m.value,p(m.value)],velocity:ru(w,S,m.value),damping:s,stiffness:r,restDelta:d,restSpeed:h}))};return D(0),{calculatedDuration:null,next:S=>{let M=!1;return!C&&_===void 0&&(M=!0,k(S),D(S)),_!==void 0&&S>=_?C.next(S-_):(!M&&k(S),m)}}}function Av(t,e,n){const i=[],s=n||pt.mix||iu,r=t.length-1;for(let a=0;a<r;a++){let o=s(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||ze:e;o=_i(c,o)}i.push(o)}return i}function Dv(t,e,{clamp:n=!0,ease:i,mixer:s}={}){const r=t.length;if(gt(r===e.length,"Both input and output ranges must be the same length","range-length"),r===1)return()=>e[0];if(r===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[r-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=Av(e,i,s),c=o.length,d=h=>{if(a&&h<t[0])return e[0];let u=0;if(c>1)for(;u<t.length-2&&!(h<t[u+1]);u++);const m=fi(t[u],t[u+1],h);return o[u](m)};return n?h=>d(mt(t[0],t[r-1],h)):d}function Ev(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const s=fi(0,e,i);t.push(oe(n,1,s))}}function Lv(t){const e=[0];return Ev(e,t.length-1),e}function Iv(t,e){return t.map(n=>n*e)}function Ov(t,e){return t.map(()=>e||Gh).splice(0,t.length-1)}function fn({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const s=G1(i)?i.map($l):$l(i),r={done:!1,value:e[0]},a=Iv(n&&n.length===e.length?n:Lv(e),t),o=Dv(a,e,{ease:Array.isArray(s)?s:Ov(e,s)});return{calculatedDuration:t,next:c=>(r.value=o(c),r.done=c>=t,r)}}const Rv=t=>t!==null;function Oa(t,{repeat:e,repeatType:n="loop"},i,s=1){const r=t.filter(Rv),o=s<0||e&&n!=="loop"&&e%2===1?0:r.length-1;return!o||i===void 0?r[o]:i}const Fv={decay:Er,inertia:Er,tween:fn,keyframes:fn,spring:vs};function au(t){typeof t.type=="string"&&(t.type=Fv[t.type])}class Ra{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Bv=t=>t/100;class Fa extends Ra{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,s;const{motionValue:n}=this.options;n&&n.updatedAt!==De.now()&&this.tick(De.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(i=this.options).onStop)==null||s.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;au(e);const{type:n=fn,repeat:i=0,repeatDelay:s=0,repeatType:r,velocity:a=0}=e;let{keyframes:o}=e;const c=n||fn;c!==fn&&gt(o.length<=2,`Only two keyframes currently supported with spring and inertia animations. Trying to animate ${o}`,"spring-two-frames"),c!==fn&&typeof o[0]!="number"&&(this.mixKeyframes=_i(Bv,iu(o[0],o[1])),o=[0,100]);const d=c({...e,keyframes:o});r==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...o].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=Ia(d));const{calculatedDuration:h}=d;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:s,mixKeyframes:r,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:c}=this;if(this.startTime===null)return i.next(0);const{delay:d=0,keyframes:h,repeat:u,repeatType:m,repeatDelay:g,type:p,onUpdate:b,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const x=this.currentTime-d*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?x<0:x>s;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let w=this.currentTime,k=i;if(u){const S=Math.min(this.currentTime,s)/o;let M=Math.floor(S),P=S%1;!P&&S>=1&&(P=1),P===1&&M--,M=Math.min(M,u+1),!!(M%2)&&(m==="reverse"?(P=1-P,g&&(P-=g/o)):m==="mirror"&&(k=a)),w=mt(0,1,P)*o}const _=N?{done:!1,value:h[0]}:k.next(w);r&&(_.value=r(_.value));let{done:C}=_;!N&&c!==null&&(C=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return D&&p!==Er&&(_.value=Oa(h,this.options,y,this.speed)),b&&b(_.value),D&&this.finish(),_}then(e,n){return this.finished.then(e,n)}get duration(){return tt(this.calculatedDuration)}get time(){return tt(this.currentTime)}set time(e){var n;e=qe(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(De.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=tt(this.currentTime))}play(){var s,r;if(this.isStopped)return;const{driver:e=wv,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(r=(s=this.options).onPlay)==null||r.call(s);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(De.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function Vv(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Kt=t=>t*180/Math.PI,Lr=t=>{const e=Kt(Math.atan2(t[1],t[0]));return Ir(e)},jv={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Lr,rotateZ:Lr,skewX:t=>Kt(Math.atan(t[1])),skewY:t=>Kt(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ir=t=>(t=t%360,t<0&&(t+=360),t),Zl=Lr,Jl=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Ql=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),zv={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Jl,scaleY:Ql,scale:t=>(Jl(t)+Ql(t))/2,rotateX:t=>Ir(Kt(Math.atan2(t[6],t[5]))),rotateY:t=>Ir(Kt(Math.atan2(-t[2],t[0]))),rotateZ:Zl,rotate:Zl,skewX:t=>Kt(Math.atan(t[4])),skewY:t=>Kt(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Or(t){return t.includes("scale")?1:0}function Rr(t,e){if(!t||t==="none")return Or(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=zv,s=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=jv,s=o}if(!s)return Or(e);const r=i[e],a=s[1].split(",").map(Hv);return typeof r=="function"?r(a):a[r]}const Wv=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Rr(n,e)};function Hv(t){return parseFloat(t.trim())}const Cn=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Pn=(()=>new Set(Cn))(),ec=t=>t===Sn||t===V,$v=new Set(["x","y","z"]),Uv=Cn.filter(t=>!$v.has(t));function Yv(t){const e=[];return Uv.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Jt={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Rr(e,"x"),y:(t,{transform:e})=>Rr(e,"y")};Jt.translateX=Jt.x;Jt.translateY=Jt.y;const Qt=new Set;let Fr=!1,Br=!1,Vr=!1;function ou(){if(Br){const t=Array.from(Qt).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const s=Yv(i);s.length&&(n.set(i,s),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([r,a])=>{var o;(o=i.getValue(r))==null||o.set(a)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Br=!1,Fr=!1,Qt.forEach(t=>t.complete(Vr)),Qt.clear()}function lu(){Qt.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Br=!0)})}function Gv(){Vr=!0,lu(),ou(),Vr=!1}class Ba{constructor(e,n,i,s,r,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=s,this.element=r,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Qt.add(this),Fr||(Fr=!0,re.read(lu),re.resolveKeyframes(ou))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:s}=this;if(e[0]===null){const r=s==null?void 0:s.get(),a=e[e.length-1];if(r!==void 0)e[0]=r;else if(i&&n){const o=i.readValue(n,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),s&&r===void 0&&s.set(e[0])}Vv(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Qt.delete(this)}cancel(){this.state==="scheduled"&&(Qt.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const qv=t=>t.startsWith("--");function Kv(t,e,n){qv(e)?t.style.setProperty(e,n):t.style[e]=n}const Xv=_a(()=>window.ScrollTimeline!==void 0),Zv={};function Jv(t,e){const n=_a(t);return()=>Zv[e]??n()}const cu=Jv(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Xn=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,tc={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xn([0,.65,.55,1]),circOut:Xn([.55,0,1,.45]),backIn:Xn([.31,.01,.66,-.59]),backOut:Xn([.33,1.53,.69,.99])};function du(t,e){if(t)return typeof t=="function"?cu()?su(t,e):"ease-out":qh(t)?Xn(t):Array.isArray(t)?t.map(n=>du(n,e)||tc.easeOut):tc[t]}function Qv(t,e,n,{delay:i=0,duration:s=300,repeat:r=0,repeatType:a="loop",ease:o="easeOut",times:c}={},d=void 0){const h={[e]:n};c&&(h.offset=c);const u=du(o,s);Array.isArray(u)&&(h.easing=u);const m={delay:i,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:r+1,direction:a==="reverse"?"alternate":"normal"};return d&&(m.pseudoElement=d),t.animate(h,m)}function hu(t){return typeof t=="function"&&"applyToOptions"in t}function ew({type:t,...e}){return hu(t)&&cu()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class tw extends Ra{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:s,pseudoElement:r,allowFlatten:a=!1,finalKeyframe:o,onComplete:c}=e;this.isPseudoElement=!!r,this.allowFlatten=a,this.options=e,gt(typeof e.type!="string",`Mini animate() doesn't support "type" as a string.`,"mini-spring");const d=ew(e);this.animation=Qv(n,i,s,d,r),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const h=Oa(s,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(h):Kv(n,i,h),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return tt(Number(e))}get time(){return tt(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=qe(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Xv()?(this.animation.timeline=e,ze):n(this)}}const uu={anticipate:$h,backInOut:Hh,circInOut:Yh};function nw(t){return t in uu}function iw(t){typeof t.ease=="string"&&nw(t.ease)&&(t.ease=uu[t.ease])}const nc=10;class sw extends tw{constructor(e){iw(e),au(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:s,element:r,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const o=new Fa({...a,autoplay:!1}),c=qe(this.finishedTime??this.time);n.setWithVelocity(o.sample(c-nc).value,o.sample(c).value,nc),o.stop()}}const ic=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Lt.test(t)||t==="0")&&!t.startsWith("url("));function rw(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function aw(t,e,n,i){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const r=t[t.length-1],a=ic(s,e),o=ic(r,e);return _n(a===o,`You are trying to animate ${e} from "${s}" to "${r}". "${a?r:s}" is not an animatable value.`,"value-not-animatable"),!a||!o?!1:rw(t)||(n==="spring"||hu(n))&&i}const ow=new Set(["opacity","clipPath","filter","transform"]),lw=_a(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function cw(t){var h;const{motionValue:e,name:n,repeatDelay:i,repeatType:s,damping:r,type:a}=t;if(!(((h=e==null?void 0:e.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return lw()&&n&&ow.has(n)&&(n!=="transform"||!d)&&!c&&!i&&s!=="mirror"&&r!==0&&a!=="inertia"}const dw=40;class hw extends Ra{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:a="loop",keyframes:o,name:c,motionValue:d,element:h,...u}){var p;super(),this.stop=()=>{var b,y;this._animation&&(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=De.now();const m={autoplay:e,delay:n,type:i,repeat:s,repeatDelay:r,repeatType:a,name:c,motionValue:d,element:h,...u},g=(h==null?void 0:h.KeyframeResolver)||Ba;this.keyframeResolver=new g(o,(b,y,x)=>this.onKeyframesResolved(b,y,m,!x),c,d,h),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(e,n,i,s){this.keyframeResolver=void 0;const{name:r,type:a,velocity:o,delay:c,isHandoff:d,onUpdate:h}=i;this.resolvedAt=De.now(),aw(e,r,a,o)||((pt.instantAnimations||!c)&&(h==null||h(Oa(e,i,n))),e[0]=e[e.length-1],i.duration=0,i.repeat=0);const m={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>dw?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},g=!d&&cw(m)?new sw({...m,element:m.motionValue.owner.current}):new Fa(m);g.finished.then(()=>this.notifyFinished()).catch(ze),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Gv()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const uw=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fw(t){const e=uw.exec(t);if(!e)return[,];const[,n,i,s]=e;return[`--${n??i}`,s]}const mw=4;function fu(t,e,n=1){gt(n<=mw,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`,"max-css-var-depth");const[i,s]=fw(t);if(!i)return;const r=window.getComputedStyle(e).getPropertyValue(i);if(r){const a=r.trim();return Oh(a)?parseFloat(a):a}return Aa(s)?fu(s,e,n+1):s}function Va(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const mu=new Set(["width","height","top","left","right","bottom",...Cn]),gw={test:t=>t==="auto",parse:t=>t},gu=t=>e=>e.test(t),pu=[Sn,V,nt,Nt,rv,sv,gw],sc=t=>pu.find(gu(t));function pw(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Fh(t):!0}const bw=new Set(["brightness","contrast","saturate","opacity"]);function xw(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Da)||[];if(!i)return t;const s=n.replace(i,"");let r=bw.has(e)?1:0;return i!==n&&(r*=100),e+"("+r+s+")"}const yw=/\b([a-z-]*)\(.*?\)/gu,jr={...Lt,getAnimatableNone:t=>{const e=t.match(yw);return e?e.map(xw).join(" "):t}},rc={...Sn,transform:Math.round},vw={rotate:Nt,rotateX:Nt,rotateY:Nt,rotateZ:Nt,scale:qi,scaleX:qi,scaleY:qi,scaleZ:qi,skew:Nt,skewX:Nt,skewY:Nt,distance:V,translateX:V,translateY:V,translateZ:V,x:V,y:V,z:V,perspective:V,transformPerspective:V,opacity:mi,originX:Yl,originY:Yl,originZ:V},ja={borderWidth:V,borderTopWidth:V,borderRightWidth:V,borderBottomWidth:V,borderLeftWidth:V,borderRadius:V,radius:V,borderTopLeftRadius:V,borderTopRightRadius:V,borderBottomRightRadius:V,borderBottomLeftRadius:V,width:V,maxWidth:V,height:V,maxHeight:V,top:V,right:V,bottom:V,left:V,padding:V,paddingTop:V,paddingRight:V,paddingBottom:V,paddingLeft:V,margin:V,marginTop:V,marginRight:V,marginBottom:V,marginLeft:V,backgroundPositionX:V,backgroundPositionY:V,...vw,zIndex:rc,fillOpacity:mi,strokeOpacity:mi,numOctaves:rc},ww={...ja,color:he,backgroundColor:he,outlineColor:he,fill:he,stroke:he,borderColor:he,borderTopColor:he,borderRightColor:he,borderBottomColor:he,borderLeftColor:he,filter:jr,WebkitFilter:jr},bu=t=>ww[t];function xu(t,e){let n=bu(t);return n!==jr&&(n=Lt),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Nw=new Set(["auto","none","0"]);function kw(t,e,n){let i=0,s;for(;i<t.length&&!s;){const r=t[i];typeof r=="string"&&!Nw.has(r)&&gi(r).values.length&&(s=t[i]),i++}if(s&&n)for(const r of e)t[r]=xu(n,s)}class _w extends Ba{constructor(e,n,i,s,r){super(e,n,i,s,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),Aa(d))){const h=fu(d,n.current);h!==void 0&&(e[c]=h),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!mu.has(i)||e.length!==2)return;const[s,r]=e,a=sc(s),o=sc(r);if(a!==o)if(ec(a)&&ec(o))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else Jt[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let s=0;s<e.length;s++)(e[s]===null||pw(e[s]))&&i.push(s);i.length&&kw(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Jt[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){var o;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const r=i.length-1,a=i[r];i[r]=Jt[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function Sw(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;e&&(i=e.current);const s=(n==null?void 0:n[t])??i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const yu=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Cw(t){return Rh(t)&&"offsetHeight"in t}const ac=30,Pw=t=>!isNaN(parseFloat(t));class Mw{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{var a,o;const r=De.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();s&&((o=this.events.renderRequest)==null||o.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=De.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Pw(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return Ca(!1,'value.onChange(callback) is deprecated. Switch to value.on("change", callback).'),this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Sa);const i=this.events[e].add(n);return e==="change"?()=>{i(),re.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=De.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ac)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ac);return Bh(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Nn(t,e){return new Mw(t,e)}const{schedule:za,cancel:ON}=Kh(queueMicrotask,!1),Ue={x:!1,y:!1};function vu(){return Ue.x||Ue.y}function Tw(t){return t==="x"||t==="y"?Ue[t]?null:(Ue[t]=!0,()=>{Ue[t]=!1}):Ue.x||Ue.y?null:(Ue.x=Ue.y=!0,()=>{Ue.x=Ue.y=!1})}function wu(t,e){const n=Sw(t),i=new AbortController,s={passive:!0,...e,signal:i.signal};return[n,s,()=>i.abort()]}function oc(t){return!(t.pointerType==="touch"||vu())}function Aw(t,e,n={}){const[i,s,r]=wu(t,n),a=o=>{if(!oc(o))return;const{target:c}=o,d=e(c,o);if(typeof d!="function"||!c)return;const h=u=>{oc(u)&&(d(u),c.removeEventListener("pointerleave",h))};c.addEventListener("pointerleave",h,s)};return i.forEach(o=>{o.addEventListener("pointerenter",a,s)}),r}const Nu=(t,e)=>e?t===e?!0:Nu(t,e.parentElement):!1,Wa=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Dw=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Ew(t){return Dw.has(t.tagName)||t.tabIndex!==-1}const rs=new WeakSet;function lc(t){return e=>{e.key==="Enter"&&t(e)}}function tr(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Lw=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=lc(()=>{if(rs.has(n))return;tr(n,"down");const s=lc(()=>{tr(n,"up")}),r=()=>tr(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",r,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function cc(t){return Wa(t)&&!vu()}function Iw(t,e,n={}){const[i,s,r]=wu(t,n),a=o=>{const c=o.currentTarget;if(!cc(o))return;rs.add(c);const d=e(c,o),h=(g,p)=>{window.removeEventListener("pointerup",u),window.removeEventListener("pointercancel",m),rs.has(c)&&rs.delete(c),cc(g)&&typeof d=="function"&&d(g,{success:p})},u=g=>{h(g,c===window||c===document||n.useGlobalTarget||Nu(c,g.target))},m=g=>{h(g,!1)};window.addEventListener("pointerup",u,s),window.addEventListener("pointercancel",m,s)};return i.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,s),Cw(o)&&(o.addEventListener("focus",d=>Lw(d,s)),!Ew(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),r}function ku(t){return Rh(t)&&"ownerSVGElement"in t}function Ow(t){return ku(t)&&t.tagName==="svg"}const we=t=>!!(t&&t.getVelocity),Rw=[...pu,he,Lt],Fw=t=>Rw.find(gu(t)),_u=v.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Bw(t=!0){const e=v.useContext(wa);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=e,r=v.useId();v.useEffect(()=>{if(t)return s(r)},[t]);const a=v.useCallback(()=>t&&i&&i(r),[r,i,t]);return!n&&i?[!1,a]:[!0]}const Su=v.createContext({strict:!1}),dc={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},kn={};for(const t in dc)kn[t]={isEnabled:e=>dc[t].some(n=>!!e[n])};function Vw(t){for(const e in t)kn[e]={...kn[e],...t[e]}}const jw=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ws(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||jw.has(t)}let Cu=t=>!ws(t);function zw(t){typeof t=="function"&&(Cu=e=>e.startsWith("on")?!ws(e):t(e))}try{zw(require("@emotion/is-prop-valid").default)}catch{}function Ww(t,e,n){const i={};for(const s in t)s==="values"&&typeof t.values=="object"||(Cu(s)||n===!0&&ws(s)||!e&&!ws(s)||t.draggable&&s.startsWith("onDrag"))&&(i[s]=t[s]);return i}const Ls=v.createContext({});function Is(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function pi(t){return typeof t=="string"||Array.isArray(t)}const Ha=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$a=["initial",...Ha];function Os(t){return Is(t.animate)||$a.some(e=>pi(t[e]))}function Pu(t){return!!(Os(t)||t.variants)}function Hw(t,e){if(Os(t)){const{initial:n,animate:i}=t;return{initial:n===!1||pi(n)?n:void 0,animate:pi(i)?i:void 0}}return t.inherit!==!1?e:{}}function $w(t){const{initial:e,animate:n}=Hw(t,v.useContext(Ls));return v.useMemo(()=>({initial:e,animate:n}),[hc(e),hc(n)])}function hc(t){return Array.isArray(t)?t.join(" "):t}const bi={};function Uw(t){for(const e in t)bi[e]=t[e],Ta(e)&&(bi[e].isCSSVariable=!0)}function Mu(t,{layout:e,layoutId:n}){return Pn.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!bi[t]||t==="opacity")}const Yw={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Gw=Cn.length;function qw(t,e,n){let i="",s=!0;for(let r=0;r<Gw;r++){const a=Cn[r],o=t[a];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(a.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||n){const d=yu(o,ja[a]);if(!c){s=!1;const h=Yw[a]||a;i+=`${h}(${d}) `}n&&(e[a]=d)}}return i=i.trim(),n?i=n(e,s?"":i):s&&(i="none"),i}function Ua(t,e,n){const{style:i,vars:s,transformOrigin:r}=t;let a=!1,o=!1;for(const c in e){const d=e[c];if(Pn.has(c)){a=!0;continue}else if(Ta(c)){s[c]=d;continue}else{const h=yu(d,ja[c]);c.startsWith("origin")?(o=!0,r[c]=h):i[c]=h}}if(e.transform||(a||n?i.transform=qw(e,t.transform,n):i.transform&&(i.transform="none")),o){const{originX:c="50%",originY:d="50%",originZ:h=0}=r;i.transformOrigin=`${c} ${d} ${h}`}}const Ya=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Tu(t,e,n){for(const i in e)!we(e[i])&&!Mu(i,n)&&(t[i]=e[i])}function Kw({transformTemplate:t},e){return v.useMemo(()=>{const n=Ya();return Ua(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Xw(t,e){const n=t.style||{},i={};return Tu(i,n,t),Object.assign(i,Kw(t,e)),i}function Zw(t,e){const n={},i=Xw(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const Jw={offset:"stroke-dashoffset",array:"stroke-dasharray"},Qw={offset:"strokeDashoffset",array:"strokeDasharray"};function e2(t,e,n=1,i=0,s=!0){t.pathLength=1;const r=s?Jw:Qw;t[r.offset]=V.transform(-i);const a=V.transform(e),o=V.transform(n);t[r.array]=`${a} ${o}`}function Au(t,{attrX:e,attrY:n,attrScale:i,pathLength:s,pathSpacing:r=1,pathOffset:a=0,...o},c,d,h){if(Ua(t,o,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:u,style:m}=t;u.transform&&(m.transform=u.transform,delete u.transform),(m.transform||u.transformOrigin)&&(m.transformOrigin=u.transformOrigin??"50% 50%",delete u.transformOrigin),m.transform&&(m.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete u.transformBox),e!==void 0&&(u.x=e),n!==void 0&&(u.y=n),i!==void 0&&(u.scale=i),s!==void 0&&e2(u,s,r,a,!1)}const Du=()=>({...Ya(),attrs:{}}),Eu=t=>typeof t=="string"&&t.toLowerCase()==="svg";function t2(t,e,n,i){const s=v.useMemo(()=>{const r=Du();return Au(r,e,Eu(i),t.transformTemplate,t.style),{...r.attrs,style:{...r.style}}},[e]);if(t.style){const r={};Tu(r,t.style,t),s.style={...r,...s.style}}return s}const n2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ga(t){return typeof t!="string"||t.includes("-")?!1:!!(n2.indexOf(t)>-1||/[A-Z]/u.test(t))}function i2(t,e,n,{latestValues:i},s,r=!1){const o=(Ga(t)?t2:Zw)(e,i,s,t),c=Ww(e,typeof t=="string",r),d=t!==v.Fragment?{...c,...o,ref:n}:{},{children:h}=e,u=v.useMemo(()=>we(h)?h.get():h,[h]);return v.createElement(t,{...d,children:u})}function uc(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function qa(t,e,n,i){if(typeof e=="function"){const[s,r]=uc(i);e=e(n!==void 0?n:t.custom,s,r)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,r]=uc(i);e=e(n!==void 0?n:t.custom,s,r)}return e}function as(t){return we(t)?t.get():t}function s2({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,s){return{latestValues:r2(n,i,s,t),renderState:e()}}function r2(t,e,n,i){const s={},r=i(t,{});for(const m in r)s[m]=as(r[m]);let{initial:a,animate:o}=t;const c=Os(t),d=Pu(t);e&&d&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let h=n?n.initial===!1:!1;h=h||a===!1;const u=h?o:a;if(u&&typeof u!="boolean"&&!Is(u)){const m=Array.isArray(u)?u:[u];for(let g=0;g<m.length;g++){const p=qa(t,m[g]);if(p){const{transitionEnd:b,transition:y,...x}=p;for(const N in x){let w=x[N];if(Array.isArray(w)){const k=h?w.length-1:0;w=w[k]}w!==null&&(s[N]=w)}for(const N in b)s[N]=b[N]}}}return s}const Lu=t=>(e,n)=>{const i=v.useContext(Ls),s=v.useContext(wa),r=()=>s2(t,e,i,s);return n?r():V1(r)};function Ka(t,e,n){var r;const{style:i}=t,s={};for(const a in i)(we(i[a])||e.style&&we(e.style[a])||Mu(a,t)||((r=n==null?void 0:n.getValue(a))==null?void 0:r.liveStyle)!==void 0)&&(s[a]=i[a]);return s}const a2=Lu({scrapeMotionValuesFromProps:Ka,createRenderState:Ya});function Iu(t,e,n){const i=Ka(t,e,n);for(const s in t)if(we(t[s])||we(e[s])){const r=Cn.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[r]=t[s]}return i}const o2=Lu({scrapeMotionValuesFromProps:Iu,createRenderState:Du}),l2=Symbol.for("motionComponentSymbol");function mn(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function c2(t,e,n){return v.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):mn(n)&&(n.current=i))},[e])}const Xa=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),d2="framerAppearId",Ou="data-"+Xa(d2),Ru=v.createContext({});function h2(t,e,n,i,s){var b,y;const{visualElement:r}=v.useContext(Ls),a=v.useContext(Su),o=v.useContext(wa),c=v.useContext(_u).reducedMotion,d=v.useRef(null);i=i||a.renderer,!d.current&&i&&(d.current=i(t,{visualState:e,parent:r,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:c}));const h=d.current,u=v.useContext(Ru);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&u2(d.current,n,s,u);const m=v.useRef(!1);v.useInsertionEffect(()=>{h&&m.current&&h.update(n,o)});const g=n[Ou],p=v.useRef(!!g&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,g))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,g)));return j1(()=>{h&&(m.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),p.current&&h.animationState&&h.animationState.animateChanges())}),v.useEffect(()=>{h&&(!p.current&&h.animationState&&h.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)==null||x.call(window,g)}),p.current=!1))}),h}function u2(t,e,n,i){const{layoutId:s,layout:r,drag:a,dragConstraints:o,layoutScroll:c,layoutRoot:d,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Fu(t.parent)),t.projection.setOptions({layoutId:s,layout:r,alwaysMeasureLayout:!!a||o&&mn(o),visualElement:t,animationType:typeof r=="string"?r:"both",initialPromotionConfig:i,crossfade:h,layoutScroll:c,layoutRoot:d})}function Fu(t){if(t)return t.options.allowProjection!==!1?t.projection:Fu(t.parent)}function nr(t,{forwardMotionProps:e=!1}={},n,i){n&&Vw(n);const s=Ga(t)?o2:a2;function r(o,c){let d;const h={...v.useContext(_u),...o,layoutId:f2(o)},{isStatic:u}=h,m=$w(o),g=s(o,u);if(!u&&va){m2(h,n);const p=g2(h);d=p.MeasureLayout,m.visualElement=h2(t,g,h,i,p.ProjectionNode)}return f(Ls.Provider,{value:m,children:[d&&m.visualElement?l(d,{visualElement:m.visualElement,...h}):null,i2(t,o,c2(g,m.visualElement,c),g,u,e)]})}r.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=v.forwardRef(r);return a[l2]=t,a}function f2({layoutId:t}){const e=v.useContext(Ih).id;return e&&t!==void 0?e+"-"+t:t}function m2(t,e){const n=v.useContext(Su).strict;if(e&&n){const i="You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.";t.ignoreStrict?_n(!1,i,"lazy-strict-mode"):gt(!1,i,"lazy-strict-mode")}}function g2(t){const{drag:e,layout:n}=kn;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function p2(t,e){if(typeof Proxy>"u")return nr;const n=new Map,i=(r,a)=>nr(r,a,t,e),s=(r,a)=>(Ca(!1,"motion() is deprecated. Use motion.create() instead."),i(r,a));return new Proxy(s,{get:(r,a)=>a==="create"?i:(n.has(a)||n.set(a,nr(a,void 0,t,e)),n.get(a))})}function Bu({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function b2({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function x2(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function ir(t){return t===void 0||t===1}function zr({scale:t,scaleX:e,scaleY:n}){return!ir(t)||!ir(e)||!ir(n)}function Ut(t){return zr(t)||Vu(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Vu(t){return fc(t.x)||fc(t.y)}function fc(t){return t&&t!=="0%"}function Ns(t,e,n){const i=t-n,s=e*i;return n+s}function mc(t,e,n,i,s){return s!==void 0&&(t=Ns(t,s,i)),Ns(t,n,i)+e}function Wr(t,e=0,n=1,i,s){t.min=mc(t.min,e,n,i,s),t.max=mc(t.max,e,n,i,s)}function ju(t,{x:e,y:n}){Wr(t.x,e.translate,e.scale,e.originPoint),Wr(t.y,n.translate,n.scale,n.originPoint)}const gc=.999999999999,pc=1.0000000000001;function y2(t,e,n,i=!1){const s=n.length;if(!s)return;e.x=e.y=1;let r,a;for(let o=0;o<s;o++){r=n[o],a=r.projectionDelta;const{visualElement:c}=r.options;c&&c.props.style&&c.props.style.display==="contents"||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&pn(t,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,ju(t,a)),i&&Ut(r.latestValues)&&pn(t,r.latestValues))}e.x<pc&&e.x>gc&&(e.x=1),e.y<pc&&e.y>gc&&(e.y=1)}function gn(t,e){t.min=t.min+e,t.max=t.max+e}function bc(t,e,n,i,s=.5){const r=oe(t.min,t.max,s);Wr(t,e,n,r,i)}function pn(t,e){bc(t.x,e.x,e.scaleX,e.scale,e.originX),bc(t.y,e.y,e.scaleY,e.scale,e.originY)}function zu(t,e){return Bu(x2(t.getBoundingClientRect(),e))}function v2(t,e,n){const i=zu(t,n),{scroll:s}=e;return s&&(gn(i.x,s.offset.x),gn(i.y,s.offset.y)),i}const xc=()=>({translate:0,scale:1,origin:0,originPoint:0}),bn=()=>({x:xc(),y:xc()}),yc=()=>({min:0,max:0}),ce=()=>({x:yc(),y:yc()}),Hr={current:null},Wu={current:!1};function w2(){if(Wu.current=!0,!!va)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Hr.current=t.matches;t.addEventListener("change",e),e()}else Hr.current=!1}const N2=new WeakMap;function k2(t,e,n){for(const i in e){const s=e[i],r=n[i];if(we(s))t.addValue(i,s);else if(we(r))t.addValue(i,Nn(s,{owner:t}));else if(r!==s)if(t.hasValue(i)){const a=t.getValue(i);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,Nn(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const vc=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class _2{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:r,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ba,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=De.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,re.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!r,this.isControllingVariants=Os(n),this.isVariantNode=Pu(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...u}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in u){const g=u[m];c[m]!==void 0&&we(g)&&g.set(c[m],!1)}}mount(e){this.current=e,N2.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),Wu.current||w2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Hr.current,Ca(this.shouldReduceMotion!==!0,"You have Reduced Motion enabled on your device. Animations may not appear as expected.","reduced-motion-disabled"),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Et(this.notifyUpdate),Et(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Pn.has(e);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&re.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),r=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),r(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in kn){const n=kn[e];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ce()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<vc.length;i++){const s=vc[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const r="on"+s,a=e[r];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=k2(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Nn(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Oh(i)||Fh(i))?i=parseFloat(i):!Fw(i)&&Lt.test(n)&&(i=xu(e,n)),this.setBaseTarget(e,we(i)?i.get():i)),we(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var r;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const a=qa(this.props,n,(r=this.presenceContext)==null?void 0:r.custom);a&&(i=a[e])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!we(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Sa),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){za.render(this.render)}}class Hu extends _2{constructor(){super(...arguments),this.KeyframeResolver=_w}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;we(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function $u(t,{style:e,vars:n},i,s){const r=t.style;let a;for(a in e)r[a]=e[a];s==null||s.applyProjectionStyles(r,i);for(a in n)r.setProperty(a,n[a])}function S2(t){return window.getComputedStyle(t)}class C2 extends Hu{constructor(){super(...arguments),this.type="html",this.renderInstance=$u}readValueFromInstance(e,n){var i;if(Pn.has(n))return(i=this.projection)!=null&&i.isProjecting?Or(n):Wv(e,n);{const s=S2(e),r=(Ta(n)?s.getPropertyValue(n):s[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return zu(e,n)}build(e,n,i){Ua(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return Ka(e,n,i)}}const Uu=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function P2(t,e,n,i){$u(t,e,void 0,i);for(const s in e.attrs)t.setAttribute(Uu.has(s)?s:Xa(s),e.attrs[s])}class M2 extends Hu{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ce}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Pn.has(n)){const i=bu(n);return i&&i.default||0}return n=Uu.has(n)?n:Xa(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return Iu(e,n,i)}build(e,n,i){Au(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,s){P2(e,n,i,s)}mount(e){this.isSVGTag=Eu(e.tagName),super.mount(e)}}const T2=(t,e)=>Ga(t)?new M2(e):new C2(e,{allowProjection:t!==v.Fragment});function xi(t,e,n){const i=t.getProps();return qa(i,e,n!==void 0?n:i.custom,t)}const $r=t=>Array.isArray(t);function A2(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Nn(n))}function D2(t){return $r(t)?t[t.length-1]||0:t}function E2(t,e){const n=xi(t,e);let{transitionEnd:i={},transition:s={},...r}=n||{};r={...r,...i};for(const a in r){const o=D2(r[a]);A2(t,a,o)}}function L2(t){return!!(we(t)&&t.add)}function Ur(t,e){const n=t.getValue("willChange");if(L2(n))return n.add(e);if(!n&&pt.WillChange){const i=new pt.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function Yu(t){return t.props[Ou]}const I2=t=>t!==null;function O2(t,{repeat:e,repeatType:n="loop"},i){const s=t.filter(I2),r=e&&n!=="loop"&&e%2===1?0:s.length-1;return!r||i===void 0?s[r]:i}const R2={type:"spring",stiffness:500,damping:25,restSpeed:10},F2=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),B2={type:"keyframes",duration:.8},V2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},j2=(t,{keyframes:e})=>e.length>2?B2:Pn.has(t)?t.startsWith("scale")?F2(e[1]):R2:V2;function z2({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:r,repeatType:a,repeatDelay:o,from:c,elapsed:d,...h}){return!!Object.keys(h).length}const Za=(t,e,n,i={},s,r)=>a=>{const o=Va(i,t)||{},c=o.delay||i.delay||0;let{elapsed:d=0}=i;d=d-qe(c);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-d,onUpdate:m=>{e.set(m),o.onUpdate&&o.onUpdate(m)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:r?void 0:s};z2(o)||Object.assign(h,j2(t,h)),h.duration&&(h.duration=qe(h.duration)),h.repeatDelay&&(h.repeatDelay=qe(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let u=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(u=!0)),(pt.instantAnimations||pt.skipAnimations)&&(u=!0,h.duration=0,h.delay=0),h.allowFlatten=!o.type&&!o.ease,u&&!r&&e.get()!==void 0){const m=O2(h.keyframes,o);if(m!==void 0){re.update(()=>{h.onUpdate(m),h.onComplete()});return}}return o.isSync?new Fa(h):new hw(h)};function W2({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function Gu(t,e,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:r=t.getDefaultTransition(),transitionEnd:a,...o}=e;i&&(r=i);const c=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const h in o){const u=t.getValue(h,t.latestValues[h]??null),m=o[h];if(m===void 0||d&&W2(d,h))continue;const g={delay:n,...Va(r||{},h)},p=u.get();if(p!==void 0&&!u.isAnimating&&!Array.isArray(m)&&m===p&&!g.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const x=Yu(t);if(x){const N=window.MotionHandoffAnimation(x,h,re);N!==null&&(g.startTime=N,b=!0)}}Ur(t,h),u.start(Za(h,u,m,t.shouldReduceMotion&&mu.has(h)?{type:!1}:g,t,b));const y=u.animation;y&&c.push(y)}return a&&Promise.all(c).then(()=>{re.update(()=>{a&&E2(t,a)})}),c}function Yr(t,e,n={}){var c;const i=xi(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const r=i?()=>Promise.all(Gu(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:u,staggerDirection:m}=s;return H2(t,e,d,h,u,m,n)}:()=>Promise.resolve(),{when:o}=s;if(o){const[d,h]=o==="beforeChildren"?[r,a]:[a,r];return d().then(()=>h())}else return Promise.all([r(),a(n.delay)])}function H2(t,e,n=0,i=0,s=0,r=1,a){const o=[],c=t.variantChildren.size,d=(c-1)*s,h=typeof i=="function",u=h?m=>i(m,c):r===1?(m=0)=>m*s:(m=0)=>d-m*s;return Array.from(t.variantChildren).sort($2).forEach((m,g)=>{m.notify("AnimationStart",e),o.push(Yr(m,e,{...a,delay:n+(h?0:i)+u(g)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(o)}function $2(t,e){return t.sortNodePosition(e)}function U2(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(r=>Yr(t,r,n));i=Promise.all(s)}else if(typeof e=="string")i=Yr(t,e,n);else{const s=typeof e=="function"?xi(t,e,n.custom):e;i=Promise.all(Gu(t,s,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function qu(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const Y2=$a.length;function Ku(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Ku(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Y2;n++){const i=$a[n],s=t.props[i];(pi(s)||s===!1)&&(e[i]=s)}return e}const G2=[...Ha].reverse(),q2=Ha.length;function K2(t){return e=>Promise.all(e.map(({animation:n,options:i})=>U2(t,n,i)))}function X2(t){let e=K2(t),n=wc(),i=!0;const s=c=>(d,h)=>{var m;const u=xi(t,h,c==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);if(u){const{transition:g,transitionEnd:p,...b}=u;d={...d,...b,...p}}return d};function r(c){e=c(t)}function a(c){const{props:d}=t,h=Ku(t.parent)||{},u=[],m=new Set;let g={},p=1/0;for(let y=0;y<q2;y++){const x=G2[y],N=n[x],w=d[x]!==void 0?d[x]:h[x],k=pi(w),_=x===c?N.isActive:null;_===!1&&(p=y);let C=w===h[x]&&w!==d[x]&&k;if(C&&i&&t.manuallyAnimateOnMount&&(C=!1),N.protectedKeys={...g},!N.isActive&&_===null||!w&&!N.prevProp||Is(w)||typeof w=="boolean")continue;const D=Z2(N.prevProp,w);let S=D||x===c&&N.isActive&&!C&&k||y>p&&k,M=!1;const P=Array.isArray(w)?w:[w];let I=P.reduce(s(x),{});_===!1&&(I={});const{prevResolvedValues:L={}}=N,U={...L,...I},W=F=>{S=!0,m.has(F)&&(M=!0,m.delete(F)),N.needsAnimating[F]=!0;const J=t.getValue(F);J&&(J.liveStyle=!1)};for(const F in U){const J=I[F],de=L[F];if(g.hasOwnProperty(F))continue;let ke=!1;$r(J)&&$r(de)?ke=!qu(J,de):ke=J!==de,ke?J!=null?W(F):m.add(F):J!==void 0&&m.has(F)?W(F):N.protectedKeys[F]=!0}N.prevProp=w,N.prevResolvedValues=I,N.isActive&&(g={...g,...I}),i&&t.blockInitialAnimation&&(S=!1),S&&(!(C&&D)||M)&&u.push(...P.map(F=>({animation:F,options:{type:x}})))}if(m.size){const y={};if(typeof d.initial!="boolean"){const x=xi(t,Array.isArray(d.initial)?d.initial[0]:d.initial);x&&x.transition&&(y.transition=x.transition)}m.forEach(x=>{const N=t.getBaseTarget(x),w=t.getValue(x);w&&(w.liveStyle=!0),y[x]=N??null}),u.push({animation:y})}let b=!!u.length;return i&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(b=!1),i=!1,b?e(u):Promise.resolve()}function o(c,d){var u;if(n[c].isActive===d)return Promise.resolve();(u=t.variantChildren)==null||u.forEach(m=>{var g;return(g=m.animationState)==null?void 0:g.setActive(c,d)}),n[c].isActive=d;const h=a(c);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:a,setActive:o,setAnimateFunction:r,getState:()=>n,reset:()=>{n=wc(),i=!0}}}function Z2(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!qu(e,t):!1}function zt(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wc(){return{animate:zt(!0),whileInView:zt(),whileHover:zt(),whileTap:zt(),whileDrag:zt(),whileFocus:zt(),exit:zt()}}class Rt{constructor(e){this.isMounted=!1,this.node=e}update(){}}class J2 extends Rt{constructor(e){super(e),e.animationState||(e.animationState=X2(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Is(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Q2=0;class e5 extends Rt{constructor(){super(...arguments),this.id=Q2++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const t5={animation:{Feature:J2},exit:{Feature:e5}};function yi(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Pi(t){return{point:{x:t.pageX,y:t.pageY}}}const n5=t=>e=>Wa(e)&&t(e,Pi(e));function ii(t,e,n,i){return yi(t,e,n5(n),i)}const Xu=1e-4,i5=1-Xu,s5=1+Xu,Zu=.01,r5=0-Zu,a5=0+Zu;function Me(t){return t.max-t.min}function o5(t,e,n){return Math.abs(t-e)<=n}function Nc(t,e,n,i=.5){t.origin=i,t.originPoint=oe(e.min,e.max,t.origin),t.scale=Me(n)/Me(e),t.translate=oe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=i5&&t.scale<=s5||isNaN(t.scale))&&(t.scale=1),(t.translate>=r5&&t.translate<=a5||isNaN(t.translate))&&(t.translate=0)}function si(t,e,n,i){Nc(t.x,e.x,n.x,i?i.originX:void 0),Nc(t.y,e.y,n.y,i?i.originY:void 0)}function kc(t,e,n){t.min=n.min+e.min,t.max=t.min+Me(e)}function l5(t,e,n){kc(t.x,e.x,n.x),kc(t.y,e.y,n.y)}function _c(t,e,n){t.min=e.min-n.min,t.max=t.min+Me(e)}function ri(t,e,n){_c(t.x,e.x,n.x),_c(t.y,e.y,n.y)}function Be(t){return[t("x"),t("y")]}const Ju=({current:t})=>t?t.ownerDocument.defaultView:null,Sc=(t,e)=>Math.abs(t-e);function c5(t,e){const n=Sc(t.x,e.x),i=Sc(t.y,e.y);return Math.sqrt(n**2+i**2)}class Qu{constructor(e,n,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:r=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=rr(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,p=c5(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!p)return;const{point:b}=m,{timestamp:y}=be;this.history.push({...b,timestamp:y});const{onStart:x,onMove:N}=this.handlers;g||(x&&x(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,m)},this.handlePointerMove=(m,g)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=sr(g,this.transformPagePoint),re.update(this.updatePoint,!0)},this.handlePointerUp=(m,g)=>{this.end();const{onEnd:p,onSessionEnd:b,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=rr(m.type==="pointercancel"?this.lastMoveEventInfo:sr(g,this.transformPagePoint),this.history);this.startEvent&&p&&p(m,x),b&&b(m,x)},!Wa(e))return;this.dragSnapToOrigin=r,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=a,this.contextWindow=s||window;const o=Pi(e),c=sr(o,this.transformPagePoint),{point:d}=c,{timestamp:h}=be;this.history=[{...d,timestamp:h}];const{onSessionStart:u}=n;u&&u(e,rr(c,this.history)),this.removeListeners=_i(ii(this.contextWindow,"pointermove",this.handlePointerMove),ii(this.contextWindow,"pointerup",this.handlePointerUp),ii(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Et(this.updatePoint)}}function sr(t,e){return e?{point:e(t.point)}:t}function Cc(t,e){return{x:t.x-e.x,y:t.y-e.y}}function rr({point:t},e){return{point:t,delta:Cc(t,ef(e)),offset:Cc(t,d5(e)),velocity:h5(e,.1)}}function d5(t){return t[0]}function ef(t){return t[t.length-1]}function h5(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const s=ef(t);for(;n>=0&&(i=t[n],!(s.timestamp-i.timestamp>qe(e)));)n--;if(!i)return{x:0,y:0};const r=tt(s.timestamp-i.timestamp);if(r===0)return{x:0,y:0};const a={x:(s.x-i.x)/r,y:(s.y-i.y)/r};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function u5(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?oe(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?oe(n,t,i.max):Math.min(t,n)),t}function Pc(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function f5(t,{top:e,left:n,bottom:i,right:s}){return{x:Pc(t.x,n,s),y:Pc(t.y,e,i)}}function Mc(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function m5(t,e){return{x:Mc(t.x,e.x),y:Mc(t.y,e.y)}}function g5(t,e){let n=.5;const i=Me(t),s=Me(e);return s>i?n=fi(e.min,e.max-i,t.min):i>s&&(n=fi(t.min,t.max-s,e.min)),mt(0,1,n)}function p5(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Gr=.35;function b5(t=Gr){return t===!1?t=0:t===!0&&(t=Gr),{x:Tc(t,"left","right"),y:Tc(t,"top","bottom")}}function Tc(t,e,n){return{min:Ac(t,e),max:Ac(t,n)}}function Ac(t,e){return typeof t=="number"?t:t[e]||0}const x5=new WeakMap;class y5{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ce(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=u=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Pi(u).point)},a=(u,m)=>{const{drag:g,dragPropagation:p,onDragStart:b}=this.getProps();if(g&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Tw(g),!this.openDragLock))return;this.latestPointerEvent=u,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Be(x=>{let N=this.getAxisMotionValue(x).get()||0;if(nt.test(N)){const{projection:w}=this.visualElement;if(w&&w.layout){const k=w.layout.layoutBox[x];k&&(N=Me(k)*(parseFloat(N)/100))}}this.originPoint[x]=N}),b&&re.postRender(()=>b(u,m)),Ur(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(u,m)=>{this.latestPointerEvent=u,this.latestPanInfo=m;const{dragPropagation:g,dragDirectionLock:p,onDirectionLock:b,onDrag:y}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:x}=m;if(p&&this.currentDirection===null){this.currentDirection=v5(x),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",m.point,x),this.updateAxis("y",m.point,x),this.visualElement.render(),y&&y(u,m)},c=(u,m)=>{this.latestPointerEvent=u,this.latestPanInfo=m,this.stop(u,m),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Be(u=>{var m;return this.getAnimationState(u)==="paused"&&((m=this.getAxisMotionValue(u).animation)==null?void 0:m.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new Qu(e,{onSessionStart:r,onStart:a,onMove:o,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:i,contextWindow:Ju(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,s=n||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!s||!i)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&re.postRender(()=>o(i,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:s}=this.getProps();if(!i||!Ki(e,s,this.currentDirection))return;const r=this.getAxisMotionValue(e);let a=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(a=u5(a,this.constraints[e],this.elastic[e])),r.set(a)}resolveConstraints(){var r;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)==null?void 0:r.layout,s=this.constraints;e&&mn(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=f5(i.layoutBox,e):this.constraints=!1,this.elastic=b5(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Be(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=p5(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!mn(e))return!1;const i=e.current;gt(i!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const r=v2(i,s.root,this.visualElement.getTransformPagePoint());let a=m5(s.layout.layoutBox,r);if(n){const o=n(b2(a));this.hasMutatedConstraints=!!o,o&&(a=Bu(o))}return a}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:r,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},d=Be(h=>{if(!Ki(h,n,this.currentDirection))return;let u=c&&c[h]||{};a&&(u={min:0,max:0});const m=s?200:1e6,g=s?40:1e7,p={type:"inertia",velocity:i?e[h]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...r,...u};return this.startAxisValueAnimation(h,p)});return Promise.all(d).then(o)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Ur(this.visualElement,e),i.start(Za(e,i,0,n,this.visualElement,!1))}stopAnimation(){Be(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Be(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Be(n=>{const{drag:i}=this.getProps();if(!Ki(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,r=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[n];r.set(e[n]-oe(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!mn(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Be(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const c=o.get();s[a]=g5({min:c,max:c},this.constraints[a])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Be(a=>{if(!Ki(a,e,null))return;const o=this.getAxisMotionValue(a),{min:c,max:d}=this.constraints[a];o.set(oe(c,d,s[a]))})}addListeners(){if(!this.visualElement.current)return;x5.set(this.visualElement,this);const e=this.visualElement.current,n=ii(e,"pointerdown",c=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(c)}),i=()=>{const{dragConstraints:c}=this.getProps();mn(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,r=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),re.read(i);const a=yi(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Be(h=>{const u=this.getAxisMotionValue(h);u&&(this.originPoint[h]+=c[h].translate,u.set(u.get()+c[h].translate))}),this.visualElement.render())});return()=>{a(),n(),r(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:r=!1,dragElastic:a=Gr,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:r,dragElastic:a,dragMomentum:o}}}function Ki(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function v5(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class w5 extends Rt{constructor(e){super(e),this.removeGroupControls=ze,this.removeListeners=ze,this.controls=new y5(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ze}unmount(){this.removeGroupControls(),this.removeListeners()}}const Dc=t=>(e,n)=>{t&&re.postRender(()=>t(e,n))};class N5 extends Rt{constructor(){super(...arguments),this.removePointerDownListener=ze}onPointerDown(e){this.session=new Qu(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ju(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:Dc(e),onStart:Dc(n),onMove:i,onEnd:(r,a)=>{delete this.session,s&&re.postRender(()=>s(r,a))}}}mount(){this.removePointerDownListener=ii(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const os={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ec(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Vn={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(V.test(t))t=parseFloat(t);else return t;const n=Ec(t,e.target.x),i=Ec(t,e.target.y);return`${n}% ${i}%`}},k5={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,s=Lt.parse(t);if(s.length>5)return i;const r=Lt.createTransformer(t),a=typeof s[0]!="number"?1:0,o=n.x.scale*e.x,c=n.y.scale*e.y;s[0+a]/=o,s[1+a]/=c;const d=oe(o,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=d),typeof s[3+a]=="number"&&(s[3+a]/=d),r(s)}};let Lc=!1;class _5 extends v.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:r}=e;Uw(S5),r&&(n.group&&n.group.add(r),i&&i.register&&s&&i.register(r),Lc&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),os.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:s,isPresent:r}=this.props,{projection:a}=i;return a&&(a.isPresent=r,Lc=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==r?a.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?a.promote():a.relegate()||re.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),za.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function tf(t){const[e,n]=Bw(),i=v.useContext(Ih);return l(_5,{...t,layoutGroup:i,switchLayoutGroup:v.useContext(Ru),isPresent:e,safeToRemove:n})}const S5={borderRadius:{...Vn,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vn,borderTopRightRadius:Vn,borderBottomLeftRadius:Vn,borderBottomRightRadius:Vn,boxShadow:k5};function C5(t,e,n){const i=we(t)?t:Nn(t);return i.start(Za("",i,e,n)),i.animation}const P5=(t,e)=>t.depth-e.depth;class M5{constructor(){this.children=[],this.isDirty=!1}add(e){Na(this.children,e),this.isDirty=!0}remove(e){ka(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(P5),this.isDirty=!1,this.children.forEach(e)}}function T5(t,e){const n=De.now(),i=({timestamp:s})=>{const r=s-n;r>=e&&(Et(i),t(r-e))};return re.setup(i,!0),()=>Et(i)}const nf=["TopLeft","TopRight","BottomLeft","BottomRight"],A5=nf.length,Ic=t=>typeof t=="string"?parseFloat(t):t,Oc=t=>typeof t=="number"||V.test(t);function D5(t,e,n,i,s,r){s?(t.opacity=oe(0,n.opacity??1,E5(i)),t.opacityExit=oe(e.opacity??1,0,L5(i))):r&&(t.opacity=oe(e.opacity??1,n.opacity??1,i));for(let a=0;a<A5;a++){const o=`border${nf[a]}Radius`;let c=Rc(e,o),d=Rc(n,o);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||Oc(c)===Oc(d)?(t[o]=Math.max(oe(Ic(c),Ic(d),i),0),(nt.test(d)||nt.test(c))&&(t[o]+="%")):t[o]=d}(e.rotate||n.rotate)&&(t.rotate=oe(e.rotate||0,n.rotate||0,i))}function Rc(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const E5=sf(0,.5,Uh),L5=sf(.5,.95,ze);function sf(t,e,n){return i=>i<t?0:i>e?1:n(fi(t,e,i))}function Fc(t,e){t.min=e.min,t.max=e.max}function Fe(t,e){Fc(t.x,e.x),Fc(t.y,e.y)}function Bc(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Vc(t,e,n,i,s){return t-=e,t=Ns(t,1/n,i),s!==void 0&&(t=Ns(t,1/s,i)),t}function I5(t,e=0,n=1,i=.5,s,r=t,a=t){if(nt.test(e)&&(e=parseFloat(e),e=oe(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=oe(r.min,r.max,i);t===r&&(o-=e),t.min=Vc(t.min,e,n,o,s),t.max=Vc(t.max,e,n,o,s)}function jc(t,e,[n,i,s],r,a){I5(t,e[n],e[i],e[s],e.scale,r,a)}const O5=["x","scaleX","originX"],R5=["y","scaleY","originY"];function zc(t,e,n,i){jc(t.x,e,O5,n?n.x:void 0,i?i.x:void 0),jc(t.y,e,R5,n?n.y:void 0,i?i.y:void 0)}function Wc(t){return t.translate===0&&t.scale===1}function rf(t){return Wc(t.x)&&Wc(t.y)}function Hc(t,e){return t.min===e.min&&t.max===e.max}function F5(t,e){return Hc(t.x,e.x)&&Hc(t.y,e.y)}function $c(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function af(t,e){return $c(t.x,e.x)&&$c(t.y,e.y)}function Uc(t){return Me(t.x)/Me(t.y)}function Yc(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class B5{constructor(){this.members=[]}add(e){Na(this.members,e),e.scheduleRender()}remove(e){if(ka(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const r=this.members[s];if(r.isPresent!==!1){i=r;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function V5(t,e,n){let i="";const s=t.x.translate/e.x,r=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((s||r||a)&&(i=`translate3d(${s}px, ${r}px, ${a}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:h,rotateX:u,rotateY:m,skewX:g,skewY:p}=n;d&&(i=`perspective(${d}px) ${i}`),h&&(i+=`rotate(${h}deg) `),u&&(i+=`rotateX(${u}deg) `),m&&(i+=`rotateY(${m}deg) `),g&&(i+=`skewX(${g}deg) `),p&&(i+=`skewY(${p}deg) `)}const o=t.x.scale*e.x,c=t.y.scale*e.y;return(o!==1||c!==1)&&(i+=`scale(${o}, ${c})`),i||"none"}const ar=["","X","Y","Z"],j5=1e3;let z5=0;function or(t,e,n,i){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),i&&(i[t]=0))}function of(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Yu(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:r}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",re,!(s||r))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&of(i)}function lf({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(a={},o=e==null?void 0:e()){this.id=z5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach($5),this.nodes.forEach(q5),this.nodes.forEach(K5),this.nodes.forEach(U5)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new M5)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Sa),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const c=this.eventHandlers.get(a);c&&c.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=ku(a)&&!Ow(a),this.instance=a;const{layoutId:o,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||o)&&(this.isLayoutDirty=!0),t){let h,u=0;const m=()=>this.root.updateBlockedByResize=!1;re.read(()=>{u=window.innerWidth}),t(a,()=>{const g=window.innerWidth;g!==u&&(u=g,this.root.updateBlockedByResize=!0,h&&h(),h=T5(m,250),os.hasAnimatedSinceResize&&(os.hasAnimatedSinceResize=!1,this.nodes.forEach(Kc)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&d&&(o||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:u,hasRelativeLayoutChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||d.getDefaultTransition()||eN,{onLayoutAnimationStart:b,onLayoutAnimationComplete:y}=d.getProps(),x=!this.targetLayout||!af(this.targetLayout,g),N=!u&&m;if(this.options.layoutRoot||this.resumeFrom||N||u&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...Va(p,"layout"),onPlay:b,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(h,N)}else u||Kc(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Et(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(X5),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&of(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const u=this.path[h];u.shouldResetTransform=!0,u.updateScroll("snapshot"),u.options.layoutRoot&&u.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Gc);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(qc);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(G5),this.nodes.forEach(W5),this.nodes.forEach(H5)):this.nodes.forEach(qc),this.clearAllSnapshots();const o=De.now();be.delta=mt(0,1e3/60,o-be.timestamp),be.timestamp=o,be.isProcessing=!0,Xs.update.process(be),Xs.preRender.process(be),Xs.render.process(be),be.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,za.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Y5),this.sharedNodes.forEach(Z5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,re.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){re.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Me(this.snapshot.measuredBox.x)&&!Me(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ce(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const c=i(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!rf(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;a&&this.instance&&(o||Ut(this.latestValues)||h)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return a&&(c=this.removeTransform(c)),tN(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:a}=this.options;if(!a)return ce();const o=a.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(nN))){const{scroll:h}=this.root;h&&(gn(o.x,h.offset.x),gn(o.y,h.offset.y))}return o}removeElementScroll(a){var c;const o=ce();if(Fe(o,a),(c=this.scroll)!=null&&c.wasRoot)return o;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:u,options:m}=h;h!==this.root&&u&&m.layoutScroll&&(u.wasRoot&&Fe(o,a),gn(o.x,u.offset.x),gn(o.y,u.offset.y))}return o}applyTransform(a,o=!1){const c=ce();Fe(c,a);for(let d=0;d<this.path.length;d++){const h=this.path[d];!o&&h.options.layoutScroll&&h.scroll&&h!==h.root&&pn(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Ut(h.latestValues)&&pn(c,h.latestValues)}return Ut(this.latestValues)&&pn(c,this.latestValues),c}removeTransform(a){const o=ce();Fe(o,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Ut(d.latestValues))continue;zr(d.latestValues)&&d.updateSnapshot();const h=ce(),u=d.measurePageBox();Fe(h,u),zc(o,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return Ut(this.latestValues)&&zc(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==be.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var m;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==o;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:u}=this.options;if(!(!this.layout||!(h||u))){if(this.resolvedRelativeTargetAt=be.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ce(),this.relativeTargetOrigin=ce(),ri(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Fe(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ce(),this.targetWithTransforms=ce()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),l5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Fe(this.target,this.layout.layoutBox),ju(this.target,this.targetDelta)):Fe(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ce(),this.relativeTargetOrigin=ce(),ri(this.relativeTargetOrigin,this.target,g.target),Fe(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||zr(this.parent.latestValues)||Vu(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(c=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===be.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Fe(this.layoutCorrected,this.layout.layoutBox);const u=this.treeScale.x,m=this.treeScale.y;y2(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=ce());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Bc(this.prevProjectionDelta.x,this.projectionDelta.x),Bc(this.prevProjectionDelta.y,this.projectionDelta.y)),si(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==u||this.treeScale.y!==m||!Yc(this.projectionDelta.x,this.prevProjectionDelta.x)||!Yc(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=bn(),this.projectionDelta=bn(),this.projectionDeltaWithTransform=bn()}setAnimationOrigin(a,o=!1){const c=this.snapshot,d=c?c.latestValues:{},h={...this.latestValues},u=bn();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const m=ce(),g=c?c.source:void 0,p=this.layout?this.layout.source:void 0,b=g!==p,y=this.getStack(),x=!y||y.members.length<=1,N=!!(b&&!x&&this.options.crossfade===!0&&!this.path.some(Q5));this.animationProgress=0;let w;this.mixTargetDelta=k=>{const _=k/1e3;Xc(u.x,a.x,_),Xc(u.y,a.y,_),this.setTargetDelta(u),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ri(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),J5(this.relativeTarget,this.relativeTargetOrigin,m,_),w&&F5(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=ce()),Fe(w,this.relativeTarget)),b&&(this.animationValues=h,D5(h,d,this.latestValues,_,N,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,c,d;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Et(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=re.update(()=>{os.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Nn(0)),this.currentAnimation=C5(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),a.onUpdate&&a.onUpdate(h)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(j5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:c,layout:d,latestValues:h}=a;if(!(!o||!c||!d)){if(this!==a&&this.layout&&d&&cf(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||ce();const u=Me(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+u;const m=Me(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+m}Fe(o,c),pn(o,h),si(this.projectionDeltaWithTransform,this.layoutCorrected,o,h)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new B5),this.sharedNodes.get(a).add(o);const d=o.options.initialPromotionConfig;o.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const d={};c.z&&or("z",a,d,this.animationValues);for(let h=0;h<ar.length;h++)or(`rotate${ar[h]}`,a,d,this.animationValues),or(`skew${ar[h]}`,a,d,this.animationValues);a.render();for(const h in d)a.setStaticValue(h,d[h]),this.animationValues&&(this.animationValues[h]=d[h]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=as(o==null?void 0:o.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=as(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ut(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const h=d.animationValues||d.latestValues;this.applyTransformsToTarget();let u=V5(this.projectionDeltaWithTransform,this.treeScale,h);c&&(u=c(h,u)),a.transform=u;const{x:m,y:g}=this.projectionDelta;a.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,d.animationValues?a.opacity=d===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:a.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const p in bi){if(h[p]===void 0)continue;const{correct:b,applyTo:y,isCSSVariable:x}=bi[p],N=u==="none"?h[p]:b(h[p],d);if(y){const w=y.length;for(let k=0;k<w;k++)a[y[k]]=N}else x?this.options.visualElement.renderState.vars[p]=N:a[p]=N}this.options.layoutId&&(a.pointerEvents=d===this?as(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(Gc),this.root.sharedNodes.clear()}}}function W5(t){t.updateLayout()}function H5(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=t.layout,{animationType:r}=t.options,a=e.source!==t.layout.source;r==="size"?Be(u=>{const m=a?e.measuredBox[u]:e.layoutBox[u],g=Me(m);m.min=i[u].min,m.max=m.min+g}):cf(r,e.layoutBox,i)&&Be(u=>{const m=a?e.measuredBox[u]:e.layoutBox[u],g=Me(i[u]);m.max=m.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[u].max=t.relativeTarget[u].min+g)});const o=bn();si(o,i,e.layoutBox);const c=bn();a?si(c,t.applyTransform(s,!0),e.measuredBox):si(c,i,e.layoutBox);const d=!rf(o);let h=!1;if(!t.resumeFrom){const u=t.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:m,layout:g}=u;if(m&&g){const p=ce();ri(p,e.layoutBox,m.layoutBox);const b=ce();ri(b,i,g.layoutBox),af(p,b)||(h=!0),u.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=p,t.relativeParent=u)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:c,layoutDelta:o,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function $5(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function U5(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Y5(t){t.clearSnapshot()}function Gc(t){t.clearMeasurements()}function qc(t){t.isLayoutDirty=!1}function G5(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Kc(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function q5(t){t.resolveTargetDelta()}function K5(t){t.calcProjection()}function X5(t){t.resetSkewAndRotation()}function Z5(t){t.removeLeadSnapshot()}function Xc(t,e,n){t.translate=oe(e.translate,0,n),t.scale=oe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Zc(t,e,n,i){t.min=oe(e.min,n.min,i),t.max=oe(e.max,n.max,i)}function J5(t,e,n,i){Zc(t.x,e.x,n.x,i),Zc(t.y,e.y,n.y,i)}function Q5(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const eN={duration:.45,ease:[.4,0,.1,1]},Jc=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Qc=Jc("applewebkit/")&&!Jc("chrome/")?Math.round:ze;function ed(t){t.min=Qc(t.min),t.max=Qc(t.max)}function tN(t){ed(t.x),ed(t.y)}function cf(t,e,n){return t==="position"||t==="preserve-aspect"&&!o5(Uc(e),Uc(n),.2)}function nN(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const iN=lf({attachResizeListener:(t,e)=>yi(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),lr={current:void 0},df=lf({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!lr.current){const t=new iN({});t.mount(window),t.setOptions({layoutScroll:!0}),lr.current=t}return lr.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),sN={pan:{Feature:N5},drag:{Feature:w5,ProjectionNode:df,MeasureLayout:tf}};function td(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,r=i[s];r&&re.postRender(()=>r(e,Pi(e)))}class rN extends Rt{mount(){const{current:e}=this.node;e&&(this.unmount=Aw(e,(n,i)=>(td(this.node,i,"Start"),s=>td(this.node,s,"End"))))}unmount(){}}class aN extends Rt{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_i(yi(this.node.current,"focus",()=>this.onFocus()),yi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function nd(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),r=i[s];r&&re.postRender(()=>r(e,Pi(e)))}class oN extends Rt{mount(){const{current:e}=this.node;e&&(this.unmount=Iw(e,(n,i)=>(nd(this.node,i,"Start"),(s,{success:r})=>nd(this.node,s,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const qr=new WeakMap,cr=new WeakMap,lN=t=>{const e=qr.get(t.target);e&&e(t)},cN=t=>{t.forEach(lN)};function dN({root:t,...e}){const n=t||document;cr.has(n)||cr.set(n,{});const i=cr.get(n),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(cN,{root:t,...e})),i[s]}function hN(t,e,n){const i=dN(e);return qr.set(t,n),i.observe(t),()=>{qr.delete(t),i.unobserve(t)}}const uN={some:0,all:1};class fN extends Rt{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:r}=e,a={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:uN[s]},o=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,r&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:u}=this.node.getProps(),m=d?h:u;m&&m(c)};return hN(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(mN(e,n))&&this.startObserver()}unmount(){}}function mN({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const gN={inView:{Feature:fN},tap:{Feature:oN},focus:{Feature:aN},hover:{Feature:rN}},pN={layout:{ProjectionNode:df,MeasureLayout:tf}},bN={...t5,...gN,...sN,...pN},jn=p2(bN,T2),Ce={size:{xs:"text-xs",sm:"text-sm",base:"text-base",lg:"text-lg",xl:"text-xl","2xl":"text-2xl","3xl":"text-3xl","4xl":"text-4xl","5xl":"text-5xl"},weight:{light:"font-light",normal:"font-normal",medium:"font-medium",semibold:"font-semibold",bold:"font-bold"},leading:{tight:"leading-tight",snug:"leading-snug",normal:"leading-normal",relaxed:"leading-relaxed",loose:"leading-loose"}},id={sm:"shadow-sm",default:"shadow",md:"shadow-md",lg:"shadow-lg",xl:"shadow-xl","2xl":"shadow-2xl",inner:"shadow-inner",none:"shadow-none"},xN={fast:"transition-all duration-150",default:"transition-all duration-300",slow:"transition-all duration-500",smooth:"transition-all duration-300 ease-in-out",bounce:"transition-all duration-500 ease-[cubic-bezier(0.68,-0.55,0.265,1.55)]"},yN=[{icon:l(gr,{className:"w-8 h-8"}),title:"Funding Raised",value:"$1.1M",description:"from strategic investors",delay:.1},{icon:l(Ad,{className:"w-8 h-8"}),title:"Total Paying Users",value:"200",description:"102 (â‰ˆ57%) outside Israel, strong traction in the US, Portugal & Brazil",delay:.2},{icon:l($m,{className:"w-8 h-8"}),title:"Annual Reseller Licenses",value:"50",description:"sold in Portugal & Brazil",delay:.3},{icon:l(fg,{className:"w-8 h-8"}),title:"Monthly Growth",value:"~15",description:"new subscriptions/month with only $1,500 Meta ad spend",delay:.4},{icon:l(rg,{className:"w-8 h-8"}),title:"Marketing Leadership",value:"Roi Gefen",description:"top advisor with weekly hands-on sessions",delay:.5},{icon:l(hg,{className:"w-8 h-8"}),title:"Team Excellence",value:"Lean & Efficient",description:"achieved all this with a vision-aligned team",delay:.6},{icon:l(Td,{className:"w-8 h-8"}),title:"Global Vision",value:"First Holistic AI",description:"platform for salons worldwide",delay:.7}],vN=()=>(v.useEffect(()=>{window.scrollTo(0,0)},[]),f("div",{className:"min-h-screen bg-gradient-to-br from-neutral-50 via-[#FFF8E6] to-neutral-50 relative overflow-hidden",children:[f("div",{className:"absolute inset-0 pointer-events-none",children:[l("div",{className:"absolute top-20 left-10 w-72 h-72 bg-[#FEECC7]/30 rounded-full blur-3xl"}),l("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-[#FDD89F]/20 rounded-full blur-3xl"}),l("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-[#FEECC7]/10 rounded-full blur-3xl"})]}),f("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 sm:py-20 lg:py-24",children:[f(jn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"text-center mb-16 sm:mb-20",children:[l("div",{className:"flex justify-center mb-8",children:f(jn.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.6,delay:.2},className:"relative",children:[l("div",{className:"absolute inset-0 bg-gradient-to-r from-[#FAB450] to-[#E6850E] rounded-full blur-xl opacity-30"}),l(cg,{className:"w-16 h-16 text-[#E6850E] relative"})]})}),l("h1",{className:`${Ce.size["5xl"]} ${Ce.weight.bold} text-neutral-900 mb-6 leading-tight`,children:"Spectra AI"}),l("p",{className:`${Ce.size["2xl"]} ${Ce.weight.medium} text-transparent bg-clip-text bg-gradient-to-r from-[#E6850E] to-[#B26F0C]`,children:"From Cost Optimization to Industry Revolution"})]}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8 mb-20",children:yN.map((t,e)=>l(jn.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:t.delay,ease:"easeOut"},whileHover:{y:-5,transition:{duration:.2}},className:"group",children:f("div",{className:`
                relative bg-white/80 backdrop-blur-sm rounded-2xl p-8
                border border-[#FEECC7]/50 ${id.lg}
                hover:shadow-2xl transition-all duration-300
                hover:border-[#FDD89F]
              `,children:[l("div",{className:"mb-6",children:l("div",{className:"inline-flex p-3 rounded-xl bg-gradient-to-br from-[#FEECC7] to-[#FDD89F]/50 text-[#CC7A0D] group-hover:from-[#FDD89F] group-hover:to-[#FCC777]/50 transition-colors duration-300",children:t.icon})}),f("div",{children:[l("h3",{className:`${Ce.size.sm} ${Ce.weight.medium} text-neutral-600 uppercase tracking-wider mb-2`,children:t.title}),l("p",{className:`${Ce.size["3xl"]} ${Ce.weight.bold} text-neutral-900 mb-3`,children:t.value}),l("p",{className:`${Ce.size.base} ${Ce.leading.relaxed} text-neutral-600`,children:t.description})]}),l("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-[#FEECC7]/20 to-transparent rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})},e))}),l(jn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.8},className:"max-w-4xl mx-auto",children:f("div",{className:"relative bg-gradient-to-br from-[#FFF8E6] via-white to-[#FFF8E6] rounded-3xl p-10 lg:p-12 border border-[#FDD89F]/50 shadow-xl",children:[l("div",{className:"absolute inset-0 bg-gradient-to-r from-[#F9A228]/5 via-transparent to-[#F9A228]/5 rounded-3xl"}),f("div",{className:"relative text-center",children:[l("h2",{className:`${Ce.size["2xl"]} ${Ce.weight.semibold} text-neutral-900 mb-4`,children:"Revolutionizing the Beauty Industry with AI"}),l("p",{className:`${Ce.size.lg} ${Ce.leading.relaxed} text-neutral-700 max-w-2xl mx-auto`,children:"Spectra AI is building the future of salon management â€“ combining cutting-edge artificial intelligence with deep industry expertise to create unprecedented value for salons worldwide."})]})]})})]}),l(jn.footer,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:1},className:"relative z-10 border-t border-[#FEECC7]/50 bg-white/50 backdrop-blur-sm",children:l("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l("div",{className:"flex justify-center",children:f(G,{to:"/",className:`
                inline-flex items-center gap-2 px-6 py-3 rounded-lg
                text-[#CC7A0D] ${Ce.weight.medium}
                bg-[#FFF8E6] hover:bg-[#FEECC7]
                border border-[#FDD89F] hover:border-[#FCC777]
                ${xN.smooth} ${id.sm}
                hover:shadow-md
              `,children:[l("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Main Site"]})})})})]})),Xi=({children:t,requiredRole:e,requireAuth:n=!0})=>{const{user:i,loading:s,isAuthenticated:r,isAdmin:a}=vi(),o=Kr();if(s)return l("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-amber-50 via-white to-orange-50",children:f("div",{className:"text-center",children:[l(wi,{}),l("p",{className:"mt-4 text-gray-600",children:"Checking permissions..."})]})});if(n&&!r)return console.log("ðŸ” Not authenticated, redirecting to login"),l(Qa,{to:"/login",state:{from:o},replace:!0});if(e){if(!i)return console.log("ðŸ” No user found, redirecting to login"),l(Qa,{to:"/login",state:{from:o},replace:!0});switch(e){case"admin":if(!a)return console.log("ðŸ” User is not admin, access denied"),l(dr,{});break;case"user":if(i.role!=="user"&&i.role!=="admin")return l(dr,{});break;case"partner":if(i.role!=="partner"&&i.role!=="admin")return l(dr,{});break}}return console.log("âœ… Access granted for user:",i==null?void 0:i.email,"role:",i==null?void 0:i.role),l(Qe,{children:t})},dr=()=>l("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-amber-50 via-white to-orange-50 px-4",children:l("div",{className:"max-w-md w-full text-center",children:f("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-8",children:[l("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),l("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),l("p",{className:"text-gray-600 mb-6",children:"You don't have permission to access this page. Please contact an administrator if you believe this is an error."}),f("div",{className:"space-y-3",children:[l("button",{onClick:()=>window.history.back(),className:"w-full bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 transform hover:scale-[1.02]",children:"Go Back"}),l("button",{onClick:()=>window.location.href="/",className:"w-full text-gray-700 hover:text-amber-600 font-medium py-3 px-6 rounded-xl border border-gray-200 hover:border-amber-600 transition-all duration-200",children:"Return to Homepage"})]})]})})});const hf=v.createContext(void 0),wN=()=>{const t=v.useContext(hf);if(!t)throw new Error("useNotifications must be used within NotificationProvider");return t},NN=({children:t})=>{const[e,n]=v.useState([]),i=v.useCallback(a=>{const o=Math.random().toString(36).substr(2,9),c={...a,id:o,duration:a.duration??5e3};n(d=>[...d,c]),c.duration&&c.duration>0&&setTimeout(()=>{s(o)},c.duration)},[]),s=v.useCallback(a=>{n(o=>o.filter(c=>c.id!==a))},[]),r=v.useCallback(()=>{n([])},[]);return f(hf.Provider,{value:{notifications:e,addNotification:i,removeNotification:s,clearAll:r},children:[t,l(kN,{})]})},kN=()=>{const{notifications:t,removeNotification:e}=wN();return t.length===0?null:l("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-sm",children:t.map(n=>l(_N,{notification:n,onClose:()=>e(n.id)},n.id))})},_N=({notification:t,onClose:e})=>{const n=()=>{switch(t.type){case"success":return l(Tg,{className:"w-6 h-6 text-green-400"});case"error":return l(jg,{className:"w-6 h-6 text-red-400"});case"warning":return l(Eg,{className:"w-6 h-6 text-yellow-400"});case"info":return l(fo,{className:"w-6 h-6 text-blue-400"});case"chat":return l(vg,{className:"w-6 h-6 text-purple-400"});default:return l(fo,{className:"w-6 h-6 text-gray-400"})}};return l("div",{className:`${(()=>{switch(t.type){case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";case"warning":return"bg-yellow-50 border-yellow-200";case"info":return"bg-blue-50 border-blue-200";case"chat":return"bg-purple-50 border-purple-200";default:return"bg-gray-50 border-gray-200"}})()} border rounded-lg p-4 shadow-lg transform transition-all duration-300 animate-in slide-in-from-right-full`,children:f("div",{className:"flex items-start",children:[l("div",{className:"flex-shrink-0",children:n()}),f("div",{className:"ml-3 flex-1",children:[l("h3",{className:"text-sm font-medium text-gray-900",children:t.title}),t.message&&l("p",{className:"mt-1 text-sm text-gray-600",children:t.message}),t.metadata&&f("div",{className:"mt-2 text-xs text-gray-500",children:[t.metadata.clientName&&f("p",{children:["From: ",t.metadata.clientName]}),t.metadata.messagePreview&&f("p",{className:"italic",children:['"',t.metadata.messagePreview,'"']}),t.metadata.channel&&f("p",{children:["Channel: ",t.metadata.channel]})]}),t.action&&l("div",{className:"mt-3",children:l("button",{onClick:t.action.onClick,className:"text-sm font-medium text-blue-600 hover:text-blue-800 transition-colors",children:t.action.label})})]}),l("div",{className:"ml-4 flex-shrink-0",children:l("button",{onClick:e,className:"inline-flex text-gray-400 hover:text-gray-600 transition-colors",children:l(Hg,{className:"w-5 h-5"})})})]})})},uf=new kt;uf.startTiming("app-init");async function SN(){try{if(console.log("ðŸ”Œ Testing API connection..."),window.location.hostname==="localhost"){console.log("âš ï¸ Preview mode - API functions not available");return}const t=await fetch("/.netlify/functions/db-check");console.log("ðŸ“¡ API Response Status:",t.status),t.ok?console.log("âœ… API Connection: Working"):console.log("âš ï¸ API Connection: Limited (some functions may not be available)")}catch(t){console.log("âŒ API Connection Failed:",t)}}SN();function CN(){const t=Kr();return v.useEffect(()=>{uf.endTiming("app-init"),console.log(`ðŸŒ Navigated to: ${t.pathname}`),typeof window<"u"&&window.gtag&&window.gtag("config","GA_MEASUREMENT_ID",{page_path:t.pathname})},[t]),null}function PN(){return v.useEffect(()=>{console.log("ðŸš€ Spectra Salon App Started")},[]),l(v.StrictMode,{children:l(Mf,{children:l(Lf,{children:l(NN,{children:f(lm,{children:[l(CN,{}),f(Tf,{children:[l(Se,{path:"/",element:l(ym,{})}),l(Se,{path:"/about",element:l(Nm,{})}),l(Se,{path:"/payments",element:l(km,{})}),l(Se,{path:"/lead-capture",element:l(_m,{})}),l(Se,{path:"/ugc-offer",element:l(Am,{})}),l(Se,{path:"/login",element:l(Dm,{})}),l(Se,{path:"/signup",element:l(Om,{})}),l(Se,{path:"/forgot-password",element:l(Rm,{})}),l(Se,{path:"/reset-password",element:l(Fm,{})}),l(Se,{path:"/investors",element:l(vN,{})}),l(Se,{path:"/profile",element:l(Xi,{children:l(Py,{})})}),l(Se,{path:"/dashboard",element:l(Xi,{requiredRole:"admin",children:l(B1,{})})}),l(Se,{path:"/admin",element:l(Xi,{requiredRole:"admin",children:l(El,{})})}),l(Se,{path:"/admin/*",element:l("div",{children:"Redirecting to admin overview..."})}),l(Se,{path:"/admin-old",element:l(Xi,{requiredRole:"admin",children:l(El,{})})})]})]})})})})})}const MN=ad(document.getElementById("root"));MN.render(l(PN,{}));
//# sourceMappingURL=index-2b34d606.js.map
